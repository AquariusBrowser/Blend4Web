
Установка и обновление
**********************


Содержание
^^^^^^^^^^

* Установка и обновление

  * Порядок установки

    * Установка программы Blender

    * Распаковка архива

    * Порядок установки SDK

    * Профиль Blend4Web

    * Локальный сервер разработки

    * Запуск просмотрщика сцен и демо-приложений

  * Обновление

    * Обновление SDK

    * Экспорт и просмотр сцены

Перед установкой необходимо загрузить и установить совместимую версию
Blender, согласно таблице.


Порядок установки
=================


Установка программы Blender
---------------------------

Создание 3D сцен осуществляется в графическом пакете Blender, который
является программным продуктом с открытым исходным кодом и
распространяется бесплатно.

Должна использоваться текущая стабильная версия Blender. Загрузить
Blender можно с официального сайта.

[рисунок]


Распаковка архива
-----------------

Стабильные версии дистрибутива поставляются в виде архива
("blend4web_sdk_free_YY_MM.zip" -- бесплатный SDK,
"blend4web_sdk_pro_YY_MM.zip" -- коммерческий SDK). Достаточно
распаковать данный архив в любое место на диске.


Порядок установки SDK
---------------------

1. Открыть Blender.

2. Вызвать окно пользовательских настроек "File > User
   Preferences...".

3. Открыть вкладку "File".

4. В поле "Scripts" прописать путь к директории SDK.

5. Нажать "Save User Settings"

6. Перезапустить Blender.

[рисунок]

*To verify it worked:*

В меню "File > Export" должны появиться опции "Blend4Web (.json)" и
"Blend4Web (.html)".

Примечание: Если вы используете только редактор нормалей, вы можете
  использовать аддон Blend4Web вместо SDK.The addon can only export
  scenes to HTML format and has limited functionality (for example, it
  doesn't have the project manger, example scenes, user manual and so
  on), but still it has everything you might need to create a simple
  application.Устанавливается так же, как любой другой аддон Blender.




Профиль Blend4Web
-----------------

Выберите профиль настроек Blend4Web в выпадающем меню верхней панели:

[рисунок]


Локальный сервер разработки
---------------------------

Настройки локального сервера разработки находятся в меню "File > User
Preferences..." (горячие клавиши "Ctrl-Alt-U"). Здесь можно изменить
номер порта, используемый при создании локального сервера разработки
(6687 по умолчанию), или включить автоматический запуск сервера при
запуске Blender'a: для этого достаточно включить опцию "Run on
Startup" в настройках аддона.

[рисунок]



После изменения настроек локального сервера разработчика требуется
перезапуск Blender'a.

Имеется возможность сделать локальный сервер доступным из внешней
сети. Для этого достаточно включить свойство "Enable External
Requests".

Если не был настроен автоматический запуск сервера, то его можно
стартовать вручную по кнопке "Start Server" во вкладке
"Render->Developement Server":

[рисунок]



Примечание: Если путь к Blend4Web SDK не был указан, запуск
  локального сервера невозможен. При этом вместо кнопки "Start Server"
  будет выведено соответствующее сообщение.В случае ошибки запуска
  сервера будет показано окно с описанием причины:[рисунок]Чаще всего
  ошибка возникает из-за того, что указанный серверу адрес уже
  используется другим приложением.

Нажмите кнопку "SDK Index" для запуска в браузере обзорной
веб-страницы Blend4Web SDK, доступной по адресу http://localhost:6687.

[рисунок]



При этом будет автоматически запущен браузер, используемой в
операционной системе по умолчанию.

Кнопка "Project Manager" открывает менеджер проектов.

Кнопка "Fast Preview" вызывает просмотрщик сцен и загружает в него
сцену, открытую в Blender на данный момент.

Сервер может быть остановлен по нажатию на кнопку "Stop Server".
Сервер также прекращает работу при закрытии программы Blender.


Запуск просмотрщика сцен и демо-приложений
------------------------------------------

На обзорной странице имеются ссылки для запуска просмотрщика сцен и
демо-приложений. Для их запуска необходим браузер с поддержкой WebGL.

[рисунок]



Примечание: Если приложения SDK не отображаются корректно, или
  появляются сообщения об ошибках, необходимо предпринять действия,
  описанные в разделе Проблемы при запуске движка.


Обновление
==========


Обновление SDK
--------------

Перед обновлением рекомендуется создать резервные копии всех
разрабатываемых проектов с помощью средств экспорта.

Обновление может производиться одним из двух способов.

Во-первых, вы можете полностью удалить каталог SDK, после чего
распаковать каталог с новой версией и прописать путь к ней в
настройках Blender, как если бы вы устанавливали SDK с нуля.

Во-вторых, вы можете просто перезаписать устаревшие файлы SDK новыми.
Этот подход считается менее "чистым", но в большинстве случаев не
должен приводить к проблемам.

После того, как обновление выполнено, сохранённые проекты можно
импортировать с помощью средств импорта проектов.


Экспорт и просмотр сцены
------------------------

Созданную сцену можно экспортировать в форматы HTML и JSON. Для этого
нужно выбрать опцию "File > Export > Blend4Web (.html)" или "File >
Export > Blend4Web (.json)" и указать путь экспорта. Экспорт сцен
подробно описан в отдельной главе. Полученный файл можно открыть любым
браузером, поддерживающим технологию WebGL.

См.также: Поддержка WebGL в браузерах


