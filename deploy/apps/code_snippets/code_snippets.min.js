b4w.register("code_snippets",function(q,p){function x(){for(var h=document.getElementById("schedule"),b=0;b<d.length;b++){var k=document.createElement("div");k.className="container";var f=document.createElement("a");f.className=b==l?"inv_text":"text";f.textContent=d[b].dataset.name;f.id=d[b].dataset.scene;k.appendChild(f);h.appendChild(k);f.href=window.location.href.split("?")[0]+"?scene="+f.id}document.getElementById("open_script").onclick=function(){var b=document.getElementById("code_panel");b.style.visibility=
"visible";document.getElementById("code_close").onclick=function(e){b.style.visibility="hidden"};var f=d[l],e=new XMLHttpRequest;e.overrideMimeType("text/plain");e.open("GET",f.src,!0);e.onreadystatechange=function(){if(4==e.readyState&&(200==e.status||0==e.status)){var b=e.response;if(b){var h=document.getElementById("code_text_html"),d=document.getElementById("code_text_js"),k='<!DOCTYPE html>\n<html>\n<head>\n<style type="text/css">\n    #canvas_cont {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n    }\n</style>\n\n<script src="b4w.full.min.js">\x3c/script>\n<script src="'+
f.src.split("/").slice(-1)+'">\x3c/script>\n</head>\n\n<body>\n    <div id="canvas_cont"></div>\n</body>\n\n</html>\n\n',b=b+'b4w.require("'+f.dataset.scene+'").init();';Rainbow.color(k,"html",function(b){h.innerHTML=b;h.parentNode.addEventListener("mousedown",function(a){this.className="active";d.parentNode.className=""})});Rainbow.color(b,"javascript",function(b){d.innerHTML=b;d.parentNode.addEventListener("mousedown",function(a){this.className="active";h.parentNode.className=""})})}}};e.send(null)};
document.getElementById("auto_view").onclick=function(){var b=r.get_url_params();b&&b.autoview?window.history.pushState("","",window.location.href.split("&")[0]):t()}}function u(){var h=r.get_url_params();h&&h.autoview&&(w.is_primary_loaded()?t():setTimeout(function(){u(h)},3E3))}function t(){l>=d.length-1||(window.location.href=window.location.href.split("?")[0]+"?scene="+d[l+1].dataset.scene+"&autoview=true")}var r=p("app"),w=p("data"),d=null,l=0;q.init=function(){d=document.querySelectorAll("[data-name]");
var h=r.get_url_params();if(h&&h.scene)for(var b=0;b<d.length;b++)if(d[b].dataset.scene==h.scene){l=b;break}d[l].dataset.styles&&(h=document.getElementsByTagName("head")[0],b=document.createElement("link"),b.id=d[l].dataset.scene+".css",b.rel="stylesheet",b.type="text/css",b.href="css/"+b.id,b.media="all",h.appendChild(b));b4w.require(d[l].dataset.scene).init();x();u()}});var module=b4w.require("code_snippets");document.addEventListener("DOMContentLoaded",function(){module.init()},!1);window.Rainbow=function(){function q(a){var c,g=a.getAttribute&&a.getAttribute("data-language")||0;if(!g)for(a=a.attributes,c=0;c<a.length;++c)if("data-language"===a[c].nodeName)return a[c].nodeValue;return g}function p(a){var c=q(a)||q(a.parentNode);if(!c){var g=/\blang(?:uage)?-(\w+)/;(a=a.className.match(g)||a.parentNode.className.match(g))&&(c=a[1])}return c}function x(a,c){for(var g in f[e]){g=parseInt(g,10);if(a==g&&c==f[e][g]?0:a<=g&&c>=f[e][g])delete f[e][g],delete k[e][g];if(a>=g&&a<f[e][g]||
c>g&&c<f[e][g])return!0}return!1}function u(a,c){return'<span class="'+a.replace(/\./g," ")+(y?" "+y:"")+'">'+c+"</span>"}function t(a,c,g,b){if("undefined"===typeof a||null===a)b();else{var m=a.exec(g);if(m){++C;!c.name&&"string"==typeof c.matches[0]&&(c.name=c.matches[0],delete c.matches[0]);var h=m[0],d=m.index,E=m[0].length+d,F=function(){function m(){t(a,c,g,b)}0<C%100?m():setTimeout(m,0)};if(x(d,E))F();else{var q=r(c.matches),p=function(a,g,b){if(a>=g.length)b(h);else{var e=m[g[a]];if(e){var d=
c.matches[g[a]],f=d.language,n=d.name&&d.matches?d.matches:d,k=function(c,e,d){var n;n=0;var f;for(f=1;f<g[a];++f)m[f]&&(n+=m[f].length);e=d?u(d,e):e;h=h.substr(0,n)+h.substr(n).replace(c,e);p(++a,g,b)};f?l(e,f,function(a){k(e,a)}):"string"===typeof d?k(e,e,d):w(e,n.length?n:[n],function(a){k(e,a,d.matches?d.name:0)})}else p(++a,g,b)}};p(0,q,function(a){c.name&&(a=u(c.name,a));k[e]||(k[e]={},f[e]={});k[e][d]={replace:m[0],"with":a};f[e][d]=E;F()})}}else b()}}function r(a){var c=[],g;for(g in a)a.hasOwnProperty(g)&&
c.push(g);return c.sort(function(a,c){return c-a})}function w(a,c,g){function b(c,h){h<c.length?t(c[h].pattern,c[h],a,function(){b(c,++h)}):d(a,function(a){delete k[e];delete f[e];--e;g(a)})}++e;b(c,0)}function d(a,c){function g(a,c,b,d){if(b<c.length){++D;var f=c[b],h=k[e][f];a=a.substr(0,f)+a.substr(f).replace(h.replace,h["with"]);f=function(){g(a,c,++b,d)};0<D%250?f():setTimeout(f,0)}else d(a)}var b=r(k[e]);g(a,b,0,c)}function l(a,c,g){var b=v[c]||[],e=v[A]||[];c=B[c]?b:b.concat(e);w(a.replace(/</g,
"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;"),c,g)}function h(a,c,b){if(c<a.length){var e=a[c],d=p(e);return-1<(" "+e.className+" ").indexOf(" rainbow ")||!d?h(a,++c,b):(d=d.toLowerCase(),e.className+=e.className?" rainbow":"rainbow",l(e.innerHTML,d,function(l){e.innerHTML=l;k={};f={};z&&z(e,d);setTimeout(function(){h(a,++c,b)},0)}))}b&&b()}function b(a,c){a=a&&"function"==typeof a.getElementsByTagName?a:document;var b=a.getElementsByTagName("pre"),e=a.getElementsByTagName("code"),
d,f=[],k=[];for(d=0;d<b.length;++d)b[d].getElementsByTagName("code").length?b[d].innerHTML=b[d].innerHTML.replace(/^\s+/,"").replace(/\s+$/,""):f.push(b[d]);for(d=0;d<e.length;++d)k.push(e[d]);h(k.concat(f),0,c)}var k={},f={},v={},B={},e=0,A=0,C=0,D=0,y,z;return{extend:function(a,b,d){1==arguments.length&&(b=a,a=A);B[a]=d;v[a]=b.concat(v[a]||[])},b:function(a){z=a},a:function(a){y=a},color:function(a,c,d){if("string"==typeof a)return l(a,c,d);if("function"==typeof a)return b(0,a);b(a,c)}}}();
document.addEventListener?document.addEventListener("DOMContentLoaded",Rainbow.color,!1):window.attachEvent("onload",Rainbow.color);Rainbow.onHighlight=Rainbow.b;Rainbow.addClass=Rainbow.a;
Rainbow.extend([{matches:{1:[{name:"keyword.operator",pattern:/\=|\+/g},{name:"keyword.dot",pattern:/\./g}],2:{name:"string",matches:{name:"constant.character.escape",pattern:/\\('|"){1}/g}}},pattern:/(\(|\s|\[|\=|:|\+|\.|\{)(('|")([^\\\1]|\\.)*?(\3))/gm},{name:"comment",pattern:/\/\*[\s\S]*?\*\/|(\/\/|\#)[\s\S]*?$/gm},{name:"constant.numeric",pattern:/\b(\d+(\.\d+)?(e(\+|\-)?\d+)?(f|d)?|0x[\da-f]+)\b/gi},{matches:{1:"keyword"},pattern:/\b(and|array|as|b(ool(ean)?|reak)|c(ase|atch|har|lass|on(st|tinue))|d(ef|elete|o(uble)?)|e(cho|lse(if)?|xit|xtends|xcept)|f(inally|loat|or(each)?|unction)|global|if|import|int(eger)?|long|new|object|or|pr(int|ivate|otected)|public|return|self|st(ring|ruct|atic)|switch|th(en|is|row)|try|(un)?signed|var|void|while)(?=\(|\b)/gi},
{name:"constant.language",pattern:/true|false|null/g},{name:"keyword.operator",pattern:/\+|\!|\-|&(gt|lt|amp);|\||\*|\=/g},{matches:{1:"function.call"},pattern:/(\w+?)(?=\()/g},{matches:{1:"storage.function",2:"entity.name.function"},pattern:/(function)\s(.*?)(?=\()/g}]);
Rainbow.extend("javascript",[{name:"selector",pattern:/(\s|^)\$(?=\.|\()/g},{name:"support",pattern:/\b(window|document)\b/g},{matches:{1:"support.property"},pattern:/\.(length|node(Name|Value))\b/g},{matches:{1:"support.function"},pattern:/(setTimeout|setInterval)(?=\()/g},{matches:{1:"support.method"},pattern:/\.(getAttribute|push|getElementById|getElementsByClassName|log|setTimeout|setInterval)(?=\()/g},{name:"string.regexp",matches:{1:"string.regexp.open",2:{name:"constant.regexp.escape",pattern:/\\(.){1}/g},
3:"string.regexp.close",4:"string.regexp.modifier"},pattern:/(\/)(?!\*)(.+)(\/)([igm]{0,3})/g},{matches:{1:"storage",3:"entity.function"},pattern:/(var)?(\s|^)(\S*)(?=\s?=\s?function\()/g},{matches:{1:"keyword",2:"entity.function"},pattern:/(new)\s+(.*)(?=\()/g},{name:"entity.function",pattern:/(\w+)(?=:\s{0,}function)/g}]);
Rainbow.extend("html",[{name:"source.php.embedded",matches:{2:{language:"php"}},pattern:/&lt;\?=?(?!xml)(php)?([\s\S]*?)(\?&gt;)/gm},{name:"source.css.embedded",matches:{1:{matches:{1:"support.tag.style",2:[{name:"entity.tag.style",pattern:/^style/g},{name:"string",pattern:/('|")(.*?)(\1)/g},{name:"entity.tag.style.attribute",pattern:/(\w+)/g}],3:"support.tag.style"},pattern:/(&lt;\/?)(style.*?)(&gt;)/g},2:{language:"css"},3:"support.tag.style",4:"entity.tag.style",5:"support.tag.style"},pattern:/(&lt;style.*?&gt;)([\s\S]*?)(&lt;\/)(style)(&gt;)/gm},
{name:"source.js.embedded",matches:{1:{matches:{1:"support.tag.script",2:[{name:"entity.tag.script",pattern:/^script/g},{name:"string",pattern:/('|")(.*?)(\1)/g},{name:"entity.tag.script.attribute",pattern:/(\w+)/g}],3:"support.tag.script"},pattern:/(&lt;\/?)(script.*?)(&gt;)/g},2:{language:"javascript"},3:"support.tag.script",4:"entity.tag.script",5:"support.tag.script"},pattern:/(&lt;script(?! src).*?&gt;)([\s\S]*?)(&lt;\/)(script)(&gt;)/gm},{name:"comment.html",pattern:/&lt;\!--[\S\s]*?--&gt;/g},
{matches:{1:"support.tag.open",2:"support.tag.close"},pattern:/(&lt;)|(\/?\??&gt;)/g},{name:"support.tag",matches:{1:"support.tag",2:"support.tag.special",3:"support.tag-name"},pattern:/(&lt;\??)(\/|\!?)(\w+)/g},{matches:{1:"support.attribute"},pattern:/([a-z-]+)(?=\=)/gi},{matches:{1:"support.operator",2:"string.quote",3:"string.value",4:"string.quote"},pattern:/(=)('|")(.*?)(\2)/g},{matches:{1:"support.operator",2:"support.value"},pattern:/(=)([a-zA-Z\-0-9]*)\b/g},{matches:{1:"support.attribute"},
pattern:/\s(\w+)(?=\s|&gt;)(?![\s\S]*&lt;)/g}],!0);
Rainbow.extend("css",[{name:"comment",pattern:/\/\*[\s\S]*?\*\//gm},{name:"constant.hex-color",pattern:/#([a-f0-9]{3}|[a-f0-9]{6})(?=;|\s|,|\))/gi},{matches:{1:"constant.numeric",2:"keyword.unit"},pattern:/(\d+)(px|em|cm|s|%)?/g},{name:"string",pattern:/('|")(.*?)\1/g},{name:"support.css-property",matches:{1:"support.vendor-prefix"},pattern:/(-o-|-moz-|-webkit-|-ms-)?[\w-]+(?=\s?:)(?!.*\{)/g},{matches:{1:[{name:"entity.name.sass",pattern:/&amp;/g},{name:"direct-descendant",pattern:/&gt;/g},{name:"entity.name.class",
pattern:/\.[\w\-_]+/g},{name:"entity.name.id",pattern:/\#[\w\-_]+/g},{name:"entity.name.pseudo",pattern:/:[\w\-_]+/g},{name:"entity.name.tag",pattern:/\w+/g}]},pattern:/([\w\ ,\n:\.\#\&\;\-_]+)(?=.*\{)/g},{matches:{2:"support.vendor-prefix",3:"support.css-value"},pattern:/(:|,)\s*(-o-|-moz-|-webkit-|-ms-)?([a-zA-Z-]*)(?=\b)(?!.*\{)/g}],!0);
