/**
 * Copyright (C) 2014-2016 Triumph LLC
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
b4w.module["shader_texts"] = function(exports, require) {exports["anchors.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";","}"]}]},exports["anchors.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ANCHOR_NUM",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec3","u_position","[","ANCHOR_NUM","]",";","uniform","mat4","u_view_proj_matrix",";","GLSL_IN","float","a_index",";","void","main","(",")","{","gl_Position","=","u_view_proj_matrix","*","vec4","(","u_position","[","int","(","a_index",")","]",",","1.0",")",";","gl_PointSize","=","4.0",";","}"]}]},exports["color_id.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"USE_OUTLINE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LFACTORS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";","uniform","float","u_alpha_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_color_id",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map0",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map1",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map2",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map3",";","uniform","sampler2D","u_shadow_mask",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_outline_intensity",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";","GLSL_IN","vec4","d",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","j",";","GLSL_IN","vec4","k",";","GLSL_IN","vec4","l",";","GLSL_IN","vec4","m",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","u","=","u_camera_eye_frag","-","c",";","vec3","v","=","normalize","(","u",")",";","vec3","A",";","vec3","B",";","vec3","C",";","vec4","D",";","float","E",";","mat3","F","=","mat3","(","0.0",")",";","mat3","G","=","mat3","(","0.0",")",";","mat3","H","=","mat3","(","0.0",")",";","mat3","I","=","mat3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["F","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["G","=","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["H","=","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["I","=","u_model_tsr_inverse",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(","v",",","F",",","G",",","H",",","I",",","A",",","B",",","C",",","D",",","E",")",";","float","L","=","E",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","(","GLSL_TEXTURE","(","u_sampler",",","n",")",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","M","=","u_alpha_factor","*","L",";","M","+=","(","1.0","-","step","(","0.0",",","M",")",")",";","L","=","mix","(","M",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";","L","=","1.0",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","u_outline_intensity",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","u_color_id",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["color_id.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"CALC_TBN",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat_next",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","c",";","GLSL_OUT","vec4","d",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","i",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]}]}}]},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","vec3","O","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6},{TYPE:"logical_and_expr",PLACES:3},"USE_TBN_SHADING","CALC_TBN",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","P","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","S","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","Q",",","R",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";","vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","T","=","u_model_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","normalize","(","U","(","u_model_tsr",",","Q",")",")",";","vec3","W","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","V",")",";","vec3","X","=","cross","(","V",",","W",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Y","=","P","(","a_tbn_quat_next",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","Q","=","mix","(","Q",",","Y",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Z","=","P","(","a_tbn_quat_next",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","_","=","sign","(","a_tbn_quat_next","[","3","]",")","*","cross","(","Y",",","Z",")",";","R","=","mix","(","R",",","Z",",","u_va_frame_factor",")",";","S","=","mix","(","S",",","_",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ac","(","O",",","R",",","S",",","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","au_center_pos",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","af","=","ae","(","T",",","ad",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ah","(","u_camera_eye",",","af",",","N",",","T",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ai","(","u_camera_eye",",","af",",","N",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aj","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","af",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","O","-","ad",",","ad",",","vec3","(","0.0",")",",","X",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";","am",".","ad","=","af",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","O",",","ad",",","vec3","(","0.0",")",",","X",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["an","(","am",".","O",",","am",".","ad",",","Q",",","mat4","(","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["an","(","am",".","O",",","am",".","ad",",","ao",",","mat4","(","0.0",")",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","ap","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["c","=","am",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","=","am",".","Q",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aq","=","(","dot","(","cross","(","am",".","Q",",","am",".","R",")",",","am",".","S",")","<","0.0",")","?","-","1.0",":","1.0",";","f","=","vec4","(","am",".","R",",","aq",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["o","=","am",".","as",";"]}]}}]},{TYPE:"txt",TOKENS:["d","=","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";","vec4","at","=","u_proj_matrix","*","d",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["at",".","xy","+=","u_subpixel_jitter","*","at",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","au","=","at",".","x",";","float","av","=","at",".","y",";","float","aw","=","at",".","w",";","h",".","x","=","(","au","+","aw",")","/","2.0",";","h",".","y","=","(","av","+","aw",")","/","2.0",";","h",".","z","=","aw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","-","d",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","u_proj_matrix","*","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";","}"]}]},exports["debug_view.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DEBUG_SPHERE",TOKENS:["0"]},{TYPE:"var",NAME:"WIREFRAME_QUALITY",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_SPHERE_DYNAMIC",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_debug_view_mode",";","uniform","float","u_cluster_id",";","uniform","float","u_batch_debug_id_color",";","uniform","float","u_batch_debug_main_render_time",";","uniform","float","u_debug_colors_seed",";","uniform","float","u_debug_render_time_threshold",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","ax",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","const","float","ay","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE_DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","az","=","vec3","(","1.0",",","0.05",",","0.05",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","az","=","vec3","(","0.05",",","0.05",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","aA","=","vec3","(","0.4",",","0.4",",","1.0",")",";","const","vec3","aB","=","vec3","(","1.0",",","0.4",",","0.4",")",";","const","vec3","aC","=","vec3","(","1.0",",","1.0",",","1.0",")",";","const","vec3","aD","=","vec3","(","0.0",",","133.0","/","255.0",",","66.0","/","255.0",")",";","const","vec3","aE","=","vec3","(","160.0","/","255.0",",","38.0","/","255.0",",","33.0","/","255.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aJ","(",")","{","float","aF","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIREFRAME_QUALITY",0,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aG","=","sign","(","ax","-","vec3","(","0.02","*","ay",")",")",";","if","(","aG",".","x","<","0.0","||","aG",".","y","<","0.0","||","aG",".","z","<","0.0",")","aF","=","0.0",";"]}]}},{TYPE:"elif",EXPRESSION:["WIREFRAME_QUALITY",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"txt",TOKENS:["vec3","aH","=","fwidth","(","ax",")",";","vec3","aI","=","smoothstep","(","vec3","(","0.0",")",",","aH","*","ay",",","ax",")",";","aF","=","min","(","min","(","aI",".","x",",","aI",".","y",")",",","aI",".","z",")",";","aF","=","clamp","(","aF",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aF",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","aK","=","vec3","(","0.0",")",";","float","L","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aG","=","sign","(","ax","-","vec3","(","0.02","*","ay",")",")",";","if","(","aG",".","x","<","0.0","||","aG",".","y","<","0.0","||","aG",".","z","<","0.0",")","{","aK","=","az",";","L","=","1.0",";","}","else","discard",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_debug_view_mode","==","DV_OPAQUE_WIREFRAME",")","{","float","aF","=","aJ","(",")",";","aK","=","vec3","(","mix","(","u_wireframe_edge_color",",","aC",",","aF",")",")",";","L","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_TRANSPARENT_WIREFRAME",")","{","float","aF","=","aJ","(",")",";","aK","=","u_wireframe_edge_color",";","L","=","mix","(","1.0",",","0.0",",","aF",")",";","}","else","if","(","u_debug_view_mode","==","DV_FRONT_BACK_VIEW",")","{","float","aF","=","aJ","(",")",";","if","(","gl_FrontFacing",")","aK","=","mix","(","u_wireframe_edge_color",",","aA",",","aF",")",";","else","aK","=","mix","(","u_wireframe_edge_color",",","aB",",","aF",")",";","L","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_CLUSTERS_VIEW",")","{","float","aL","=","u_cluster_id","+","u_debug_colors_seed","+","2.0",";","aK","=","vec3","(","fract","(","aL","*","19.73",")",",","fract","(","aL","*","6.34",")",",","fract","(","aL","*","1.56",")",")",";","L","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_BATCHES_VIEW",")","{","float","aL","=","u_batch_debug_id_color","+","u_debug_colors_seed",";","aK","=","vec3","(","fract","(","aL","*","19.73",")",",","fract","(","aL","*","6.34",")",",","fract","(","aL","*","1.56",")",")",";","L","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_RENDER_TIME",")","{","float","aM",";","if","(","u_debug_render_time_threshold",">","0.0",")","aM","=","clamp","(","u_batch_debug_main_render_time",",","0.0",",","u_debug_render_time_threshold",")","/","u_debug_render_time_threshold",";","else","aM","=","1.0",";","float","aN","=","clamp","(","2.0","*","aM",",","0.0",",","1.0",")",";","float","aO","=","clamp","(","2.0","*","aM","-","1.0",",","0.0",",","1.0",")",";","float","aP","=","aM",";","aK","=","mix","(","aD",",","aE",",","vec3","(","aN",",","aO",",","aP",")",")",";","L","=","1.0",";","}"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["debug_view.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_VIEW_SPECIAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_SPHERE",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn_quat",";","GLSL_IN","float","a_polyindex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","ax",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"include",FILE:"dynamic_grass.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","if","(","a_polyindex","==","0.0",")","ax","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","ax","=","vec3","(","0.0",",","1.0",",","0.0",")",";","else","if","(","a_polyindex","==","2.0",")","ax","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_VIEW_SPECIAL_SKYDOME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["gl_Position","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aS","(","u_model_tsr",",","T",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr",";","vec3","O","=","a_position",";","vec3","Q","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","O",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";","ac","(","O",",","R",",","S",",","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","a_part_ts",".","xyz",";","O","=","ae","(","T",",","O",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","aT","(","O",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","ad",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","N",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","af","=","ae","(","T",",","ad",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ah","(","u_camera_eye",",","af",",","N",",","T",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ai","(","u_camera_eye",",","af",",","N",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aU","=","af",";","T","=","aj","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","aU",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","O","-","ad",",","ad",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";","am",".","ad","=","af",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","O",",","ad",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["an","(","am",".","O",",","am",".","ad",",","Q",",","mat4","(","0.0",")",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","u_proj_matrix","*","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["error.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","0.0",",","1.0",",","1.0",")",";","}"]}]},exports["error.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","void","main","(",")","{","gl_Position","=","u_proj_matrix","*","aV","(","u_view_tsr",")","*","vec4","(","a_position",",","1.0",")",";","}"]}]},exports["grass_map.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_SIZE",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_COLOR",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","aW",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","aW",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","aW",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","aW",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aW",",","vec3","(","1.0",")",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","aW",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["grass_map.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_SIZE",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_grass_size",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_grass_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","aW",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","aW",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","aW",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";","uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","mat3","T","=","u_model_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","af","=","ae","(","T",",","vec3","(","0.0",")",")",";","mat3","T","=","ai","(","u_camera_eye",",","af",",","N",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aj","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","vec3","(","0.0",")",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";","am",".","ad","=","af",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","at","=","u_proj_matrix","*","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aW","=","vec4","(","a_grass_size",",","a_grass_color",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aW","=","a_grass_size",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aW","=","a_grass_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","}"]}]},exports["halo.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec3","u_halo_rings_color",";","uniform","vec3","u_halo_lines_color",";","uniform","float","u_halo_hardness",";","uniform","float","u_halo_size",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";","uniform","float","u_cam_water_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS","WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","aX",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";","GLSL_IN","float","aY",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"halo_color.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","a_","=","aZ","(",")",";","vec3","aK","=","a_",".","rgb",";","float","aG","=","a_",".","a",";","aQ","(","aK",")",";","aR","(","aK",",","aG",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","aG",")",";","}"]}]},exports["halo.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","PRECISION","float","u_halo_size",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec2","a_halo_bb_vertex",";","GLSL_IN","float","a_random_vals",";","GLSL_OUT","vec2","n",";","GLSL_OUT","float","aY",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","aX",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","mat3","T","=","u_model_tsr",";","vec3","O","=","ae","(","T",",","a_position",")",";","n","=","a_halo_bb_vertex","*","2.0",";","aY","=","a_random_vals",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bd","=","bc","(","O",",","N",")",";","mat3","be","=","N",";","be","[","0","]","[","0","]","=","0.0",";","be","[","0","]","[","1","]","=","0.0",";","be","[","0","]","[","2","]","=","0.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bd","=","bc","(","O",",","N",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","bf","=","a_halo_bb_vertex","*","2.0","*","u_halo_size",";","vec3","bh","=","vec3","(","bf","[","0","]",",","0.0",",","bf","[","1","]",")",";","vec3","bi","=","ae","(","bd",",","bh",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","at","=","u_proj_matrix","*","vec4","(","ae","(","be",",","bi",")",",","1.0",")",";","at",".","z","=","0.99999","*","at",".","w",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aX","=","vec4","(","bi",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","at","=","u_proj_matrix","*","vec4","(","ae","(","N",",","bi",")",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","}"]}]},exports["line.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec3","aK","=","u_diffuse_color",".","xyz",";","float","L","=","u_diffuse_color",".","a",";","aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["line.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec3","a_direction",";","uniform","mat3","u_model_tsr",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","float","u_height",";","uniform","float","u_line_width",";","void","main","(",")","{","mat3","N","=","u_view_tsr",";","mat3","T","=","u_model_tsr",";","ak","am","=","al","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","normalize","(","a_direction",")",",","T",")",";","vec4","bj","=","u_proj_matrix","*","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";","bj",".","xyz","/=","bj",".","w",";","vec2","bk","=","(","u_proj_matrix","*","vec4","(","U","(","N",",","am",".","Q",")",",","0.0",")",")",".","xy",";","float","bl","=","M_PI","/","2.0",";","mat2","bm","=","mat2","(","cos","(","bl",")",",","sin","(","bl",")",",","-","sin","(","bl",")",",","cos","(","bl",")",")",";","bk","=","bm","*","normalize","(","bk",")",";","vec2","bn","=","(","u_line_width","/","u_height",")","*","vec2","(","u_proj_matrix","[","0","]","[","0","]","/","u_proj_matrix","[","1","]","[","1","]",",","1.0",")",";","gl_Position","=","vec4","(","bj",".","xy","+","bk",".","xy","*","bn","/","2.0",",","bj",".","z",",","1.0",")",";","gl_Position","*=","bj",".","w",";","}"]}]},exports["main.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"WETTABLE",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LFACTORS",TOKENS:["0"]},{TYPE:"var",NAME:"SSAO_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sun_quaternion",";","uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION","REFRACTIVE","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","i",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"nodes.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bo","=","length","(","d",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bp","=","c",".","z","-","WATER_LEVEL",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","u","=","normalize","(","u_camera_eye_frag","-","c",")",";","vec3","A",";","vec3","B",";","vec3","C",";","vec4","D",";","float","E",";","mat3","F","=","mat3","(","0.0",")",";","mat3","G","=","mat3","(","0.0",")",";","mat3","H","=","mat3","(","0.0",")",";","mat3","I","=","mat3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["F","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["G","=","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["H","=","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["I","=","u_model_tsr_inverse",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(","u",",","F",",","G",",","H",",","I",",","A",",","B",",","C",",","D",",","E",")",";","vec3","aK","=","A",";","float","L","=","E",";","vec3","Q","=","C",";","vec4","bq","=","D",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WETTABLE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","max","(","aK","-","sqrt","(","0.01","*","-","min","(","bp",",","0.0",")",")",",","0.5","*","aK",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bs","(","aK",",","bp",",","u_time",",","bq",",","Q",",","u_sun_direction",",","u_sun_intensity",",","u_sun_quaternion",",","c",",","bo",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";","L","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bt","(","aK",",","bo",",","u",",","bp",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bt","(","aK",",","bo",",","u",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_ONLY","SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bu","=","GLSL_TEXTURE_PROJ","(","u_shadow_mask",",","h",")",".","a",";","aK","=","vec3","(","bu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["main.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","CALC_TBN","TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:10}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat_next",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"WATER_EFFECTS","CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bv",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bw",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_view_refl_matrix",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_offset",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"include",FILE:"dynamic_grass.glslv"},{TYPE:"include",FILE:"shadow.glslv"},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bx","=","u_view_refl_matrix",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bx","=","mat4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aS","(","u_model_tsr",",","T",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","O","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_TBN_SHADING","CALC_TBN",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","by","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"NODES",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","by",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","P","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","S","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","Q",",","R",")",";"]}]}},{TYPE:"elif",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bz","=","ae","(","T",",","O",")",";","vec3","V","=","normalize","(","U","(","T",",","by",")",")",";","vec3","u","=","bz","-","u_camera_eye",";","vec3","S","=","cross","(","u",",","V",")",";","vec3","R","=","cross","(","V",",","S",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","normalize","(","U","(","T",",","by",")",")",";","vec3","W","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","V",")",";","vec3","X","=","cross","(","V",",","W",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bA","=","P","(","a_tbn_quat_next",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Q","=","mix","(","Q",",","bA",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Z","=","P","(","a_tbn_quat_next",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","_","=","sign","(","a_tbn_quat_next","[","3","]",")","*","cross","(","bA",",","Z",")",";","R","=","mix","(","R",",","Z",",","u_va_frame_factor",")",";","S","=","mix","(","S",",","_",",","u_va_frame_factor",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ac","(","O",",","R",",","S",",","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","a_part_ts",".","xyz",";","O","=","ae","(","T",",","O",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","aT","(","O",",","R",",","X",",","S",",","Q",",","ad",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","N",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","af","=","ae","(","T",",","ad",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","(","bx","*","vec4","(","O",",","1.0",")",")",".","xyz",";","ad","=","(","bx","*","vec4","(","ad",",","1.0",")",")",".","xyz",";","af","=","(","bx","*","vec4","(","af",",","1.0",")",")",".","xyz",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ah","(","u_camera_eye",",","af",",","N",",","T",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ai","(","u_camera_eye",",","af",",","N",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aU","=","af",";","T","=","aj","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","aU",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","O","-","ad",",","ad",",","R",",","X",",","S",",","Q",",","T",")",";","am",".","ad","=","af",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","O",",","ad",",","R",",","X",",","S",",","Q",",","T",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aq","=","(","dot","(","cross","(","am",".","Q",",","am",".","R",")",",","am",".","S",")","<","0.0",")","?","-","1.0",":","1.0",";","f","=","vec4","(","am",".","R",",","aq",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["o","=","am",".","as",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["an","(","am",".","O",",","am",".","ad",",","Q",",","bx",")",";"]}]}}]},{TYPE:"txt",TOKENS:["c","=","am",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","=","am",".","Q",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bv","=","u_camera_eye","-","am",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","ap","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bw","=","am",".","aK",";"]}]}},{TYPE:"elif",EXPRESSION:["VERTEX_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bw","=","a_color",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bB","=","bx","*","vec4","(","am",".","O",",","1.0",")",";","bB",".","xyz","=","ae","(","N",",","bB",".","xyz",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bB","=","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"WATER_EFFECTS","CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d","=","bB",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","at","=","u_proj_matrix","*","bB",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["at",".","xy","+=","u_subpixel_jitter","*","at",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["h","=","bC","(","at",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bD","(","am",".","O",",","am",".","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","-","bB",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","(",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","}"]}]},exports["main_stack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"TEXTURE_SPEC_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR0_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"TEXTURE_COLOR1_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_SPEC",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_AS_SPEC",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_STENCIL_ALPHA_MASK",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_STENCIL_ALPHA_MASK_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"WETTABLE",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LFACTORS",TOKENS:["0"]},{TYPE:"var",NAME:"INVERT_FRONTFACING",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"PARALLAX_LOD_DIST",TOKENS:["5.0"]},{TYPE:"var",NAME:"PARALLAX_STEPS",TOKENS:["5.0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"var",NAME:"SSAO_ONLY",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sun_quaternion",";","uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC","ALPHA_AS_SPEC",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_specmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap1",";","uniform","sampler2D","u_stencil0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";","uniform","float","u_specular_alpha",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_reflect_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_diffuse_color_factor",";","uniform","float","u_alpha_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_specular_color_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_parallax_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_refr_bump",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";","GLSL_IN","vec3","e",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","f",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bv",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","i",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"lighting_nodes.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bo","=","length","(","d",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bp","=","c",".","z","-","WATER_LEVEL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bE","=","n",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","bF","=","normalize","(","e",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["INVERT_FRONTFACING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","gl_FrontFacing",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["bF","=","bF",";","else","bF","=","-","bF",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","S","=","cross","(","bF",",","f",".","xyz",")","*","f",".","w",";","S","=","normalize","(","S",")",";","vec3","R","=","cross","(","S",",","bF",")","*","f",".","w",";","mat3","bG","=","mat3","(","R",",","S",",","bF",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bH","=","normalize","(","U","(","N",",","e",")",")",".","st",";","bH","=","bH","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","bo","<","PARALLAX_LOD_DIST",")","{","float","bI","=","clamp","(","0.5","*","(","PARALLAX_LOD_DIST","-","bo",")",",","0.0",",","1.0",")",";","float","bJ","=","u_parallax_scale","*","bI",";","vec3","bK","=","normalize","(","bv","*","bG",")",";","float","bL","=","1.0","/","PARALLAX_STEPS",";","vec2","bM","=","bK",".","xy","*","bJ","/","(","PARALLAX_STEPS","*","bK",".","z",")",";","float","bN","=","1.0",";","float","bO",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bP","=","bH",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bP","=","bE",";"]}]}}]},{TYPE:"txt",TOKENS:["bO","=","GLSL_TEXTURE","(","u_normalmap0",",","bP",")",".","a",";","for","(","float","bQ","=","1.0",";","bQ","<=","PARALLAX_STEPS",";","bQ","++",")","{","if","(","bO","<","bN",")","{","bN","-=","bL",";","bP","-=","bM",";","bO","=","GLSL_TEXTURE","(","u_normalmap0",",","bP",")",".","a",";","}","}","vec2","bR","=","bP","+","bM",";","float","bS","=","GLSL_TEXTURE","(","u_normalmap0",",","bR",")",".","a","-","(","bN","+","bL",")",";","float","bT","=","bO","-","bN",";","float","bU","=","bT","/","(","bT","-","bS",")",";","bP","=","bU","*","bR","+","(","1.0","-","bU",")","*","bP",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bE","+=","bP","-","bH",";"]}]}}]},{TYPE:"txt",TOKENS:["bH","=","bP",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","+=","bP","-","bE",";"]}]}}]},{TYPE:"txt",TOKENS:["bE","=","bP",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bV",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bV","=","GLSL_TEXTURE","(","u_normalmap0",",","bH",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bV","=","GLSL_TEXTURE","(","u_normalmap0",",","bE",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","bW","=","bV",".","rgb","-","0.5",";","bW","=","mix","(","vec3","(","0.0",",","0.0",",","1.0",")",",","bW",",","u_normal_factor",")",";","vec3","Q","=","bG","*","bW",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","bF",";"]}]}}]},{TYPE:"txt",TOKENS:["Q","=","normalize","(","Q",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","=","normalize","(","U","(","N",",","Q",")",")",".","st",";","bH","=","bH","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","u","=","normalize","(","bv",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bX","=","bw",";","bY","(","bX",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bZ","=","vec4","(","bX",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bZ","=","u_diffuse_color",";"]}]}}]},{TYPE:"txt",TOKENS:["float","b_","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ca","=","GLSL_TEXTURE","(","u_colormap0",",","bH",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ca","=","GLSL_TEXTURE","(","u_colormap0",",","bE",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bY","(","ca",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR1_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cb","=","GLSL_TEXTURE","(","u_colormap1",",","bH",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cb","=","GLSL_TEXTURE","(","u_colormap1",",","bE",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bY","(","cb",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cc","=","GLSL_TEXTURE","(","u_stencil0",",","bH",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cc","=","GLSL_TEXTURE","(","u_stencil0",",","bE",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ca","=","mix","(","ca",",","cb",",","cc",".","r",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bZ",".","rgb","=","mix","(","bZ",".","rgb",",","ca",".","rgb",",","u_diffuse_color_factor",")",";","float","M","=","u_alpha_factor","*","ca",".","a",";","M","+=","(","1.0","-","step","(","0.0",",","M",")",")",";","bZ",".","a","=","mix","(","M",",","1.0",",","u_diffuse_color",".","a",")",";","b_","=","ca",".","a",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bZ",".","rgb","*=","mix","(","vec3","(","1.0",")",",","ca",".","rgb",",","u_diffuse_color_factor",")",";","bZ",".","a","=","ca",".","a",";","b_","=","ca",".","a",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aK","=","bZ",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cd","=","u_diffuse_intensity","*","bZ",".","rgb",";","vec3","cf","=","u_environment_energy","*","ce","(","Q",")",";","vec3","cg","=","u_ambient","*","cf",";","vec4","bq","=","ch","(","cd",")",";","vec3","ci","=","u_emit","*","bZ",".","rgb",";","vec3","cj","=","u_specular_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_AS_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ck","=","vec3","(","b_",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_SPEC_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ck","=","GLSL_TEXTURE","(","u_specmap0",",","bH",")",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ck","=","GLSL_TEXTURE","(","u_specmap0",",","bE",")",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["bY","(","ck",".","rgb",")",";","cj","=","mix","(","cj",",","ck",",","u_specular_color_factor",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","cl","=","u_specular_params","[","0","]",";","vec2","cm","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cn","=","cl","*","cj",";","vec3","aK",";","vec3","co",";","cp","(","ci",",","cg",",","cd",",","cn",",","c",",","Q",",","u",",","cm",",","u_diffuse_params",",","bq",",","0.0",",","vec4","(","0.0",")",",","aK",",","co",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cq","(","aK",",","u",",","Q",",","u_reflect_factor",",","N",")",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cq","(","aK",",","u",",","Q",",","u_reflect_factor",",","mat3","(","0.0",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cq","(","aK",",","u",",","Q",",","u_mirror_factor",",","mat3","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","+=","co",";"]}]}}]},{TYPE:"txt",TOKENS:["float","L","=","bZ",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WETTABLE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","max","(","aK","-","sqrt","(","0.01","*","-","min","(","bp",",","0.0",")",")",",","0.5","*","aK",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bs","(","aK",",","bp",",","u_time",",","bq",",","Q",",","u_sun_direction",",","u_sun_intensity",",","u_sun_quaternion",",","c",",","bo",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";","L","=","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","co",".","r",",","co",".","g",")",",","co",".","b",")","*","u_specular_alpha",";","L","=","bZ",".","a","*","(","1.0","-","t",")","+","t",";"]}]}}]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cr","=","-","(","U","(","N",",","Q",")",")",".","xy",";","aK","=","mix","(","cs","(","h",",","cr","*","u_refr_bump",")",",","aK",",","L",")",";","L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bt","(","aK",",","bo",",","u",",","bp",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bt","(","aK",",","bo",",","u",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_ONLY","SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bu","=","GLSL_TEXTURE_PROJ","(","u_shadow_mask",",","h",")",".","a",";","aK","=","vec3","(","bu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["particle_system.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LFACTORS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_STRENGTH",TOKENS:["0.25"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","NODES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","float","u_time",";","uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","d",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","e",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"particles_nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","u","=","normalize","(","u_camera_eye_frag","-","c",")",";","vec3","A",";","vec3","B",";","vec3","C",";","vec4","D",";","float","E",";","mat3","F","=","mat3","(","0.0",")",";","mat3","G","=","mat3","(","0.0",")",";","mat3","H","=","mat3","(","0.0",")",";","mat3","I","=","mat3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["F","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["G","=","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["H","=","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["I","=","u_model_tsr_inverse",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(","u",",","F",",","G",",","H",",","I",",","A",",","B",",","C",",","D",",","E",")",";","vec3","aK","=","A",";","float","L","=","E",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";","L","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bt","(","aK",",","length","(","d",")",",","u",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ct","=","-","d",".","z","/","u_view_max_depth",";","vec4","cu","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","h",")",";","float","cw","=","cv","(","cu",")",";","float","cx","=","cw","-","ct",";","float","cy","=","u_view_max_depth","/","SOFT_STRENGTH","*","cx",";","L","=","L","*","min","(","cy",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["particle_system.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"BILLBOARD_ALIGN",TOKENS:["BILLBOARD_ALIGN_VIEW"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"HALO_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"PARTICLES_SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"COLOR_RAMP_LENGTH",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"WORLD_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_COLOR_RAMP",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn_quat",";","GLSL_IN","vec3","a_p_data",";","GLSL_IN","vec4","a_p_vels",";","GLSL_IN","vec2","a_p_bb_vertex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","cz",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bv",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","aY",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_p_color_ramp","[","COLOR_RAMP_LENGTH","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_p_time",";","uniform","float","u_p_length",";","uniform","int","u_p_cyclic",";","uniform","float","u_p_fade_in",";","uniform","float","u_p_fade_out",";","uniform","float","u_p_nfactor",";","uniform","float","u_p_gravity",";","uniform","float","u_p_mass",";","uniform","float","u_p_wind_fac",";","uniform","float","u_p_max_lifetime",";","uniform","float","u_p_tilt",";","uniform","float","u_p_tilt_rand",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_view_refl_matrix",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_wind",";","uniform","float","u_p_size",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WORLD_SPACE",{TYPE:"logic_negative_expr",PLACES:1},"NODES","HALO_PARTICLES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_COLOR_RAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color_ramp_tex",";"]}]}}]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"particles.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"particles_nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["float","cC","(","vec2","cA",",","vec2","cB",")","{","return","(","atan","(","cB",".","y",",","cB",".","x",")","-","atan","(","cA",".","y",",","cA",".","x",")",")",";","}","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bx","=","u_view_refl_matrix",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bx","=","mat4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr",";","cD","pp",";","pp","=","cE","(",")",";","float","cF",";","mat3","bd","=","cG","(",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cH","=","(","bx","*","vec4","(","pp",".","O",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cH","=","pp",".","O",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","Q","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_VIEW",")","{","cF","=","pp",".","bl",";","bd","=","bc","(","cH",",","N",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_XY",")","{","cF","=","cC","(","vec2","(","EPSILON",",","1.0",")",",","vec2","(","Q",".","x",",","-","Q",".","y",")",")","+","pp",".","bl",";","bd","[","0","]","=","cH",";","vec4","cJ","=","cI","(","RIGHT_VECTOR",",","-","M_PI","/","2.0",")",";","bd","=","cK","(","cJ",",","bd",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_YZ",")","{","cF","=","pp",".","bl",";","bd","[","0","]","=","cH",";","vec4","cL","=","cI","(","UP_VECTOR",",","M_PI","/","2.0",")",";","bd","=","cK","(","cL",",","bd",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_ZX",")","{","cF","=","pp",".","bl",";","bd","[","0","]","=","cH",";","}","vec3","bh","=","vec3","(","a_p_bb_vertex","[","0","]","*","2.0","*","pp",".","cM","*","u_p_size",",","0.0",",","a_p_bb_vertex","[","1","]","*","2.0","*","pp",".","cM","*","u_p_size",")",";","float","cN","=","a_p_data","[","2","]",";","float","cO","=","u_p_tilt","*","u_p_tilt_rand","*","(","2.0","*","cN","-","1.0",")",";","float","cP","=","(","cO","+","u_p_tilt",")","*","M_PI",";","vec4","cQ","=","cI","(","TOWARD_VECTOR",",","cP","+","cF",")",";","vec3","bi","=","ae","(","bd",",","P","(","cQ",",","bh",")",")",";","vec4","bB","=","vec4","(","ae","(","N",",","bi",")",",","1.0",")",";","vec4","at","=","u_proj_matrix","*","bB",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aY","=","cN",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},"USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","P","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","S","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","Q",",","R",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","cR","=","cG","(",")",";","cQ","=","cI","(","TOWARD_VECTOR",",","cF",")",";","cR","=","cK","(","cQ",",","cR",")",";","ak","am","=","al","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","R",",","vec3","(","0.0",")",",","S",",","vec3","(","0.0",")",",","aS","(","bd",",","cR",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aq","=","(","dot","(","cross","(","Q",",","am",".","R",")",",","am",".","S",")","<","0.0",")","?","-","1.0",":","1.0",";","f","=","vec4","(","am",".","R",",","aq",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","=","Q",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(","pp",".","O",",","pp",".","cS",",","pp",".","cT",",","pp",".","cU",",","pp",".","cM",",","a_p_bb_vertex",",","a_p_data","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","a_p_bb_vertex","+","0.5",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","a_p_bb_vertex","*","2.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cz","=","pp",".","L",";"]}]}}]},{TYPE:"txt",TOKENS:["bw","=","pp",".","aK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","au","=","at",".","x",";","float","av","=","at",".","y",";","float","aw","=","at",".","w",";","h",".","x","=","(","au","+","aw",")","/","2.0",";","h",".","y","=","(","av","+","aw",")","/","2.0",";","h",".","z","=","aw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d","=","bB",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","c","=","bi",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bv","=","u_camera_eye","-","bi",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["particle_system_stack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LFACTORS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_STRENGTH",TOKENS:["0.25"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"HALO_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"PARTICLES_SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","NODES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_diffuse_color_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_halo_size",";","uniform","vec3","u_halo_rings_color",";","uniform","float","u_halo_hardness",";","uniform","vec3","u_halo_lines_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";","uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_p_alpha_start",";","uniform","float","u_p_alpha_end",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","cz",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bv",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","aY",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","aX",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"lighting_nodes.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"halo_color.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","u","=","normalize","(","bv",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","a_","=","aZ","(",")",";","vec3","aK","=","a_",".","rgb","*","bw",";","float","cV","=","0.9","*","length","(","n",")",";","float","cW","=","smoothstep","(","u_p_alpha_start",",","u_p_alpha_end",",","cV",")",";","float","L","=","a_",".","a","*","(","1.0","-","cW",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bZ","=","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ca","=","GLSL_TEXTURE","(","u_sampler",",","n",")",";","bY","(","ca",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bZ",".","rgb","=","mix","(","bZ",".","rgb",",","ca",".","rgb",",","u_diffuse_color_factor",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bZ",".","rgb","*=","mix","(","vec3","(","1.0",")",",","ca",".","rgb",",","u_diffuse_color_factor",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bZ",".","a","=","ca",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["bZ",".","rgb","*=","bw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cd","=","u_diffuse_intensity","*","bZ",".","rgb",";","vec3","ci","=","u_emit","*","bZ",".","rgb",";","vec3","Q","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logic_negative_expr",PLACES:1},"SKY_COLOR",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cf","=","u_environment_energy","*","ce","(","vec3","(","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cf","=","u_environment_energy","*","ce","(","Q",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cg","=","u_ambient","*","cf",";","float","cl","=","u_specular_params","[","0","]",";","vec2","cm","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cn","=","cl","*","u_specular_color",";","vec3","aK",";","vec3","co",";","cp","(","ci",",","cg",",","cd",",","cn",",","c",",","Q",",","u",",","cm",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","aK",",","co",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aK","=","bZ",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["float","L","=","bZ",".","a","*","cz",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";","L","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bt","(","aK",",","length","(","d",")",",","u",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ct","=","-","d",".","z","/","u_view_max_depth",";","vec4","cu","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","h",")",";","float","cw","=","cv","(","cu",")",";","float","cx","=","cw","-","ct",";","float","cy","=","u_view_max_depth","/","SOFT_STRENGTH","*","cx",";","L","=","L","*","min","(","cy",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["procedural_skydome.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","vec3","u_sky_color",";","uniform","vec3","u_sun_direction",";","uniform","float","u_rayleigh_brightness",";","uniform","float","u_mie_brightness",";","uniform","float","u_spot_brightness",";","uniform","float","u_scatter_strength",";","uniform","float","u_rayleigh_strength",";","uniform","float","u_mie_strength",";","uniform","float","u_rayleigh_collection_power",";","uniform","float","u_mie_collection_power",";","uniform","float","u_mie_distribution",";","GLSL_IN","vec3","cX",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","const","float","cY","=","0.99",";","const","float","cZ","=","1.8",";","const","int","c_","=","8",";","float","df","(","vec3","O",",","vec3","da",")","{","float","a","=","dot","(","da",",","da",")",";","float","b","=","2.0","*","dot","(","da",",","O",")",";","float","db","=","dot","(","O",",","O",")","-","1.0",";","float","dc","=","b","*","b","-","4.0","*","a","*","db",";","float","dd","=","sqrt","(","dc",")",";","float","q","=","(","-","b","-","dd",")","/","2.0",";","float","de","=","db","/","q",";","return","de",";","}","float","dh","(","float","L",",","float","g",")","{","float","a","=","3.0","*","(","1.0","-","g","*","g",")",";","float","b","=","2.0","*","(","2.0","+","g","*","g",")",";","float","db","=","1.0","+","L","*","L",";","float","dg","=","pow","(","1.0","+","g","*","g","-","2.0","*","g","*","L",",","1.5",")",";","dg","=","max","(","dg",",","0.00001",")",";","return","(","a","/","b",")","*","(","db","/","dg",")",";","}","float","dm","(","vec3","O",",","vec3","da",",","float","di",")","{","float","dj","=","dot","(","da",",","-","O",")",";","if","(","dj","<","0.0",")","{","return","1.0",";","}","vec3","dk","=","O","+","dj","*","da",";","if","(","length","(","dk",")","<","di",")","{","return","0.0",";","}","else","if","(","length","(","dk",")",">=","di",")","{","vec3","cB","=","normalize","(","dk",")","*","di","-","O",";","float","dl","=","acos","(","dot","(","normalize","(","cB",")",",","da",")",")",";","return","smoothstep","(","0.0",",","1.0",",","pow","(","dl","*","2.0",",","3.0",")",")",";","}","else","return","1.0",";","}","vec3","dn","(","float","aG",",","vec3","aK",",","float","aF",")","{","return","aK","-","aK","*","pow","(","u_sky_color",",","vec3","(","aF","/","aG",")",")",";","}","void","main","(",")","{","vec3","dp","=","normalize","(","cX",")",";","vec3","dq","=","u_sun_direction",";","float","L","=","dot","(","dp",",","dq",")",";","float","dr","=","dh","(","L",",","-","0.01",")","*","u_rayleigh_brightness","*","dq",".","z",";","float","ds","=","dh","(","L","-","0.5",",","u_mie_distribution",")","*","u_mie_brightness","*","(","1.0","-","dq",".","z",")",";","float","dt","=","smoothstep","(","0.0",",","100.0",",","dh","(","L",",","0.9995",")",")","*","u_spot_brightness",";","vec3","du","=","vec3","(","0.0",",","0.0",",","cY",")",";","float","dv","=","df","(","du",",","dp",")",";","float","dw","=","dv","/","float","(","c_",")",";","float","dx","=","dm","(","du",",","dp",",","cY","-","0.3",")",";","vec3","dy","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","dz","=","vec3","(","0.0",",","0.0",",","0.0",")",";","for","(","int","bQ","=","0",";","bQ","<","c_",";","bQ","++",")","{","float","dA","=","dw","*","float","(","bQ",")",";","vec3","O","=","du","+","dp","*","dA",";","float","dB","=","dm","(","O",",","dq",",","cY","-","0.2",")",";","float","dC","=","df","(","O",",","dq",")",";","vec3","dD","=","dn","(","dC",",","vec3","(","cZ",")",",","u_scatter_strength",")","*","dB",";","dy","+=","dn","(","sqrt","(","dA",")",",","u_sky_color","*","dD",",","u_rayleigh_strength",")",";","dz","+=","dn","(","dA",",","dD",",","u_mie_strength",")",";","}","dy","=","dy","*","dx","*","pow","(","dv",",","u_rayleigh_collection_power",")","/","float","(","c_",")",";","dz","=","(","dz","*","dx","*","pow","(","dv",",","u_mie_collection_power",")",")","/","float","(","c_",")",";","vec3","aK","=","vec3","(","dt","*","dz","+","ds","*","dz","+","dr","*","dy",")",";","aQ","(","aK",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","1.0",")",";","}"]}]},exports["procedural_skydome.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_view_matrix",";","GLSL_IN","vec3","a_position",";","GLSL_OUT","vec3","cX",";","void","main","(",")","{","vec4","O","=","vec4","(","a_position",".","xy",",","0.999999",",","1.0",")",";","vec4","dp","=","u_cube_view_matrix","*","O",";","cX","=","dp",".","xyz",";","gl_Position","=","O",";","}"]}]},exports["shadow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LFACTORS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap0",";","uniform","float","u_alpha_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","f",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","i",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","u","=","u_camera_eye_frag","-","c",";","vec3","v","=","normalize","(","u",")",";","vec3","A",";","vec3","B",";","vec3","C",";","vec4","D",";","float","E",";","mat3","F","=","mat3","(","0.0",")",";","mat3","G","=","mat3","(","0.0",")",";","mat3","H","=","mat3","(","0.0",")",";","mat3","I","=","mat3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["F","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["G","=","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["H","=","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["I","=","u_model_tsr_inverse",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(","v",",","F",",","G",",","H",",","I",",","A",",","B",",","C",",","D",",","E",")",";","float","L","=","E",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","(","GLSL_TEXTURE","(","u_colormap0",",","n",")",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","M","=","u_alpha_factor","*","L",";","M","+=","(","1.0","-","step","(","0.0",",","M",")",")",";","L","=","mix","(","M",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","NO_SHADOWS",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","dE","(","d",".","z",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR",".","a","*=","clamp","(","f",".","r",",","0.999999999",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["shadow.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"HAIR_BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"CALC_TBN",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat_next",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","f",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","i",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_shadow_cast_billboard_view_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_offset",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"include",FILE:"dynamic_grass.glslv"},{TYPE:"include",FILE:"shadow.glslv"},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","vec3","O","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","by","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","vec3","Q","=","by",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","P","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","S","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","Q",",","R",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Y","=","P","(","a_tbn_quat_next",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","Q","=","mix","(","Q",",","Y",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Z","=","P","(","a_tbn_quat_next",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","_","=","sign","(","a_tbn_quat_next","[","3","]",")","*","cross","(","Y",",","Z",")",";","R","=","mix","(","R",",","Z",",","u_va_frame_factor",")",";","S","=","mix","(","S",",","_",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ac","(","O",",","R",",","S",",","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","aS","(","u_model_tsr",",","T",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","a_part_ts",".","xyz",";","O","=","ae","(","T",",","O",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},"DYNAMIC_GRASS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","normalize","(","U","(","T",",","by",")",")",";","vec3","W","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","V",")",";","vec3","X","=","cross","(","V",",","W",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","aT","(","O",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Q",",","ad",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","N",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","af","=","ae","(","T",",","ad",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HAIR_BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","dF","=","u_shadow_cast_billboard_view_tsr",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","dF","=","N",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ah","(","u_camera_eye",",","af",",","dF",",","T",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ai","(","u_camera_eye",",","af",",","dF",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aj","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","af",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","O","-","ad",",","ad",",","vec3","(","0.0",")",",","X",",","vec3","(","0.0",")",",","Q",",","T",")",";","am",".","ad","=","af",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","O",",","ad",",","vec3","(","0.0",")",",","X",",","vec3","(","0.0",")",",","Q",",","T",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","by",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["an","(","am",".","O",",","am",".","ad",",","ao",",","mat4","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["c","=","am",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","=","am",".","Q",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aq","=","(","dot","(","cross","(","am",".","Q",",","am",".","R",")",",","am",".","S",")","<","0.0",")","?","-","1.0",":","1.0",";","f","=","vec4","(","am",".","R",",","aq",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["o","=","am",".","as",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","bB","=","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";","vec4","at","=","u_proj_matrix","*","bB",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["at",".","xy","+=","u_subpixel_jitter","*","at",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["h","=","bC","(","at",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","-","bB",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","ap","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bD","(","am",".","O",",","am",".","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d","=","bB",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dG","=","(","u_proj_matrix","*","vec4","(","N","[","0","]",",","1.0",")",")",".","xy",";","float","dH","=","SHADOW_TEX_RES","/","2.0",";","dG","=","floor","(","dG","*","dH","+","0.5",")","/","dH","-","dG",";","at",".","xy","+=","dG",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","}"]}]},exports["special_lens_flares.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aK","=","GLSL_TEXTURE","(","u_sampler",",","n",")",";","aQ","(","aK",".","rgb",")",";","aR","(","aK",".","rgb",",","aK",".","a",")",";","GLSL_OUT_FRAG_COLOR","=","aK",";","}"]}]},exports["special_lens_flares.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"define",NAME:"LIGHT_INDEX",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","GLSL_IN","float","a_lf_dist",";","GLSL_IN","vec2","a_lf_bb_vertex",";","GLSL_IN","vec2","a_texcoord",";","GLSL_OUT","vec2","n",";","void","main","(",")","{","n","=","a_texcoord",";","vec3","da","=","normalize","(","u_light_directions","[","LIGHT_INDEX","]",")",";","vec4","at","=","u_proj_matrix","*","vec4","(","U","(","u_view_tsr",",","da",")",",","0.0",")",";","at",".","x","/=","at",".","w",";","at",".","y","/=","at",".","w",";","at","+=","99999.0","*","step","(","at",".","z",",","0.0",")",";","at","+=","100.0","*","(","step","(","1.0",",","abs","(","at",".","x",")",")","+","step","(","1.0",",","abs","(","at",".","y",")",")",")",";","at",".","x","=","a_lf_dist","*","at",".","x",";","at",".","y","=","a_lf_dist","*","at",".","y",";","float","dI","=","u_proj_matrix","[","1","]","[","1","]","/","u_proj_matrix","[","0","]","[","0","]",";","vec2","dJ","=","vec2","(","a_lf_bb_vertex",".","x","/","dI",",","a_lf_bb_vertex",".","y",")",";","if","(","a_lf_dist","<","0.999",")","{","const","float","dK","=","1.9",";","dJ","*=","(","1.0","+","dK","*","length","(","at",".","xy",")",")",";","}","gl_Position","=","vec4","(","at",".","xy","+","dJ",",","0.999999",",","1.0",")",";","}"]}]},exports["special_skydome.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYREAL",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYPAPER",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"BLENDTYPE",TOKENS:["MIX"]},{TYPE:"var",NAME:"MTEX_RGBTOINT",TOKENS:["0"]},{TYPE:"var",NAME:"MTEX_NEGATIVE",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_HORIZ",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_ZENUP",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_ZENDOWN",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_BLEND",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX","PROCEDURAL_SKYDOME",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"blending.glslf"},{TYPE:"txt",TOKENS:["uniform","vec4","u_sky_tex_fac",";","uniform","vec3","u_sky_tex_color",";","uniform","float","u_sky_tex_dvar",";","vec3","ee","(","vec3","dL",",","vec3","dM",",","float","aF",",","float","dN",")","{","float","dO","=","aF","*","dN",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLENDTYPE","MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dP","(","dM",",","dL",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","ADD",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dQ","(","dL",",","dM",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SUBTRACT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dR","(","dL",",","dM",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dS","(","dL",",","dM",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SCREEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dT","(","dL",",","dM",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","OVERLAY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dU","(","dL",",","dM",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIFFERENCE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dV","(","dL",",","dM",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIVIDE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dW","(","dL",",","dM",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DARKEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dX","(","dL",",","dM",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LIGHTEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dY","(","dL",",","dM",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","HUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dZ","(","dM",",","dL",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SATURATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","d_","(","dM",",","dL",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","VALUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","ea","(","dM",",","dL",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","COLOR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","eb","(","dM",",","dL",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SOFT_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","ec","(","dM",",","dL",",","dO",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LINEAR_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","ed","(","dM",",","dL",",","dO",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","vec3","(","1.0",",","0.0",",","1.0",")",";","}","float","ek","(","float","ef",",","float","eg",",","float","aF",",","float","dN",")","{","vec3","dL","=","vec3","(","ef",")",",","dM","=","vec3","(","eg",")",";","float","dO","=","aF","*","dN",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLENDTYPE","MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dP","(","dM",",","dL",",","dO",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","ADD",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dQ","(","dL",",","dM",",","dO",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SUBTRACT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dR","(","dL",",","dM",",","dO",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","eh","(","ef",",","eg",",","dO",",","dN",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SCREEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","ei","(","ef",",","eg",",","dO",",","dN",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","OVERLAY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","ej","(","ef",",","eg",",","dO",",","dN",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIFFERENCE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dV","(","dL",",","dM",",","dO",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIVIDE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dW","(","dL",",","dM",",","dO",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DARKEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dX","(","dL",",","dM",",","dO",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LIGHTEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","dY","(","dL",",","dM",",","dO",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SOFT_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","ec","(","dM",",","dL",",","dO",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LINEAR_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","ed","(","dM",",","dL",",","dO",")",".","x",";"]}]}}]},{TYPE:"txt",TOKENS:["return","0.0",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";","uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","cX",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec3","el",";","vec3","dp","=","normalize","(","cX",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["el","=","GLSL_TEXTURE_CUBE","(","u_sky",",","dp",")",".","rgb",";"]}]}},{TYPE:"elif",EXPRESSION:["WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["el","=","u_horizon_color",";","aQ","(","el",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","em",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYPAPER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["em","=","vec3","(","n",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["em","=","vec3","(","cX",".","xy",",","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","en","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYPAPER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["en","=","abs","(","n",".","y",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["en","=","(","n",".","y","+","1.0",")","*","0.5",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","acos","(","dp",".","z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["en","=","abs","(","L","*","INV_PI","-","0.5",")","*","2.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["en","=","1.0","-","L","*","INV_PI",";"]}]}}]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec3","eo","=","u_horizon_color",";","vec3","ep","=","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eq","=","1.0",";","vec4","er","=","GLSL_TEXTURE_CUBE","(","u_sky",",","dp",")",";","bY","(","er",".","rgb",")",";","eq","=","er",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eq","=","es","(","er",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_NEGATIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["er","=","vec4","(","vec3","(","1.0",")","-","er",".","rgb",",","er",".","a",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eq","=","1.0","-","eq",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_HORIZ","WOMAP_ZENUP","WOMAP_ZENDOWN",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["er","=","vec4","(","u_sky_tex_color",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eq","=","er",".","a",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_HORIZ"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eo","=","ee","(","er",".","rgb",",","eo",",","eq",",","u_sky_tex_fac","[","1","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP","WOMAP_ZENDOWN",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","et","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","em",",","vec3","(","0.0",",","0.0",",","1.0",")",")",">=","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["et","=","u_sky_tex_fac","[","2","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENDOWN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","et","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["et","=","u_sky_tex_fac","[","2","]",";"]}]}},{TYPE:"elif",EXPRESSION:["WOMAP_ZENDOWN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["et","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["if","(","et","!=","0.0",")","ep","=","ee","(","er",".","rgb",",","ep",",","eq",",","et",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_BLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eq","=","dot","(","er",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["en","=","ek","(","u_sky_tex_dvar",",","en",",","eq",",","u_sky_tex_fac","[","0","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["el","=","mix","(","eo",",","ep",",","en",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["el","=","eo",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","el",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","(","eo",")",";","aQ","(","ep",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["el","=","mix","(","eo",",","ep",",","en",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["el","=","eo",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bY","(","el",")",";","float","eu","=","WATER_LEVEL","-","u_camera_eye_frag",".","z",";","vec3","ev","=","vec3","(","0.0",")",";","vec3","ew","=","mix","(","u_underwater_fog_color_density",".","rgb",",","ev",",","min","(","-","dp",".","z",",","1.0",")",")",";","ew","*=","min","(","1.0","-","min","(","0.03","*","eu",",","0.8",")",",","1.0",")",";","float","aF","=","clamp","(","sign","(","0.01","*","eu","-","dp",".","z",")",",","0.0",",","1.0",")",";","el","=","mix","(","el",",","ew",",","aF",")",";","aQ","(","el",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","el",",","1.0",")",";","}"]}]},exports["special_skydome.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","mat4","u_sky_vp_inverse",";","GLSL_IN","vec3","a_position",";","GLSL_OUT","vec3","cX",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","O","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";","vec4","dp","=","u_sky_vp_inverse","*","O",";","cX","=","dp",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","a_position",".","xy",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","O",";","}"]}]},exports["special_water.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM0",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM1",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM2",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM3",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_WIREFRAME",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_NORMALMAPS",TOKENS:["0"]},{TYPE:"var",NAME:"FOAM",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_PARAMS",TOKENS:["0"]},{TYPE:"var",NAME:"GENERATED_MESH",TOKENS:["0"]},{TYPE:"var",NAME:"ABSORB",TOKENS:["6.0"]},{TYPE:"var",NAME:"SSS_STRENGTH",TOKENS:["1.0"]},{TYPE:"var",NAME:"SSS_WIDTH",TOKENS:["0.45"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LFACTORS",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_SMOOTHING",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"REFL_BUMP",TOKENS:["0.001"]},{TYPE:"define",NAME:"REFR_BUMP",TOKENS:["0.0005"]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHORE_SMOOTHING","WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_foam",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";","uniform","vec3","u_shallow_water_col",";","uniform","vec3","u_shore_water_col",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_water_norm_uv_velocity",";","uniform","vec2","u_normalmap0_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap1_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap2_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap3_scale",";"]}]}}]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_reflect_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_water_shallow_col_fac",";","uniform","float","u_water_shore_col_fac",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_foam_factor",";","uniform","vec2","u_foam_uv_freq",";","uniform","vec2","u_foam_mag",";","uniform","vec2","u_foam_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_refr_bump",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","ay","=","1.0",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bv",";","GLSL_IN","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","f",";","GLSL_IN","vec3","ex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH","DYNAMIC",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","ey",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","ez",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","ax",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","SHORE_SMOOTHING","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["vec3","eK","(","in","vec2","eA",",","in","vec3","Q",",","in","vec3","u",",","in","vec3","eB",",","out","float","eC",")","{","eC","=","0.0",";","vec3","eD","=","reflect","(","-","u",",","Q",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eE","=","eA",".","xy","+","Q",".","xy","*","REFL_BUMP","/","i",";","eC","=","u_reflect_factor",";","vec3","eF",";","if","(","u_cam_water_depth","<","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eF","=","u_underwater_fog_color_density",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eF","=","u_diffuse_color",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","{","eF","=","GLSL_TEXTURE","(","u_plane_reflection",",","eE",")",".","rgb",";","bY","(","eF",")",";","}"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eC","=","u_mirror_factor",";","vec3","eF","=","eB","*","GLSL_TEXTURE_CUBE","(","u_mirrormap",",","eD",")",".","rgb",";","bY","(","eF",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eC","=","u_reflect_factor",";","vec3","eF","=","eB","*","vec3","(","0.3",",","0.5",",","1.0",")",";","bY","(","eF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","eG","=","normalize","(","eD","+","u",")",";","float","eH","=","1.0","-","dot","(","u",",","eG",")",";","float","eI","=","u_fresnel_params","[","3","]",";","float","eJ","=","u_fresnel_params","[","2","]",";","float","r","=","eI","+","(","1.0","-","eI",")","*","pow","(","eH",",","eJ",")",";","eC","=","min","(","eC","*","r",",","1.0",")",";","return","eF",";","}"]},{TYPE:"include",FILE:"lighting_nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bG","=","mat3","(","f",",","ex",",","e",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","normalize","(","e",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","UP_VECTOR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","FOAM",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bp","=","c",".","z","-","WATER_LEVEL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bp","=","c",".","z",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bE","=","vec2","(","ey",".","x",",","-","ey",".","y",")","+","0.5",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bE","=","vec2","(","c",".","x",",","-","c",".","y",")","+","0.5",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bE","=","n",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eL","=","vec3","(","0.0",")",";","vec3","eM","=","GLSL_TEXTURE","(","u_normalmap0",",","bE","*","u_normalmap0_scale","+","vec2","(","0.3",",","0.5",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","eL","+=","eM",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eN","=","vec3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM0"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eN","+=","eM",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eM","=","GLSL_TEXTURE","(","u_normalmap0",",","bE","*","u_normalmap1_scale","+","vec2","(","-","0.3",",","0.7",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","eL","+=","eM",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eN","+=","eM",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eM","=","GLSL_TEXTURE","(","u_normalmap0",",","bE","*","u_normalmap2_scale","+","vec2","(","0.0",",","1.1",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","eL","+=","eM",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eN","+=","eM",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eM","=","GLSL_TEXTURE","(","u_normalmap0",",","bE","*","u_normalmap3_scale","+","vec2","(","-","0.66",",","-","0.3",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","eL","+=","eM",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eN","+=","eM",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eO","=","bG","*","eN",";","if","(","!","eP","(","eO",",","vec3","(","0.0",")",")",")","eO","=","normalize","(","eO",")",";","vec3","eQ","=","mix","(","Q",",","eO",",","0.2",")",";","eQ","=","normalize","(","eQ",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Q","=","mix","(","Q",",","normalize","(","bG","*","eL",")",",","0.3",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Q","=","mix","(","Q",",","normalize","(","bG","*","eL",")",",","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Q","=","normalize","(","Q",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","u","=","normalize","(","bv",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eA","=","h",".","xy","/","h",".","z",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eR","=","eA","+","Q",".","xy","*","u_refr_bump","/","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_diffuse_color",".","a",";","vec4","cu","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","h",")",";","float","cw","=","cv","(","cu",")",";","float","cx","=","max","(","cw","-","i",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eT","=","eS","(","cw",",","eR",",","eA",")",";","float","eU","=","max","(","eT","-","i",",","0.0",")",";","float","eV","=","u_view_max_depth","/","ABSORB","*","eU",";","float","eW","=","min","(","L","*","eV",",","1.0",")",";","L","=","min","(","15.0","*","L","*","u_view_max_depth","*","cx",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cy","=","u_view_max_depth","/","ABSORB","*","cx",";","if","(","u_cam_water_depth",">","0.0",")","L","=","min","(","L","*","cy",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_diffuse_color",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eW","=","L",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_cam_water_depth","<","0.0",")","eW","=","0.0",";","vec3","eX","=","GLSL_TEXTURE","(","u_refractmap",",","eR",")",".","rgb",";","bY","(","eX",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eY","=","pow","(","min","(","ez",".","b","/","u_water_shallow_col_fac",",","1.0",")",",","0.3",")",";","vec3","bZ","=","mix","(","u_shallow_water_col",",","u_diffuse_color",".","rgb",",","eY",")",";","eY","=","pow","(","min","(","ez",".","b","/","u_water_shore_col_fac",",","1.0",")",",","0.3",")",";","bZ","=","mix","(","u_shore_water_col",",","bZ",",","eY",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bZ","=","u_diffuse_color",".","rgb",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eZ","=","max","(","1.0","-","u_view_max_depth","*","cx",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eZ","=","1.0","-","L",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","e_","=","max","(","bp","/","WAVES_HEIGHT","+","0.1",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fa","=","normalize","(","vec3","(","ez",".","rg",",","0.0",")",")",";","vec3","fb","=","normalize","(","mix","(","UP_VECTOR",",","fa",",","0.8",")",")",";","float","fc","=","1.25","*","max","(","dot","(","eQ",",","fb",")","-","0.2",",","0.0",")",";","fc","+=","max","(","dot","(","eQ",",","-","UP_VECTOR",")",",","0.0",")",";","eZ","+=","fc","*","(","1.0","-","ez",".","b",")",";","e_","*=","(","1.0","-","0.95","*","pow","(","ez",".","b",",","0.1",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["eZ","+=","e_",";","eZ","=","min","(","u_foam_factor","*","eZ",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","fd","=","GLSL_TEXTURE","(","u_foam",",","u_foam_mag","*","sin","(","u_foam_uv_freq","*","u_time",")","+","bE","*","u_foam_scale",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","cl","=","u_specular_params","[","0","]",";","vec2","cm","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cn","=","cl","*","u_specular_color",";","vec3","cf","=","u_environment_energy","*","ce","(","Q",")",";","vec3","cg","=","u_ambient","*","cf",";","vec3","eB","=","cg","+","u_sun_intensity",";","float","eC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eF","=","eK","(","eA",",","Q",",","u",",","eB",",","eC",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eF","=","eK","(","vec2","(","0.0",")",",","Q",",","u",",","eB",",","eC",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cd","=","u_diffuse_intensity","*","bZ",";","vec3","aK",";","vec3","co",";","cp","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","cd",",","cn",",","c",",","Q",",","u",",","cm",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","aK",",","co",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fe","=","max","(","dot","(","u_sun_direction",",","-","e",")","+","SSS_WIDTH",",","0.0",")","*","max","(","dot","(","-","u",",","u_sun_direction",")","-","0.5",",","0.0",")","*","max","(","0.0",",","length","(","u_sun_intensity",")","-","0.1",")",";","fe","=","clamp","(","SSS_STRENGTH","*","fe",",","0.0",",","1.0",")",";","aK","=","mix","(","aK",",","u_shallow_water_col",",","fe",")",";","aK","=","mix","(","aK",",","u_shore_water_col",",","fe",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","mix","(","eX",",","aK",",","eW",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aK","=","mix","(","aK",",","eF",",","eC",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ff","=","mix","(","fd",".","g",",","fd",".","r",",","max","(","4.0","*","(","eZ","-","0.75",")",",","0.0",")",")",";","ff","=","mix","(","fd",".","b",",","ff",",","max","(","2.0","*","eZ","-","1.0",",","0.0",")",")",";","ff","=","mix","(","0.0",",","ff",",","eZ",")",";","aK","=","mix","(","aK",",","eB",",","ff",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aK","+=","co",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fg","=","i","*","u_view_max_depth",";","float","fh","=","1.0",";","if","(","u_cam_water_depth",">","1.0",")","fh","=","2.0",";","bt","(","aK",",","fg",",","u",",","fh",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","max","(","L",",","co",".","r",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","+=","ff",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["SHORE_SMOOTHING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"txt",TOKENS:["vec3","aH","=","fwidth","(","ax",")",";","vec3","aI","=","smoothstep","(","vec3","(","0.0",")",",","aH","*","ay",",","ax",")",";","float","fi","=","min","(","min","(","aI",".","x",",","aI",".","y",")",",","aI",".","z",")",";","fi","=","clamp","(","fi",",","0.0",",","1.0",")",";","aK","=","mix","(","u_wireframe_edge_color",",","aK",",","fi",")",";","L","=","mix","(","1.0",",","L",",","fi",")",";"]}]}},{TYPE:"elif",EXPRESSION:["DEBUG_WIREFRAME",2,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aG","=","sign","(","ax","-","vec3","(","0.02","*","ay",")",")",";","float","fi","=","1.0",";","if","(","aG",".","x","<","0.0","||","aG",".","y","<","0.0","||","aG",".","z","<","0.0",")","fi","=","0.0",";","aK","=","mix","(","u_wireframe_edge_color",",","aK",",","fi",")",";","L","=","mix","(","1.0",",","L",",","fi",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["special_water.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_WIREFRAME",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_NORMALMAPS",TOKENS:["0"]},{TYPE:"var",NAME:"FOAM",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_PARAMS",TOKENS:["0"]},{TYPE:"var",NAME:"MAX_SHORE_DIST",TOKENS:["100.0"]},{TYPE:"var",NAME:"SHORE_MAP_SIZE_X",TOKENS:["1.0"]},{TYPE:"var",NAME:"SHORE_MAP_SIZE_Y",TOKENS:["1.0"]},{TYPE:"var",NAME:"SHORE_MAP_CENTER_X",TOKENS:["0.0"]},{TYPE:"var",NAME:"SHORE_MAP_CENTER_Y",TOKENS:["0.0"]},{TYPE:"var",NAME:"GENERATED_MESH",TOKENS:["0"]},{TYPE:"var",NAME:"DST_NOISE_SCALE_0",TOKENS:["0.05"]},{TYPE:"var",NAME:"DST_NOISE_SCALE_1",TOKENS:["0.03"]},{TYPE:"var",NAME:"DST_NOISE_FREQ_0",TOKENS:["1.3"]},{TYPE:"var",NAME:"DST_NOISE_FREQ_1",TOKENS:["1.0"]},{TYPE:"var",NAME:"DIR_MIN_SHR_FAC",TOKENS:["0.4"]},{TYPE:"var",NAME:"DIR_FREQ",TOKENS:["0.5"]},{TYPE:"var",NAME:"DIR_NOISE_SCALE",TOKENS:["0.05"]},{TYPE:"var",NAME:"DIR_NOISE_FREQ",TOKENS:["0.07"]},{TYPE:"var",NAME:"DIR_MIN_NOISE_FAC",TOKENS:["0.5"]},{TYPE:"var",NAME:"DST_MIN_FAC",TOKENS:["0.2"]},{TYPE:"var",NAME:"WAVES_HOR_FAC",TOKENS:["5.0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WAVES_LENGTH",TOKENS:["10.0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"SHORE_SMOOTHING",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},"NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_polyindex",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bv",";","GLSL_OUT","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","f",";","GLSL_OUT","vec3","ex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH","DYNAMIC",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","ey",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","ez",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","ax",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_time",";","uniform","vec3","u_wind",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shore_dist_map",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fp","(","in","vec2","fj",")","{","vec2","fk","=","0.5","+","vec2","(","(","fj",".","x","-","SHORE_MAP_CENTER_X",")","/","SHORE_MAP_SIZE_X",",","(","fj",".","y","-","SHORE_MAP_CENTER_Y",")","/","SHORE_MAP_SIZE_Y",")",";","vec4","fl","=","GLSL_TEXTURE","(","u_shore_dist_map",",","fk",")",";","const","vec2","fm","=","vec2","(","1.0","/","255.0",",","1.0",")",";","float","fn","=","dot","(","fl",".","ba",",","fm",")",";","vec2","fo","=","normalize","(","fl",".","rg","*","2.0","-","1.0",")",";","return","vec3","(","fo",",","fn",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMALL_WAVES_FAC",TOKENS:["0.3"]},{TYPE:"txt",TOKENS:["void","fE","(","inout","vec3","fj",",","in","float","fq",",","in","vec3","fl",")","{","float","fs","=","fr","(","DST_NOISE_SCALE_0","*","(","fj",".","xy","+","DST_NOISE_FREQ_0","*","fq",")",")","*","fr","(","DST_NOISE_SCALE_1","*","(","fj",".","yx","-","DST_NOISE_FREQ_1","*","fq",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ft","=","WAVES_LENGTH","/","MAX_SHORE_DIST","/","M_PI",";","float","fn","=","fl",".","b",";","float","fu","=","sqrt","(","fn",")",";","float","fv","=","max","(","fn",",","DIR_MIN_SHR_FAC",")","*","sin","(","fu","/","ft","+","DIR_FREQ","*","fq",")",";","float","fw","=","max","(","fr","(","DIR_NOISE_SCALE","*","(","fj",".","xy","+","DIR_NOISE_FREQ","*","fq",")",")",",","DIR_MIN_NOISE_FAC",")",";","fv","*=","fw",";","float","fx","=","WAVES_HEIGHT","*","mix","(","fv",",","fs",",","max","(","fu",",","DST_MIN_FAC",")",")",";","vec2","fo","=","fl",".","rg",";","float","fy","=","WAVES_HOR_FAC","*","fv","*","max","(","MAX_SHORE_DIST","/","35.0","*","(","0.05","-","fn",")",",","0.0",")",";","vec2","fz","=","fy","*","fo",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fx","=","WAVES_HEIGHT","*","fs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fA","=","2.0","*","(","fj",".","xy","-","0.1","*","fq",")",";","vec2","fB","=","1.3","*","(","fj",".","yx","+","0.03","*","fq",")",";","float","fD","=","fC","(","0.5","*","fA",")",".","x","+","fC","(","0.5","*","fB",")",".","x","-","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fj",".","xy","+=","fz",";","fD","*=","fn",";"]}]}}]},{TYPE:"txt",TOKENS:["fx","+=","SMALL_WAVES_FAC","*","fD",";"]}]}}]},{TYPE:"txt",TOKENS:["fj",".","z","+=","fx",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","a_polyindex","==","0.0",")","ax","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","ax","=","vec3","(","0.0",",","1.0",",","0.0",")",";","else","if","(","a_polyindex","==","2.0",")","ax","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","O","=","a_position",";","float","fF","=","abs","(","O",".","z",")",";","vec2","fG","=","u_camera_eye",".","xy","-","mod","(","u_camera_eye",".","xy",",","fF",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O",".","z","=","WATER_LEVEL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O",".","z","=","0.0",";"]}]}}]},{TYPE:"txt",TOKENS:["O",".","xy","+=","fG",";","vec3","bz","=","O",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","a_texcoord",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","u_model_tsr",")",";","vec3","bz","=","am",".","O",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ez","=","fp","(","bz",".","xy",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fH","=","length","(","u_wind",")",";","float","fI","=","u_time",";","fI","*=","fH",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fJ","=","fF",";","vec3","fK","=","bz","+","vec3","(","fJ",",","0.0",",","0.0",")",";","vec3","fL","=","bz","+","vec3","(","0.0",",","fJ",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ey","=","bz",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fK","=","bz","+","vec3","(","0.05",",","0.0",",","0.0",")",";","vec3","fL","=","bz","+","vec3","(","0.0",",","0.05",",","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fM","=","fp","(","fK",".","xy",")",";","vec3","fN","=","fp","(","fL",".","xy",")",";","fE","(","fK",",","fI",",","fM",")",";","fE","(","fL",",","fI",",","fN",")",";","fE","(","bz",",","fI",",","ez",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fE","(","fK",",","fI",",","vec3","(","0.0",")",")",";","fE","(","fL",",","fI",",","vec3","(","0.0",")",")",";","fE","(","bz",",","fI",",","vec3","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","a_position",".","z","<","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bz",".","z","=","WATER_LEVEL","-","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bz",".","z","=","-","1.0",";"]}]}}]},{TYPE:"txt",TOKENS:["fK",".","z","=","bz",".","z",";","fL",".","z","=","bz",".","z",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec3","fO","=","normalize","(","fK","-","bz",")",";","vec3","R","=","normalize","(","fL","-","bz",")",";","e","=","normalize","(","cross","(","fO",",","R",")",")",";","float","fP","=","dot","(","e",",","UP_VECTOR",")",";","float","aF","=","clamp","(","0.8","-","fP",",","0.0",",","1.0",")",";","e","=","mix","(","e",",","UP_VECTOR",",","aF",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","P","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","e","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["f","=","R",";","ex","=","cross","(","e",",","f",")",";"]}]}}]},{TYPE:"txt",TOKENS:["c","=","bz",";","bv","=","u_camera_eye","-","bz",";","vec4","bB","=","vec4","(","ae","(","u_view_tsr",",","bz",")",",","1.0",")",";","vec4","at","=","u_proj_matrix","*","bB",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","au","=","at",".","x",";","float","av","=","at",".","y",";","float","aw","=","at",".","w",";","h",".","x","=","(","au","+","aw",")","/","2.0",";","h",".","y","=","(","av","+","aw",")","/","2.0",";","h",".","z","=","aw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","-","bB",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","}"]}]},exports["postprocessing/antialiasing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_FXAA_LIGHT"]},{TYPE:"var",NAME:"AA_QUALITY",TOKENS:["AA_QUALITY_LOW"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_REDUCE_MIN",TOKENS:["(","1.0","/","128.0",")"]},{TYPE:"define",NAME:"FXAA_REDUCE_MUL",TOKENS:["(","1.0","/","8.0",")"]},{TYPE:"define",NAME:"FXAA_SPAN_MAX",TOKENS:["8.0"]},{TYPE:"txt",TOKENS:["vec4","fR","(","float","x",",","float","y",")","{","vec2","fQ","=","n","+","vec2","(","x",",","y",")","*","u_texel_size",";","return","GLSL_TEXTURE","(","u_color",",","fQ",")",";","}","vec4","gl","(",")","{","vec4","fS","=","fR","(","-","1.0",",","-","1.0",")",";","vec4","fT","=","fR","(","1.0",",","-","1.0",")",";","vec4","fU","=","fR","(","-","1.0",",","1.0",")",";","vec4","fV","=","fR","(","1.0",",","1.0",")",";","vec4","fW","=","fR","(","0.0",",","0.0",")",";","float","fX","=","es","(","fW",")",";","float","fY","=","es","(","fS",")",";","float","fZ","=","es","(","fT",")",";","float","f_","=","es","(","fU",")",";","float","gc","=","es","(","fV",")",";","float","gd","=","min","(","fX",",","min","(","min","(","fY",",","fZ",")",",","min","(","f_",",","gc",")",")",")",";","float","ge","=","max","(","fX",",","max","(","max","(","fY",",","fZ",")",",","max","(","f_",",","gc",")",")",")",";","vec2","da",";","da",".","x","=","-","(","(","fY","+","fZ",")","-","(","f_","+","gc",")",")",";","da",".","y","=","(","(","fY","+","f_",")","-","(","fZ","+","gc",")",")",";","float","gf","=","max","(","(","fY","+","fZ","+","f_","+","gc",")","*","(","0.25","*","FXAA_REDUCE_MUL",")",",","FXAA_REDUCE_MIN",")",";","float","gh","=","1.0","/","(","min","(","abs","(","da",".","x",")",",","abs","(","da",".","y",")",")","+","gf",")",";","da","=","min","(","vec2","(","FXAA_SPAN_MAX",",","FXAA_SPAN_MAX",")",",","max","(","vec2","(","-","FXAA_SPAN_MAX",",","-","FXAA_SPAN_MAX",")",",","da","*","gh",")",")","*","u_texel_size",";","vec4","gi","=","0.5","*","(","GLSL_TEXTURE","(","u_color",",","n","+","da","*","(","1.0","/","3.0","-","0.5",")",")","+","GLSL_TEXTURE","(","u_color",",","n","+","da","*","(","2.0","/","3.0","-","0.5",")",")",")",";","vec4","gj","=","gi","*","0.5","+","0.25","*","(","GLSL_TEXTURE","(","u_color",",","n","+","da","*","-","0.5",")","+","GLSL_TEXTURE","(","u_color",",","n","+","da","*","0.5",")",")",";","float","gk","=","es","(","gj",")",";","if","(","(","gk","<","gd",")","||","(","gk",">","ge",")",")","return","gi",";","else","return","gj",";","}"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GREEN_AS_LUMA",TOKENS:["1"]},{TYPE:"include",FILE:"fxaa.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_QUALITY","AA_QUALITY_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["39"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["1.00"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.063"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0312"]}]}},{TYPE:"elif",EXPRESSION:["AA_QUALITY","AA_QUALITY_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["20"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["0.65"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.166"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0625"]}]}},{TYPE:"elif",EXPRESSION:["AA_QUALITY","AA_QUALITY_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["0.50"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.166"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0833"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","gl","(",")",";"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","gm","=","u_texel_size",";","GLSL_OUT_FRAG_COLOR","=","gn","(","n",",","u_color",",","gm",",","FXAA_QUALITY_SUBPIX",",","FXAA_QUALITY_EDGE_THRESHOLD",",","FXAA_QUALITY_EDGE_THRESHOLD_MIN",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/bloom_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec2","fE","=","vec2","(","0.0",",","0.0",")",";","vec2","cx","=","u_texel_size",";","vec4","go","=","GLSL_TEXTURE","(","u_color",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","go","*","0.0875447373698",";","fE","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")","*","0.0858112354248",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")","*","0.0858112354248",";","fE","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")","*","0.0808139781061",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")","*","0.0808139781061",";","fE","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")","*","0.0731235112908",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")","*","0.0731235112908",";","fE","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")","*","0.0635705267419",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")","*","0.0635705267419",";","fE","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")","*","0.0530985673112",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")","*","0.0530985673112",";","fE","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")","*","0.0426125984122",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")","*","0.0426125984122",";","fE","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")","*","0.0328565115809",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")","*","0.0328565115809",";","fE","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")","*","0.0243407024472",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")","*","0.0243407024472",";","GLSL_OUT_FRAG_COLOR","=","max","(","0.7","*","go",",","GLSL_OUT_FRAG_COLOR",")",";","}"]}]},exports["postprocessing/bloom_combine.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_bloom",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gp","=","GLSL_TEXTURE","(","u_main",",","n",")",";","vec4","gq","=","GLSL_TEXTURE","(","u_bloom",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","gp","+","gq",";","}"]}]},exports["postprocessing/coc.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"COC_TYPE",TOKENS:["COC_ALL"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_coc_fg",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front_start",";","uniform","float","u_dof_front_end",";","uniform","float","u_dof_rear_start",";","uniform","float","u_dof_rear_end",";","uniform","vec2","u_camera_range",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","if","(","u_dof_dist",">","0.0",")","{","float","gt","=","gs","(","u_depth",",","n",",","u_camera_range",")",";","gt","*=","u_view_max_depth",";","float","gu","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","gv","=","GLSL_TEXTURE","(","u_coc_fg",",","n",")",";","float","gw","=","gv",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","gt","<","u_dof_dist",")","gu","=","(","u_dof_dist","-","gt","-","u_dof_front_start",")","/","(","u_dof_front_end","-","u_dof_front_start",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_FOREGROUND",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","gu","=","(","gt","-","u_dof_dist","-","u_dof_rear_start",")","/","(","u_dof_rear_end","-","u_dof_rear_start",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gu","=","clamp","(","gu",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["gu","=","max","(","gu",",","gw",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_FOREGROUND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","gu",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",".","xyz","*","gu",",","gu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",".","xyz",",","0.0",")",";","}"]}]},exports["postprocessing/compositing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","float","u_brightness",";","uniform","float","u_contrast",";","uniform","float","u_exposure",";","uniform","float","u_saturation",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gx","=","GLSL_TEXTURE","(","u_color",",","n",")",";","vec3","aK","=","gx",".","rgb",";","if","(","u_brightness","<","0.0",")","aK","=","aK","*","(","1.0","+","u_brightness",")",";","else","aK","=","aK","+","(","(","1.0","-","aK",")","*","u_brightness",")",";","aK","=","(","aK","-","0.5",")","*","(","tan","(","(","u_contrast","+","1.0",")","*","M_PI_4",")",")","+","0.5",";","aK","*=","u_exposure",";","float","cZ","=","es","(","vec4","(","aK",",","0.0",")",")",";","aK","=","mix","(","vec3","(","cZ",")",",","aK",",","u_saturation",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","gx",".","a",")",";","}"]}]},exports["postprocessing/depth_pack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","gy","(","clamp","(","gs","(","u_depth",",","n",",","u_camera_range",")",",","0.0",",","0.999999",")",")",";","}"]}]},exports["postprocessing/dof.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DOF_TYPE",TOKENS:["DOF_SIMPLE"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOF_TYPE","DOF_BOKEH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","highp","sampler2D","u_sharp",";","uniform","highp","sampler2D","u_blurred1",";","uniform","highp","sampler2D","u_blurred2",";","uniform","float","u_dof_dist",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sharp",";","uniform","sampler2D","u_blurred",";","uniform","sampler2D","u_depth",";","uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front_end",";","uniform","float","u_dof_rear_end",";","uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gz","=","GLSL_TEXTURE","(","u_sharp",",","n",")",";","if","(","u_dof_dist",">","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOF_TYPE","DOF_BOKEH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","gu",";","vec4","gA","=","GLSL_TEXTURE","(","u_blurred1",",","n",")",";","vec4","gB","=","GLSL_TEXTURE","(","u_blurred2",",","n",")",";","vec4","gC","=","min","(","gA",".","rgba",",","gB",".","rgba",")",";","gu","=","gC",".","a",";","if","(","gu",">","0.0",")","{","gC","=","vec4","(","gC",".","rgb","/","gu",",","gz",".","a",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","gz",",","gC",",","min","(","gu","*","5.0",",","1.0",")",")",";","}","else","GLSL_OUT_FRAG_COLOR","=","gz",";"]}]}},{TYPE:"elif",EXPRESSION:["DOF_TYPE","DOF_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","gt","=","gs","(","u_depth",",","n",",","u_camera_range",")",";","gt","*=","u_view_max_depth",";","float","gD",";","if","(","gt","<","u_dof_dist",")","gD","=","(","u_dof_dist","-","gt",")","/","u_dof_front_end",";","else","gD","=","(","gt","-","u_dof_dist",")","/","u_dof_rear_end",";","gD","=","clamp","(","gD",",","0.0",",","1.0",")",";","vec4","gE","=","GLSL_TEXTURE","(","u_blurred",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","gz",",","gE",",","gD",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","gz",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","GLSL_OUT_FRAG_COLOR","=","gz",";","}"]}]},exports["postprocessing/glow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_src_color",";","uniform","sampler2D","u_glow_mask_small",";","uniform","sampler2D","u_glow_mask_large",";","uniform","float","u_glow_mask_small_coeff",";","uniform","float","u_glow_mask_large_coeff",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gF","=","GLSL_TEXTURE","(","u_src_color",",","n",")",";","vec4","gG","=","GLSL_TEXTURE","(","u_glow_mask_small",",","n",")",";","vec4","gH","=","GLSL_TEXTURE","(","u_glow_mask_large",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","gF",";","if","(","gH",".","a","!=","0.0",")","{","float","gI","=","u_glow_mask_large_coeff","*","gH",".","a",";","gI","=","clamp","(","gI",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","mix","(","GLSL_OUT_FRAG_COLOR",".","rgb",",","gH",".","rgb","/","gH",".","a",",","gI",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","mix","(","GLSL_OUT_FRAG_COLOR",".","a",",","1.0",",","gI",")",";","}","if","(","gG",".","a","!=","0.0",")","{","float","gJ","=","u_glow_mask_small_coeff","*","gG",".","a",";","gJ","=","clamp","(","gJ",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","mix","(","GLSL_OUT_FRAG_COLOR",".","rgb",",","gG",".","rgb","/","gG",".","a",",","gJ",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","mix","(","GLSL_OUT_FRAG_COLOR",".","a",",","1.0",",","gJ",")",";","}","}"]}]},exports["postprocessing/god_rays.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DEPTH_RGBA",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"STEPS_PER_PASS",TOKENS:["10.0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_radial_blur_step",";","uniform","sampler2D","u_input",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","gK",";","GLSL_IN","vec2","gL",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";","GLSL_IN","vec4","gM",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec2","cx","=","(","gM",".","xy","-","n",")",";","float","aG","=","length","(","cx",")",";","vec2","gN","=","u_radial_blur_step","*","cx","/","aG",";","float","gO","=","aG","/","u_radial_blur_step",";","gN","*=","min","(","gO",",","STEPS_PER_PASS",")","/","STEPS_PER_PASS",";","gO","=","max","(","gO",",","STEPS_PER_PASS",")",";","vec2","gP","=","n",";","float","gQ","=","0.0",";","const","int","gR","=","int","(","STEPS_PER_PASS",")",";","int","gS","=","int","(","gO","+","0.5",")",";","for","(","int","bQ","=","0",";","bQ","<","gR",";","bQ","+=","1",")","{","if","(","bQ","<=","gS",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","gt","=","gs","(","u_input",",","gP",",","u_camera_range",")",";","gQ","+=","max","(","(","1.0","-","pow","(","aG",",","0.3",")",")","*","step","(","0.9",",","gt",")",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","gT","=","GLSL_TEXTURE","(","u_input",",","gP",")",";","gQ","+=","cv","(","gT",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","gP","+=","gN",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bE","=","n","+","gL",";","float","gU","=","fC","(","vec2","(","2.5","*","(","bE",".","x",")",",","2.5","*","(","bE",".","y",")","+","1.0","*","u_time",")",")",".","x","+","0.75","*","fC","(","vec2","(","5.0","*","(","bE",".","x",")","-","0.66","*","u_time",",","5.0","*","(","bE",".","y",")","+","0.66","*","u_time",")",")",".","x","+","0.5","*","fr","(","vec2","(","7.5","*","(","bE",".","x",")","+","0.33","*","u_time",",","7.5","*","(","bE",".","y",")","-","0.33","*","u_time",")",")",";","gU","*=","clamp","(","1.2","-","sqrt","(","0.2","*","aG",")",",","0.0",",","1.0",")","*","gK",";","gQ","=","max","(","gU",",","gQ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","gy","(","gQ","/","STEPS_PER_PASS",")",";","}"]}]},exports["postprocessing/god_rays.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DEPTH_RGBA",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","mat4","u_view_proj_matrix",";","uniform","vec3","u_sun_direction",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_camera_quat",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_bb_vertex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","gK",";","GLSL_OUT","vec2","gL",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";","GLSL_OUT","vec4","gM",";","void","main","(",")","{","n","=","a_bb_vertex","+","0.5",";","vec3","da","=","normalize","(","u_sun_direction",")",";","gM","=","u_view_proj_matrix","*","vec4","(","da",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_cam_water_depth","<","0.0",")","{","gK","=","1.0",";","vec3","gV","=","vec3","(","0.0",",","1.0",",","0.0",")",";","vec3","gW","=","P","(","u_camera_quat",",","gV",")",";","gW","=","normalize","(","gW",")",";","float","gX","=","dot","(","gW",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","float","gY","=","atan","(","gW",".","x",",","gW",".","z",")",";","gL","=","vec2","(","-","gY",",","acos","(","gX",")",")",";","}","else","{","gK","=","0.0",";","}"]}]}}]},{TYPE:"txt",TOKENS:["gM",".","xy","=","0.5","*","(","gM",".","xy","/","gM",".","w","+","1.0",")",";","gM","+=","99999.0","*","step","(","gM",".","z",",","0.0",")",";","gl_Position","=","vec4","(","2.0","*","a_bb_vertex",".","xy",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/god_rays_combine.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SAFARI_CANVAS_ALPHA_HACK",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_god_rays",";","uniform","float","u_god_rays_intensity",";","uniform","vec3","u_sun_intensity",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gZ","=","GLSL_TEXTURE","(","u_main",",","n",")",";","vec3","g_","=","clamp","(","u_sun_intensity",",","0.4",",","0.8",")",";","bY","(","gZ",".","rgb",")",";","float","ha","=","cv","(","GLSL_TEXTURE","(","u_god_rays",",","n",")",")",";","vec3","hb","=","gZ",".","rgb","+","u_god_rays_intensity","*","vec3","(","ha",")","*","g_",";","aQ","(","hb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SAFARI_CANVAS_ALPHA_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","hb",",","max","(","0.01",",","gZ",".","a",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","hb",",","gZ",".","a",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/luminance.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_input",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gp","=","GLSL_TEXTURE","(","u_input",",","n",")",";","float","hc","=","dot","(","gp",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","vec3","(","hc",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_av.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_input",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","hc",";","float","hd","=","0.0",";","float","w","=","0.025",";","float","bO","=","0.025",";","for","(","int","bQ","=","0",";","bQ","<","20",";","bQ","+=","1",")","{","bO","=","0.025",";","for","(","int","he","=","0",";","he","<","20",";","he","+=","1",")","{","hc","=","max","(","GLSL_TEXTURE","(","u_input",",","vec2","(","w",",","bO",")",")",".","r",",","0.01",")",";","hd","+=","log","(","hc",")",";","bO","+=","0.05",";","}","w","+=","0.05",";","}","float","hf","=","exp","(","hd","/","400.0",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","vec3","(","hf",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_trunced.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_luminance",";","uniform","sampler2D","u_average_lum",";","uniform","float","u_bloom_edge_lum",";","GLSL_IN","vec2","n",";","GLSL_IN","float","hg",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","hf","=","GLSL_TEXTURE","(","u_average_lum",",","vec2","(","0.5",")",")",".","r",";","float","hh","=","GLSL_TEXTURE","(","u_luminance",",","n",")",".","r",";","vec4","aK","=","GLSL_TEXTURE","(","u_main",",","n",")",";","float","hi","=","hh","/","hf",";","float","hj","=","u_bloom_edge_lum",";","GLSL_OUT_FRAG_COLOR","=","aK","*","max","(","hi","-","hj",",","0.0",")","*","hg",";","}"]}]},exports["postprocessing/luminance_trunced.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec4","u_camera_quat",";","uniform","vec3","u_sun_direction",";","uniform","float","u_bloom_key",";","GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","n",";","GLSL_OUT","float","hg",";","void","hr","(","in","vec4","hk",",","in","vec3","hl",",","out","vec3","hm",")","{","float","hn","=","hk",".","w","*","hl",".","x","+","hk",".","y","*","hl",".","z","-","hk",".","z","*","hl",".","y",";","float","ho","=","hk",".","w","*","hl",".","y","+","hk",".","z","*","hl",".","x","-","hk",".","x","*","hl",".","z",";","float","hp","=","hk",".","w","*","hl",".","z","+","hk",".","x","*","hl",".","y","-","hk",".","y","*","hl",".","x",";","float","hq","=","-","hk",".","x","*","hl",".","x","-","hk",".","y","*","hl",".","y","-","hk",".","z","*","hl",".","z",";","hm",".","x","=","hn","*","hk",".","w","-","hq","*","hk",".","x","-","ho","*","hk",".","z","+","hp","*","hk",".","y",";","hm",".","y","=","ho","*","hk",".","w","-","hq","*","hk",".","y","-","hp","*","hk",".","x","+","hn","*","hk",".","z",";","hm",".","z","=","hp","*","hk",".","w","-","hq","*","hk",".","z","-","hn","*","hk",".","y","+","ho","*","hk",".","x",";","}","void","main","(",")","{","n","=","2.0","*","a_position",";","vec3","gW",";","hr","(","u_camera_quat",",","UP_VECTOR",",","gW",")",";","hg","=","dot","(","-","gW",",","u_sun_direction",")","*","u_bloom_key",";","hg","*=","max","(","sign","(","u_sun_direction",".","z",")",",","0.0",")",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/motion_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_mb_tex_curr",";","uniform","sampler2D","u_mb_tex_accum",";","uniform","float","u_motion_blur_exp",";","uniform","float","u_motion_blur_decay_threshold",";","float","hs","=","0.0042",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","ht","=","GLSL_TEXTURE","(","u_mb_tex_curr",",","n",")",";","vec4","hu","=","GLSL_TEXTURE","(","u_mb_tex_accum",",","n",")",";","if","(","length","(","ht","-","hu",")",">","u_motion_blur_decay_threshold",")","{","vec4","hv","=","(","1.0","-","u_motion_blur_exp",")","*","ht","+","u_motion_blur_exp","*","hu",";","vec4","hw","=","hv","-","hu",";","vec4","hx","=","ht","-","hu",";","vec4","cx","=","min","(","max","(","abs","(","hw",")",",","vec4","(","hs",")",")",",","abs","(","hx",")",")","*","sign","(","hw",")",";","GLSL_OUT_FRAG_COLOR","=","hu","+","cx",";","}","else","{","GLSL_OUT_FRAG_COLOR","=","ht",";","}","}"]}]},exports["postprocessing/outline.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_outline_src",";","uniform","sampler2D","u_outline_mask",";","uniform","sampler2D","u_outline_mask_blurred",";","uniform","vec3","u_outline_color",";","uniform","float","u_draw_outline",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","hy","=","GLSL_TEXTURE","(","u_outline_src",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","hy",";","if","(","u_draw_outline","!=","0.0",")","{","vec4","hz","=","GLSL_TEXTURE","(","u_outline_mask",",","n",")",";","vec4","hA","=","GLSL_TEXTURE","(","u_outline_mask_blurred",",","n",")",";","float","hB","=","hA",".","a","-","hz",".","a",";","if","(","hB","!=","0.0",")","{","float","hC","=","smoothstep","(","0.0",",","1.0",",","hA",".","a",")",";","if","(","hz",".","a","==","0.0",")","{","vec3","hD","=","u_outline_color",";","aQ","(","hD",")",";","vec4","hE","=","vec4","(","clamp","(","hD",",","0.0",",","1.0",")",",","1.0",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","hy",",","hE",",","hC",")",";","}","}","}","}"]}]},exports["postprocessing/performance.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aK","=","vec4","(","0.0",")",";","for","(","int","bQ","=","0",";","bQ","<","10",";","bQ","++",")","{","vec2","hF","=","vec2","(","fract","(","n","*","vec2","(","bQ",")","*","vec2","(","1.431",",","3.921",")",")",")",";","aK","+=","0.01","*","GLSL_TEXTURE","(","u_color",",","hF",")",";","}","GLSL_OUT_FRAG_COLOR","=","aK",";","}"]}]},exports["postprocessing/postprocessing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"POST_EFFECT",TOKENS:["POST_EFFECT_NONE"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_tex_number",";","uniform","vec2","u_delta",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","POST_EFFECT_DOF_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_dof_bokeh_intensity",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","POST_EFFECT_NONE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","n",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_GRAYSCALE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","db","=","GLSL_TEXTURE","(","u_color",",","n",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","vec3","(","(","db",".","r","+","db",".","g","+","db",".","b",")","/","3.0",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","1.0",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fE","=","vec2","(","0.0",",","0.0",")",";","vec2","cx","=","u_texel_size",";","vec4","aK",";","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","aK","*","0.2270270270",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.1945945946",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.1945945946",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.1216216216",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.1216216216",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.0540540541",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.0540540541",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.0162162162",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.0162162162",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_GLOW_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fE","=","vec2","(","0.0",",","0.0",")",";","vec2","cx","=","u_texel_size",";","vec4","aK",";","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.152507",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.141763",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.141763",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.113861",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.113861",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.079019",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.079019",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.047383",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.047383",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.024549",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.024549",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.01099",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.01099",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.00425",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.00425",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.00142",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.00142",";","GLSL_OUT_FRAG_COLOR","=","clamp","(","GLSL_OUT_FRAG_COLOR",",","0.0",",","1.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_DOF_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fE","=","vec2","(","0.0",",","0.0",")",";","vec2","cx","=","u_texel_size",";","vec4","aK",";","vec4","hG",";","vec4","hH",";","float","gu",";","float","hI","=","u_dof_bokeh_intensity",";","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","hG","=","aK",";","hH","=","aK",";","gu","=","aK",".","a",";","cx","=","gu","*","cx",";","for","(","int","bQ","=","0",";","bQ","<","12",";","bQ","+=","2",")","{","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","hG","+=","aK",";","hH","=","max","(","hH",",","aK",")",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","hG","+=","aK",";","hH","=","max","(","hH",",","aK",")",";","}","hG","/=","13.0",";","GLSL_OUT_FRAG_COLOR","=","mix","(","hG",",","hH",",","hI",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_ALPHA_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fE","=","vec2","(","0.0",",","0.0",")",";","vec2","cx","=","u_texel_size",";","vec4","aK",";","vec4","hG",";","vec4","hH",";","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","hH","=","max","(","hH",",","aK",")",";","hG","=","aK",";","hG",".","a","=","aK",".","a","*","0.2270270270",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","hH",".","a","=","max","(","hH",".","a",",","aK",".","a",")",";","hG",".","a","+=","aK",".","a","*","0.1945945946",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","hH",".","a","=","max","(","hH",".","a",",","aK",".","a",")",";","hG",".","a","+=","aK",".","a","*","0.1945945946",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","hH",".","a","=","max","(","hH",".","a",",","aK",".","a",")",";","hG",".","a","+=","aK",".","a","*","0.1216216216",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","hH",".","a","=","max","(","hH",".","a",",","aK",".","a",")",";","hG",".","a","+=","aK",".","a","*","0.1216216216",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","hH",".","a","=","max","(","hH",".","a",",","aK",".","a",")",";","hG",".","a","+=","aK",".","a","*","0.0540540541",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","hH",".","a","=","max","(","hH",".","a",",","aK",".","a",")",";","hG",".","a","+=","aK",".","a","*","0.0540540541",";","fE","+=","cx",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fE",")",";","hH",".","a","=","max","(","hH",".","a",",","aK",".","a",")",";","hG",".","a","+=","aK",".","a","*","0.0162162162",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fE",")",";","hH",".","a","=","max","(","hH",".","a",",","aK",".","a",")",";","hG",".","a","+=","aK",".","a","*","0.0162162162",";","GLSL_OUT_FRAG_COLOR","=","mix","(","hG",",","hH",",","0.5",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_EXTEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cx","=","u_texel_size",";","vec4","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","aK",";","if","(","aK",".","a","==","0.0",")","{","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","cx",")",";","if","(","aK",".","a",">","0.0",")","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","aK",".","a",")",";","else","{","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","cx",")",";","if","(","aK",".","a",">","0.0",")","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","aK",".","a",")",";","}","}"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","hJ","=","u_delta","[","0","]",";","float","hK","=","u_delta","[","1","]",";","float","hL","=","1.0","/","3.0",";","float","hM","=","0.5",";","vec2","hN","=","vec2","(","hL",",","hM",")",";","if","(","u_tex_number","==","0",")","{","vec2","bE","=","mat2","(","0.0",",","-","1.0",",","1.0",",","0.0",")","*","n","*","hN","+","vec2","(","2.0","*","hL",",","hM",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","2.0","*","hL","+","hJ",")",";","bE","[","1","]","=","max","(","bE","[","1","]",",","hK",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bE","[","0","]",",","hM","-","bE","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","1",")","{","vec2","bE","=","mat2","(","0.0",",","-","1.0",",","1.0",",","0.0",")","*","n","*","hN","+","vec2","(","0.0",",","hM",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","hJ",")",";","bE","[","1","]","=","min","(","bE","[","1","]",",","hM","-","hK",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","hL","-","bE","[","0","]",",","bE","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","2",")","{","vec2","bE","=","n","*","hN","+","vec2","(","2.0","*","hL",",","hM",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","2.0","*","hL","+","hJ",")",";","bE","[","1","]","=","min","(","bE","[","1","]",",","1.0","-","hK",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bE","[","0","]",",","1.5","-","bE","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","3",")","{","vec2","bE","=","n","*","hN","+","vec2","(","hL",",","0.0",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","hL","+","hJ",")",";","bE","[","0","]","=","min","(","bE","[","0","]",",","2.0","*","hL","-","hJ",")",";","bE","[","1","]","=","min","(","bE","[","1","]",",","hM","-","hK",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","1.0","-","bE","[","0","]",",","bE","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","4",")","{","vec2","bE","=","n","*","hN","+","vec2","(","hL",",","hM",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","hL","+","hJ",")",";","bE","[","0","]","=","min","(","bE","[","0","]",",","2.0","*","hL","-","hJ",")",";","bE","[","1","]","=","min","(","bE","[","1","]",",","1.0","-","hK",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bE","[","0","]",",","3.0","*","hM","-","bE","[","1","]",")",")",";","}","else","{","vec2","bE","=","n","*","hN","+","vec2","(","0.0",",","hM",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","hJ",")",";","bE","[","1","]","=","min","(","bE","[","1","]",",","1.0","-","hK",")",";","bE","[","1","]","=","max","(","bE","[","1","]",",","hM","+","hK",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","hL","-","bE","[","0","]",",","bE","[","1","]",")",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/postprocessing.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","n",";","void","main","(",")","{","n","=","2.0","*","a_position",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/smaa.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SMAA_PASS",TOKENS:["SMAA_RESOLVE"]},{TYPE:"var",NAME:"SMAA_REPROJECTION",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_PREDICATION",TOKENS:["0"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_SMAA_LOW"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color_prev",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_blend",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_velocity_tex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2},"SMAA_PREDICATION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_predication_tex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_search_tex",";","uniform","sampler2D","u_area_tex",";","uniform","vec4","u_subsample_indices",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","GLSL_IN","vec2","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","hO",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","hP",";","GLSL_IN","vec4","hQ",";","GLSL_IN","vec4","hR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","hS",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.15"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["1"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["1"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["0"]},{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["8"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.05"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["0"]},{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["16"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_DEPTH_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_DEPTH_THRESHOLD",TOKENS:["(","0.1","*","SMAA_THRESHOLD",")"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["8"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_CORNER_ROUNDING",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",TOKENS:["2.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_THRESHOLD",TOKENS:["0.01"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_SCALE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_SCALE",TOKENS:["2.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_STRENGTH",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_STRENGTH",TOKENS:["0.4"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_REPROJECTION",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_REPROJECTION",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_REPROJECTION_WEIGHT_SCALE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_REPROJECTION_WEIGHT_SCALE",TOKENS:["30.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}}]},{TYPE:"define",NAME:"SMAA_AREATEX_MAX_DISTANCE",TOKENS:["16"]},{TYPE:"define",NAME:"SMAA_AREATEX_MAX_DISTANCE_DIAG",TOKENS:["20"]},{TYPE:"define",NAME:"SMAA_AREATEX_PIXEL_SIZE",TOKENS:["(","1.0","/","vec2","(","160.0",",","560.0",")",")"]},{TYPE:"define",NAME:"SMAA_AREATEX_SUBTEX_SIZE",TOKENS:["(","1.0","/","7.0",")"]},{TYPE:"define",NAME:"SMAA_SEARCHTEX_SIZE",TOKENS:["vec2","(","66.0",",","33.0",")"]},{TYPE:"define",NAME:"SMAA_SEARCHTEX_PACKED_SIZE",TOKENS:["vec2","(","64.0",",","16.0",")"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING_NORM",TOKENS:["(","float","(","SMAA_CORNER_ROUNDING",")","/","100.0",")"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","hW","(","vec2","bE",",","sampler2D","hT",")","{","float","p","=","GLSL_TEXTURE","(","hT",",","bE",")",".","r",";","float","hU","=","GLSL_TEXTURE","(","hT",",","hP",".","xy",")",".","r",";","float","hV","=","GLSL_TEXTURE","(","hT",",","hP",".","zw",")",".","r",";","return","vec3","(","p",",","hU",",","hV",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","h_","(","vec2","bE",",","sampler2D","hX",")","{","vec3","hY","=","hW","(","bE",",","hX",")",";","vec2","cx","=","abs","(","hY",".","xx","-","hY",".","yz",")",";","vec2","hZ","=","step","(","SMAA_PREDICATION_THRESHOLD",",","cx",")",";","return","SMAA_PREDICATION_SCALE","*","SMAA_THRESHOLD","*","(","1.0","-","SMAA_PREDICATION_STRENGTH","*","hZ",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","id","(","bvec2","ia",",","inout","vec2","ib",",","vec2","ic",")","{","if","(","ia",".","x",")","ib",".","x","=","ic",".","x",";","if","(","ia",".","y",")","ib",".","y","=","ic",".","y",";","}","void","id","(","bvec4","ia",",","inout","vec4","ib",",","vec4","ic",")","{","id","(","ia",".","xy",",","ib",".","xy",",","ic",".","xy",")",";","id","(","ia",".","zw",",","ib",".","zw",",","ic",".","zw",")",";","}","vec2","ie","(","vec2","x",")","{","return","sign","(","x",")","*","floor","(","abs","(","x",")","+",".5",")",";","}","vec4","ie","(","vec4","x",")","{","return","sign","(","x",")","*","floor","(","abs","(","x",")","+",".5",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","it","(","vec2","bE",",","sampler2D","ig"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","hX"]}]}}]},{TYPE:"txt",TOKENS:[")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ih","=","h_","(","bE",",","hX",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ih","=","vec2","(","SMAA_THRESHOLD",",","SMAA_THRESHOLD",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","ii","=","vec3","(","0.2126",",","0.7152",",","0.0722",")",";","float","ij","=","dot","(","GLSL_TEXTURE","(","ig",",","bE",")",".","rgb",",","ii",")",";","float","ik","=","dot","(","GLSL_TEXTURE","(","ig",",","hP",".","xy",")",".","rgb",",","ii",")",";","float","il","=","dot","(","GLSL_TEXTURE","(","ig",",","hP",".","zw",")",".","rgb",",","ii",")",";","vec4","cx",";","cx",".","xy","=","abs","(","ij","-","vec2","(","ik",",","il",")",")",";","vec2","hZ","=","step","(","ih",",","cx",".","xy",")",";","if","(","dot","(","hZ",",","vec2","(","1.0",",","1.0",")",")","==","0.0",")","discard",";","float","im","=","dot","(","GLSL_TEXTURE","(","ig",",","hQ",".","xy",")",".","rgb",",","ii",")",";","float","io","=","dot","(","GLSL_TEXTURE","(","ig",",","hQ",".","zw",")",".","rgb",",","ii",")",";","cx",".","zw","=","abs","(","ij","-","vec2","(","im",",","io",")",")",";","vec2","ip","=","max","(","cx",".","xy",",","cx",".","zw",")",";","float","iq","=","dot","(","GLSL_TEXTURE","(","ig",",","hR",".","xy",")",".","rgb",",","ii",")",";","float","ir","=","dot","(","GLSL_TEXTURE","(","ig",",","hR",".","zw",")",".","rgb",",","ii",")",";","cx",".","zw","=","abs","(","vec2","(","ik",",","il",")","-","vec2","(","iq",",","ir",")",")",";","ip","=","max","(","ip",".","xy",",","cx",".","zw",")",";","float","is","=","max","(","ip",".","x",",","ip",".","y",")",";","hZ",".","xy","*=","step","(","is",",","SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR","*","cx",".","xy",")",";","return","hZ",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","iv","(","vec2","iu",")","{","iu",".","r","=","iu",".","r","*","abs","(","5.0","*","iu",".","r","-","5.0","*","0.75",")",";","return","ie","(","iu",")",";","}","vec4","iv","(","vec4","iu",")","{","iu",".","rb","=","iu",".","rb","*","abs","(","5.0","*","iu",".","rb","-","5.0","*","0.75",")",";","return","ie","(","iu",")",";","}","vec2","ix","(","sampler2D","iw",",","vec2","bE",",","vec2","da",",","out","vec2","iu",")","{","vec4","fQ","=","vec4","(","bE",",","-","1.0",",","1.0",")",";","vec3","t","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","bQ","++",")","{","if","(","fQ",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","fQ",".","w",">","0.9",")","{","fQ",".","xyz","+=","t","*","vec3","(","da",",","1.0",")",";","iu","=","GLSL_TEXTURE","(","iw",",","fQ",".","xy",",","0.0",")",".","rg",";","fQ",".","w","=","dot","(","iu",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","fQ",".","zw",";","}","vec2","iy","(","sampler2D","iw",",","vec2","bE",",","vec2","da",",","out","vec2","iu",")","{","vec4","fQ","=","vec4","(","bE",",","-","1.0",",","1.0",")",";","fQ",".","x","+=","0.25","*","u_texel_size",".","x",";","vec3","t","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","bQ","++",")","{","if","(","fQ",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","fQ",".","w",">","0.9",")","{","fQ",".","xyz","=","t","*","vec3","(","da",",","1.0",")","+","fQ",".","xyz",";","iu","=","GLSL_TEXTURE","(","iw",",","fQ",".","xy",",","0.0",")",".","rg",";","iu","=","iv","(","iu",")",";","fQ",".","w","=","dot","(","iu",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","fQ",".","zw",";","}","vec2","iA","(","sampler2D","iz",",","vec2","aG",",","vec2","iu",",","float","fE",")","{","vec2","bE","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE_DIAG",",","SMAA_AREATEX_MAX_DISTANCE_DIAG",")","*","iu","+","aG",";","bE","=","SMAA_AREATEX_PIXEL_SIZE","*","bE","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","bE",".","x","+=","0.5",";","bE",".","y","+=","SMAA_AREATEX_SUBTEX_SIZE","*","fE",";","return","GLSL_TEXTURE","(","iz",",","bE",",","0.0",")",".","rg",";","}","vec2","iF","(","sampler2D","iw",",","sampler2D","iz",",","vec2","bE",",","vec2","iu",",","vec4","iB",")","{","vec2","ii","=","vec2","(","0.0",",","0.0",")",";","vec4","dg",";","vec2","iC",";","if","(","iu",".","r",">","0.0",")","{","dg",".","xz","=","ix","(","iw",",","bE",",","vec2","(","-","1.0",",","1.0",")",",","iC",")",";","dg",".","x","+=","float","(","iC",".","y",">","0.9",")",";","}","else","dg",".","xz","=","vec2","(","0.0",",","0.0",")",";","dg",".","yw","=","ix","(","iw",",","bE",",","vec2","(","1.0",",","-","1.0",")",",","iC",")",";","if","(","dg",".","x","+","dg",".","y",">","2.0",")","{","vec4","iD","=","vec4","(","-","dg",".","x","+","0.25",",","dg",".","x",",","dg",".","y",",","-","dg",".","y","-","0.25",")","*","u_texel_size",".","xyxy","+","bE",".","xyxy",";","vec4","db",";","db",".","xy","=","GLSL_TEXTURE","(","iw",",","iD",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","rg",";","db",".","zw","=","GLSL_TEXTURE","(","iw",",","iD",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","rg",";","db",".","yxwz","=","iv","(","db",".","xyzw",")",";","vec2","iE","=","vec2","(","2.0",",","2.0",")","*","db",".","xz","+","db",".","yw",";","id","(","bvec2","(","step","(","0.9",",","dg",".","zw",")",")",",","iE",",","vec2","(","0.0",",","0.0",")",")",";","ii","+=","iA","(","iz",",","dg",".","xy",",","iE",",","iB",".","z",")",";","}","dg",".","xz","=","iy","(","iw",",","bE",",","vec2","(","-","1",",","-","1",")",",","iC",")",";","if","(","GLSL_TEXTURE","(","iw",",","bE","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",">","0.0",")","{","dg",".","yw","=","iy","(","iw",",","bE",",","vec2","(","1",",","1",")",",","iC",")",";","dg",".","y","+=","float","(","iC",".","y",">","0.9",")",";","}","else","dg",".","yw","=","vec2","(","0.0",",","0.0",")",";","if","(","dg",".","x","+","dg",".","y",">","2.0",")","{","vec4","iD","=","vec4","(","-","dg",".","x",",","-","dg",".","x",",","dg",".","y",",","dg",".","y",")","*","u_texel_size",".","xyxy","+","bE",".","xyxy",";","vec4","db",";","db",".","x","=","GLSL_TEXTURE","(","iw",",","iD",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","g",";","db",".","y","=","GLSL_TEXTURE","(","iw",",","iD",".","xy","+","u_texel_size","*","vec2","(","0",",","-","1",")",",","0.0",")",".","r",";","db",".","zw","=","GLSL_TEXTURE","(","iw",",","iD",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","gr",";","vec2","iE","=","vec2","(","2.0",",","2.0",")","*","db",".","xz","+","db",".","yw",";","id","(","bvec2","(","step","(","0.9",",","dg",".","zw",")",")",",","iE",",","vec2","(","0",",","0",")",")",";","ii","+=","iA","(","iz",",","dg",".","xy",",","iE",",","iB",".","w",")",".","gr",";","}","return","ii",";","}"]}]}}]},{TYPE:"txt",TOKENS:["float","iI","(","sampler2D","iG",",","vec2","iu",",","float","fE",")","{","vec2","hN","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","0.5",",","-","1.0",")",";","vec2","iH","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","fE",",","1.0",")",";","hN","+=","vec2","(","-","1.0",",","1.0",")",";","iH","+=","vec2","(","0.5",",","-","0.5",")",";","hN","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","iH","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","return","GLSL_TEXTURE","(","iG",",","hN","*","iu","+","iH",",","0.0",")",".","r",";","}","float","iJ","(","sampler2D","iw",",","sampler2D","iG",",","vec2","bE",",","float","iC",")","{","vec2","iu","=","vec2","(","0.0",",","1.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS",";","bQ","++",")","{","if","(","bE",".","x",">","iC","&&","iu",".","g",">","0.8281","&&","iu",".","r","==","0.0",")","{","iu","=","GLSL_TEXTURE","(","iw",",","bE",",","0.0",")",".","rg",";","bE","=","-","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","bE",";","}","}","float","fE","=","-","(","255.0","/","127.0",")","*","iI","(","iG",",","iu",",","0.0",")","+","3.25",";","return","u_texel_size",".","x","*","fE","+","bE",".","x",";","}","float","iK","(","sampler2D","iw",",","sampler2D","iG",",","vec2","bE",",","float","iC",")","{","vec2","iu","=","vec2","(","0.0",",","1.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS",";","bQ","++",")","{","if","(","bE",".","x","<","iC","&&","iu",".","g",">","0.8281","&&","iu",".","r","==","0.0",")","{","iu","=","GLSL_TEXTURE","(","iw",",","bE",",","0.0",")",".","rg",";","bE","=","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","bE",";","}","}","float","fE","=","-","(","255.0","/","127.0",")","*","iI","(","iG",",","iu",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","x","*","fE","+","bE",".","x",";","}","float","iL","(","sampler2D","iw",",","sampler2D","iG",",","vec2","bE",",","float","iC",")","{","vec2","iu","=","vec2","(","1.0",",","0.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS",";","bQ","++",")","{","if","(","bE",".","y",">","iC","&&","iu",".","r",">","0.8281","&&","iu",".","g","==","0.0",")","{","iu","=","GLSL_TEXTURE","(","iw",",","bE",",","0.0",")",".","rg",";","bE","=","-","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","bE",";","}","}","float","fE","=","-","(","255.0","/","127.0",")","*","iI","(","iG",",","iu",".","gr",",","0.0",")","+","3.25",";","return","u_texel_size",".","y","*","fE","+","bE",".","y",";","}","float","iM","(","sampler2D","iw",",","sampler2D","iG",",","vec2","bE",",","float","iC",")","{","vec2","iu","=","vec2","(","1.0",",","0.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS",";","bQ","++",")","{","if","(","bE",".","y","<","iC","&&","iu",".","r",">","0.8281","&&","iu",".","g","==","0.0",")","{","iu","=","GLSL_TEXTURE","(","iw",",","bE",",","0.0",")",".","rg",";","bE","=","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","bE",";","}","}","float","fE","=","-","(","255.0","/","127.0",")","*","iI","(","iG",",","iu",".","gr",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","y","*","fE","+","bE",".","y",";","}","vec2","iP","(","sampler2D","iz",",","vec2","aG",",","float","iN",",","float","iO",",","float","fE",")","{","vec2","bE","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE",",","SMAA_AREATEX_MAX_DISTANCE",")","*","ie","(","4.0","*","vec2","(","iN",",","iO",")",")","+","aG",";","bE","=","SMAA_AREATEX_PIXEL_SIZE","*","bE","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","bE",".","y","=","SMAA_AREATEX_SUBTEX_SIZE","*","fE","+","bE",".","y",";","return","GLSL_TEXTURE","(","iz",",","bE",",","0.0",")",".","rg",";","}","void","iS","(","sampler2D","iw",",","inout","vec2","ii",",","vec4","bE",",","vec2","dg",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_CORNER_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","iQ","=","step","(","dg",".","xy",",","dg",".","yx",")",";","vec2","iR","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","iQ",";","iR","/=","iQ",".","x","+","iQ",".","y",";","vec2","aF","=","vec2","(","1.0",",","1.0",")",";","aF",".","x","-=","iR",".","x","*","GLSL_TEXTURE","(","iw",",","bE",".","xy","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","r",";","aF",".","x","-=","iR",".","y","*","GLSL_TEXTURE","(","iw",",","bE",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","r",";","aF",".","y","-=","iR",".","x","*","GLSL_TEXTURE","(","iw",",","bE",".","xy","+","u_texel_size","*","vec2","(","0",",","-","2",")",",","0.0",")",".","r",";","aF",".","y","-=","iR",".","y","*","GLSL_TEXTURE","(","iw",",","bE",".","zw","+","u_texel_size","*","vec2","(","1",",","-","2",")",",","0.0",")",".","r",";","ii","*=","clamp","(","aF",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","iT","(","sampler2D","iw",",","inout","vec2","ii",",","vec4","bE",",","vec2","dg",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_CORNER_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","iQ","=","step","(","dg",".","xy",",","dg",".","yx",")",";","vec2","iR","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","iQ",";","iR","/=","iQ",".","x","+","iQ",".","y",";","vec2","aF","=","vec2","(","1.0",",","1.0",")",";","aF",".","x","-=","iR",".","x","*","GLSL_TEXTURE","(","iw",",","bE",".","xy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","g",";","aF",".","x","-=","iR",".","y","*","GLSL_TEXTURE","(","iw",",","bE",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","g",";","aF",".","y","-=","iR",".","x","*","GLSL_TEXTURE","(","iw",",","bE",".","xy","+","u_texel_size","*","vec2","(","-","2",",","0",")",",","0.0",")",".","g",";","aF",".","y","-=","iR",".","y","*","GLSL_TEXTURE","(","iw",",","bE",".","zw","+","u_texel_size","*","vec2","(","-","2",",","1",")",",","0.0",")",".","g",";","ii","*=","clamp","(","aF",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iW","(","vec2","bE",",","vec2","iU",",","sampler2D","iw",",","sampler2D","iz",",","sampler2D","iG",",","vec4","iB",")","{","vec4","ii","=","vec4","(","0.0",",","0.0",",","0.0",",","0.0",")",";","vec2","iu","=","GLSL_TEXTURE","(","iw",",","bE",")",".","rg",";","if","(","iu",".","g",">","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ii",".","rg","=","iF","(","iw",",","iz",",","bE",",","iu",",","iB",")",";","if","(","ii",".","r","==","-","ii",".","g",")","{"]}]}}]},{TYPE:"txt",TOKENS:["vec2","dg",";","vec3","iD",";","iD",".","x","=","iJ","(","iw",",","iG",",","hP",".","xy",",","hR",".","x",")",";","iD",".","y","=","hQ",".","y",";","dg",".","x","=","iD",".","x",";","float","iN","=","GLSL_TEXTURE","(","iw",",","iD",".","xy",",","0.0",")",".","r",";","iD",".","z","=","iK","(","iw",",","iG",",","hP",".","zw",",","hR",".","y",")",";","dg",".","y","=","iD",".","z",";","dg","=","abs","(","ie","(","dg","/","u_texel_size",".","xx","-","iU",".","xx",")",")",";","vec2","iV","=","sqrt","(","dg",")",";","float","iO","=","GLSL_TEXTURE","(","iw",",","iD",".","zy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",";","ii",".","rg","=","iP","(","iz",",","iV",",","iN",",","iO",",","iB",".","y",")",";","iD",".","y","=","bE",".","y",";","iS","(","iw",",","ii",".","rg",",","iD",".","xyzy",",","dg",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["}","else","iu",".","r","=","0.0",";"]}]}}]},{TYPE:"txt",TOKENS:["}","if","(","iu",".","r",">","0.0",")","{","vec2","dg",";","vec3","iD",";","iD",".","y","=","iL","(","iw",",","iG",",","hQ",".","xy",",","hR",".","z",")",";","iD",".","x","=","hP",".","x",";","dg",".","x","=","iD",".","y",";","float","iN","=","GLSL_TEXTURE","(","iw",",","iD",".","xy",",","0.0",")",".","g",";","iD",".","z","=","iM","(","iw",",","iG",",","hQ",".","zw",",","hR",".","w",")",";","dg",".","y","=","iD",".","z",";","dg","=","abs","(","ie","(","dg","/","u_texel_size",".","yy","-","iU",".","yy",")",")",";","vec2","iV","=","sqrt","(","dg",")",";","float","iO","=","GLSL_TEXTURE","(","iw",",","iD",".","xz","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","g",";","ii",".","ba","=","iP","(","iz",",","iV",",","iN",",","iO",",","iB",".","x",")",";","iD",".","x","=","bE",".","x",";","iT","(","iw",",","ii",".","ba",",","iD",".","xyxz",",","dg",")",";","}","return","ii",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","je","(","vec2","bE",",","sampler2D","ig",",","sampler2D","iX"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","iY"]}]}}]},{TYPE:"txt",TOKENS:[")","{","vec4","a",";","a",".","x","=","GLSL_TEXTURE","(","iX",",","hO",".","xy",")",".","a",";","a",".","y","=","GLSL_TEXTURE","(","iX",",","hO",".","zw",")",".","g",";","a",".","wz","=","GLSL_TEXTURE","(","iX",",","bE",")",".","xz",";","if","(","dot","(","a",",","vec4","(","1.0",",","1.0",",","1.0",",","1.0",")",")","<","1e-5",")","{","vec4","aK","=","GLSL_TEXTURE","(","ig",",","bE",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iZ","=","GLSL_TEXTURE","(","iY",",","n",")",";","vec2","cS","=","2.0","*","i_","(","iZ",")","-","1.0",";","aK",".","a","=","sqrt","(","2.0","*","length","(","cS",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aK",";","}","else","{","bool","bO","=","max","(","a",".","x",",","a",".","z",")",">","max","(","a",".","y",",","a",".","w",")",";","vec4","ja","=","vec4","(","0.0",",","a",".","y",",","0.0",",","a",".","w",")",";","vec2","jb","=","a",".","yw",";","id","(","bvec4","(","bO",",","bO",",","bO",",","bO",")",",","ja",",","vec4","(","a",".","x",",","0.0",",","a",".","z",",","0.0",")",")",";","id","(","bvec2","(","bO",",","bO",")",",","jb",",","a",".","xz",")",";","jb","/=","dot","(","jb",",","vec2","(","1.0",",","1.0",")",")",";","vec4","jc","=","ja","*","vec4","(","u_texel_size",",","-","u_texel_size",")","+","bE",".","xyxy",";","vec4","aK","=","jb",".","x","*","GLSL_TEXTURE","(","ig",",","jc",".","xy",",","0.0",")",";","aK","+=","jb",".","y","*","GLSL_TEXTURE","(","ig",",","jc",".","zw",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iZ","=","GLSL_TEXTURE","(","iY",",","jc",".","xy",")",";","vec2","jd","=","2.0","*","i_","(","iZ",")","-","1.0",";","vec2","cS","=","jb",".","x","*","jd",";","iZ","=","GLSL_TEXTURE","(","iY",",","jc",".","zw",")",";","jd","=","2.0","*","i_","(","iZ",")","-","1.0",";","cS","+=","jb",".","y","*","jd",";","aK",".","a","=","sqrt","(","2.0","*","length","(","cS",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aK",";","}","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","jj","(","vec2","bE",",","sampler2D","jf",",","sampler2D","jg"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","iY"]}]}}]},{TYPE:"txt",TOKENS:[")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iZ","=","GLSL_TEXTURE","(","iY",",","n",")",";","vec2","cS",";","cS","=","2.0","*","i_","(","iZ",")","-","1.0",";","vec4","jh","=","GLSL_TEXTURE","(","jf",",","bE",")",";","vec4","ji","=","GLSL_TEXTURE","(","jg",",","bE","-","cS",")",";","float","cx","=","abs","(","jh",".","a","*","jh",".","a","-","ji",".","a","*","ji",".","a",")","/","2.0",";","float","bU","=","0.5","*","clamp","(","1.0","-","sqrt","(","cx",")","*","SMAA_REPROJECTION_WEIGHT_SCALE",",","0.0",",","1.0",")",";","vec4","aK","=","mix","(","jh",",","ji",",","bU",")",";","aK",".","a","=","1.0",";","return","aK",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","jh","=","GLSL_TEXTURE","(","jf",",","bE",")",";","vec4","ji","=","GLSL_TEXTURE","(","jg",",","bE",")",";","return","mix","(","jh",",","ji",",","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aK","=","vec4","(","it","(","n",",","u_color"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_predication_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",",","0.0",",","0.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aK","=","iW","(","n",",","hS",",","u_color",",","u_area_tex",",","u_search_tex",",","u_subsample_indices",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aK","=","je","(","n",",","u_color",",","u_blend"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_velocity_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aK","=","vec4","(","jj","(","n",",","u_color",",","u_color_prev"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_velocity_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","aK",";","}"]}]},exports["postprocessing/smaa.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SMAA_PASS",TOKENS:["SMAA_RESOLVE"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_SMAA_LOW"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","hO",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","hP",";","GLSL_OUT","vec4","hQ",";","GLSL_OUT","vec4","hR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","hS",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["4"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["8"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["32"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","jk","(","vec2","bE",")","{","hP","=","u_texel_size",".","xyxy","*","vec4","(","-","1.0",",","0.0",",","0.0",",","-","1.0",")","+","bE",".","xyxy",";","hQ","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","bE",".","xyxy",";","hR","=","u_texel_size",".","xyxy","*","vec4","(","-","2.0",",","0.0",",","0.0",",","-","2.0",")","+","bE",".","xyxy",";","}"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","jl","(","vec2","bE",",","out","vec2","iU",")","{","iU","=","bE","/","u_texel_size",";","hP","=","u_texel_size",".","xyxy","*","vec4","(","-","0.25",",","-","0.125",",","1.25",",","-","0.125",")","+","bE",".","xyxy",";","hQ","=","u_texel_size",".","xyxy","*","vec4","(","-","0.125",",","-","0.25",",","-","0.125",",","1.25",")","+","bE",".","xyxy",";","hR","=","u_texel_size",".","xxyy","*","vec4","(","-","2.0",",","2.0",",","-","2.0",",","2.0",")","*","float","(","SMAA_MAX_SEARCH_STEPS",")","+","vec4","(","hP",".","xz",",","hQ",".","yw",")",";","}"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","jm","(","vec2","bE",")","{","hO","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","bE",".","xyxy",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","n","=","2.0","*","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["jk","(","n",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["jl","(","n",",","hS",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["jm","(","n",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/ssao.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SSAO_WHITE",TOKENS:["0"]},{TYPE:"var",NAME:"SSAO_QUALITY",TOKENS:["SSAO_QUALITY_8"]},{TYPE:"var",NAME:"SSAO_HEMISPHERE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";","uniform","sampler2D","u_ssao_special_tex",";","uniform","vec2","u_camera_range",";","uniform","vec2","u_texel_size",";","uniform","float","u_ssao_radius_increase",";","uniform","float","u_ssao_influence",";","uniform","float","u_ssao_dist_factor",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","float","jn","(","in","vec2","fQ",")","{","return","gs","(","u_depth",",","fQ",",","u_camera_range",")",";","}","void","main","(",")","{","vec3","gx","=","GLSL_TEXTURE","(","u_color",",","n",")",".","rgb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_WHITE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","gx",",","1.0",")",";","return",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","jo","=","normalize","(","2.0","*","GLSL_TEXTURE","(","u_ssao_special_tex",",","n","*","0.25","/","u_texel_size",")",".","rgb","-","1.0",")",";","float","gt","=","jn","(","n",")",";","float","jp","=","gt","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_8",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","jq","=","8.0",";","const","int","jr","=","1",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_16",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","jq","=","16.0",";","const","int","jr","=","2",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_24",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","jq","=","24.0",";","const","int","jr","=","3",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_32",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","jq","=","32.0",";","const","int","jr","=","4",";"]}]}}]},{TYPE:"txt",TOKENS:["float","js","=","u_ssao_radius_increase","*","0.001",";","const","float","jt","=","1.0","+","2.4","/","jq",";","float","ju","=","0.0",";","for","(","int","bQ","=","0",";","bQ","<","jr",";","bQ","++",")","for","(","int","x","=","-","1",";","x","<=","1",";","x","+=","2",")","for","(","int","y","=","-","1",";","y","<=","1",";","y","+=","2",")","for","(","int","z","=","-","1",";","z","<=","1",";","z","+=","2",")","{","vec3","jv","=","reflect","(","normalize","(","vec3","(","x",",","y",",","z",")",")",",","jo",")","*","(","js","*=","jt",")",";","vec3","jw","=","vec3","(","n",",","jp",")",";","jw","+=","vec3","(","jv",".","xy",",","jv",".","z","*","jp","*","2.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["jw",".","z","-=","1.4","*","(","jw",".","z","-","jp",")","*","step","(","jp",",","jw",".","z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","jx","=","jn","(","jw",".","xy",")","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";","float","jy","=","clamp","(","(","jp","-","jx",")","/","jx",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ju","+=","mix","(","1.0",",","jy",",","step","(","jx",",","jw",".","z",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ju","+=","mix","(","step","(","jw",".","z",",","jx",")",",","0.5",",","jy",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","ju","=","ju","/","jq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ju","=","clamp","(","ju","*","ju","+","0.6","*","ju",",","0.0",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ju","=","clamp","(","ju","*","ju","+","ju",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","jz","=","u_ssao_influence","*","(","1.0","-","u_ssao_dist_factor","*","gt",")",";","ju","=","mix","(","1.0",",","ju",",","jz",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","gx",",","ju",")",";","}"]}]},exports["postprocessing/ssao_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SSAO_BLUR_DEPTH",TOKENS:["0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_ssao_mask",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","uniform","float","u_ssao_blur_discard_value",";","float","jn","(","in","vec2","fQ",")","{","return","gs","(","u_depth",",","fQ",",","u_camera_range",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","float","jA","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","jB","=","jn","(","n",")",";","float","bU","=","0.0",";","float","jC","=","u_ssao_blur_discard_value","*","100.0",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","jD","=","vec2","(","-","2.0",")",";","for","(","int","bQ","=","0",";","bQ","<","4",";","++","bQ",")","{","for","(","int","he","=","0",";","he","<","4",";","++","he",")","{","vec2","fE","=","(","jD","+","vec2","(","float","(","bQ",")",",","float","(","he",")",")",")","*","u_texel_size",";","float","jE","=","GLSL_TEXTURE","(","u_ssao_mask",",","n","+","fE",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","jF","=","jn","(","n","+","fE",")",";","float","jG","=","1.0","-","clamp","(","abs","(","jF","-","jB",")","*","jC",",","0.0",",","1.0",")",";","jA","+=","jE","*","jG",";","bU","+=","jG",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["jA","+=","jE",";"]}]}}]},{TYPE:"txt",TOKENS:["}","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","GLSL_TEXTURE","(","u_ssao_mask",",","n",")",".","rgb",",","jA","/","bU",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","GLSL_TEXTURE","(","u_ssao_mask",",","n",")",".","rgb",",","jA","/","16.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/stereo.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ANAGLYPH",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler_left",";","uniform","sampler2D","u_sampler_right",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ANAGLYPH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_enable_hmd_stereo",";","uniform","vec4","u_distortion_params",";","uniform","vec4","u_chromatic_aberration_coefs",";","void","jQ","(","vec2","bE",",","vec2","ad",",","float","cM",",","sampler2D","jH",")","{","vec2","jI","=","(","bE","-","ad",")","*","2.0",";","jI","/=","cM",";","float","jJ","=","jI",".","x","*","jI",".","x","+","jI",".","y","*","jI",".","y",";","vec2","jK","=","jI","*","(","1.0","+","u_distortion_params","[","0","]","*","jJ","+","u_distortion_params","[","1","]","*","jJ","*","jJ",")",";","vec2","jL","=","jK","*","0.5","/","(","1.0","+","u_distortion_params","[","0","]","+","u_distortion_params","[","1","]",")",";","if","(","length","(","u_chromatic_aberration_coefs",")",">","0.0",")","{","vec2","jM","=","jL","*","(","1.0","+","u_chromatic_aberration_coefs","[","0","]","+","jJ","*","u_chromatic_aberration_coefs","[","1","]",")","+","ad",";","vec2","jN","=","jL","+","ad",";","vec2","jO","=","jL","*","(","1.0","+","u_chromatic_aberration_coefs","[","2","]","+","jJ","*","u_chromatic_aberration_coefs","[","3","]",")","+","ad",";","if","(","clamp","(","jO",",","0.0",",","1.0",")","!=","jO",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","0.0",")",";","}","else","{","vec4","jP","=","GLSL_TEXTURE","(","jH",",","jN",")",";","GLSL_OUT_FRAG_COLOR","[","0","]","=","GLSL_TEXTURE","(","jH",",","jM",")",".","x",";","GLSL_OUT_FRAG_COLOR","[","1","]","=","jP",".","y",";","GLSL_OUT_FRAG_COLOR","[","2","]","=","GLSL_TEXTURE","(","jH",",","jO",")",".","z",";","GLSL_OUT_FRAG_COLOR","[","3","]","=","jP",".","w",";","}","}","else","{","jL","=","jL","*","cM","+","ad",";","if","(","clamp","(","jL",",","0.0",",","1.0",")","!=","jL",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","0.0",")",";","}","else","{","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","jH",",","jL",")",";","}","}","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ANAGLYPH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","jR","=","GLSL_TEXTURE","(","u_sampler_left",",","n",")",";","vec4","jS","=","GLSL_TEXTURE","(","u_sampler_right",",","n",")",";","vec3","jT","=","vec3","(","jR","[","0","]",",","jR","[","1","]",",","jR","[","2","]",")",";","bY","(","jT",")",";","vec3","jU","=","vec3","(","jS","[","0","]",",","jS","[","1","]",",","jS","[","2","]",")",";","bY","(","jU",")",";","mat3","jV","=","mat3","(","0.437",",","-","0.062",",","-","0.048",",","0.449",",","-","0.062",",","-","0.050",",","0.164",",","-","0.024",",","-","0.017",")",";","mat3","jW","=","mat3","(","-","0.011",",","0.377",",","-","0.026",",","-","0.032",",","0.761",",","-","0.093",",","-","0.007",",","0.009",",","1.234",")",";","vec3","aK","=","clamp","(","jV","*","jT",",","0.0",",","1.0",")","+","clamp","(","jW","*","jU",",","0.0",",","1.0",")",";","aQ","(","aK",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","jR","[","3","]","+","jS","[","3","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_enable_hmd_stereo","!=","0",")","{","if","(","n","[","0","]","<","0.5",")","{","vec2","bE","=","vec2","(","2.0","*","n","[","0","]",",","n","[","1","]",")",";","vec2","ad","=","vec2","(","0.5","-","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","float","cM","=","2.0","*","u_distortion_params","[","3","]",";","jQ","(","bE",",","ad",",","cM",",","u_sampler_left",")",";","}","else","{","vec2","bE","=","vec2","(","2.0","*","(","n","[","0","]","-","0.5",")",",","n","[","1","]",")",";","vec2","ad","=","vec2","(","0.5","+","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","float","cM","=","2.0","*","u_distortion_params","[","3","]",";","jQ","(","bE",",","ad",",","cM",",","u_sampler_right",")",";","}","}","else","{","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_sampler_left",",","n",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/velocity.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","mat4","u_view_proj_inverse",";","uniform","mat4","u_view_proj_prev",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","gt","=","GLSL_TEXTURE","(","u_depth",",","n",")",".","x",";","vec4","jX","=","vec4","(","n","*","2.0","-","1.0",",","2.0","*","gt","-","1.0",",","1.0",")",";","vec4","cd","=","u_view_proj_inverse","*","jX",";","vec4","jY","=","cd","/","cd",".","w",";","vec4","jZ","=","u_view_proj_prev","*","jY",";","jZ","/=","jZ",".","w",";","vec2","cS","=","(","jX",".","xy","-","jZ",".","xy",")","/","4.0","+","0.5",";","cS","=","clamp","(","cS",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR","=","gy","(","cS",")",";","}"]}]},exports["include/blending.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"BLENDING_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"BLENDING_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec3","ka","(","vec3","rgb",")","{","vec4","j_","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","j_",".","wz",")",",","vec4","(","rgb",".","gb",",","j_",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","dg","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","iu","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","dg","+","iu",")",")",",","dg","/","(","q",".","x","+","iu",")",",","q",".","x",")",";","}","vec3","kc","(","vec3","kb",")","{","vec4","j_","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","kb",".","r",",","kb",".","r",",","kb",".","r",")","+","j_",".","xyz",")","*","6.0","-","j_",".","www",")",";","return","kb",".","b","*","mix","(","j_",".","xxx",",","clamp","(","p","-","j_",".","xxx",",","_0_0",",","_1_0",")",",","kb",".","g",")",";","}","vec3","dP","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","return","mix","(","dL",",","dM",",","dO",")",";","}","vec3","dQ","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","return","dO","*","dL","+","dM",";","}","vec3","dR","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","return","dM","-","dO","*","dL",";","}","vec3","dS","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","float","kd","=","_1_0","-","dO",";","return","(","vec3","(","kd",")","+","dO","*","dL",")","*","dM",";","}","vec3","dT","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","vec3","kd","=","vec3","(","_1_0","-","dO",")",";","return","vec3","(","_1_0",")","-","(","kd","+","dO","*","(","vec3","(","_1_0",")","-","dL",")",")","*","(","vec3","(","_1_0",")","-","dM",")",";","}","vec3","dU","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","vec3","kd","=","vec3","(","_1_0","-","dO",")",";","return","mix","(","dM","*","(","kd","+","2.0","*","dO","*","dL",")",",","vec3","(","_1_0",")","-","(","kd","+","2.0","*","dO","*","(","vec3","(","_1_0",")","-","dL",")",")","*","(","vec3","(","_1_0",")","-","dM",")",",","step","(","0.5",",","dM",")",")",";","}","vec3","dV","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","return","mix","(","dM",",","abs","(","dL","-","dM",")",",","dO",")",";","}","vec3","dW","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","return","mix","(","dM",",","dM","/","(","dL","+","step","(","dL",",","vec3","(","_0_0",")",")",")",",","dO",")",";","}","vec3","dX","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","return","mix","(","dM",",","min","(","dL",",","dM",")",",","dO",")",";","}","vec3","dY","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","return","max","(","dO","*","dL",",","dM",")",";","}","vec3","dZ","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","vec3","ke","=","ka","(","dM",")",";","if","(","ke",".","y","!=","_0_0",")","{","vec3","kf","=","ka","(","dL",")",";","vec3","kg","=","kc","(","vec3","(","ke",".","x",",","kf",".","yz",")",")",";","return","mix","(","dL",",","kg",",","dO",")",";","}","return","dL",";","}","vec3","d_","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","vec3","ke","=","ka","(","dL",")",";","if","(","ke",".","y","!=","_0_0",")","{","vec3","kf","=","ka","(","dM",")",";","return","kc","(","vec3","(","ke",".","x",",","mix","(","ke",".","y",",","kf",".","y",",","dO",")",",","ke",".","z",")",")",";","}","return","dL",";","}","vec3","ea","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","vec3","ke","=","ka","(","dL",")",";","vec3","kf","=","ka","(","dM",")",";","return","kc","(","vec3","(","ke",".","xy",",","mix","(","ke",".","z",",","kf",".","z",",","dO",")",")",")",";","}","vec3","eb","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","vec3","ke","=","ka","(","dM",")",";","if","(","ke",".","y","!=","_0_0",")","{","vec3","kf","=","ka","(","dL",")",";","vec3","kg","=","kc","(","vec3","(","ke",".","xy",",","kf",".","z",")",")",";","return","mix","(","dL",",","kg",",","dO",")",";","}","return","dL",";","}","vec3","ec","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","vec3","kh","=","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","dM",")","*","(","vec3","(","_1_0",")","-","dL",")",";","return","mix","(","dL",",","(","(","vec3","(","_1_0",")","-","dL",")","*","dM","*","dL",")","+","dL","*","kh",",","dO",")",";","}","vec3","ed","(","vec3","dL",",","vec3","dM",",","float","dO",")","{","return","dL","+","dO","*","(","2.0","*","dM","-","_1_0",")",";","}","float","eh","(","float","ef",",","float","eg",",","float","dO",",","float","dN",")","{","float","kd","=","_1_0","-","dN",";","return","(","kd","+","dO","*","ef",")","*","eg",";","}","float","ei","(","float","ef",",","float","eg",",","float","dO",",","float","dN",")","{","float","kd","=","_1_0","-","dN",";","return","_1_0","-","(","kd","+","dO","*","(","_1_0","-","ef",")",")","*","(","_1_0","-","eg",")",";","}","float","ej","(","float","ef",",","float","eg",",","float","dO",",","float","dN",")","{","float","kd","=","_1_0","-","dN",";","return","mix","(","eg","*","(","kd","+","2.0","*","dO","*","ef",")",",","_1_0","-","(","kd","+","2.0","*","dO","*","(","_1_0","-","ef",")",")","*","(","_1_0","-","eg",")",",","step","(","0.5",",","eg",")",")",";","}"]}]}}]}]},exports["include/caustics.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"CAUSTICS_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"CAUSTICS_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"SUN_NUM",TOKENS:["0"]},{TYPE:"var",NAME:"CAUST_SCALE",TOKENS:["0.25"]},{TYPE:"var",NAME:"CAUST_SPEED",TOKENS:["vec2","(","0.0",")"]},{TYPE:"var",NAME:"CAUST_BRIGHT",TOKENS:["0.5"]},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"CAUSTICS_VIEW_DISTANCE",TOKENS:["100.0"]},{TYPE:"txt",TOKENS:["void","bs","(","inout","vec3","aK",",","float","ki",",","float","fq",",","vec4","bq",",","vec3","Q",",","vec3","kj",",","vec3","kk",",","vec4","kl",",","vec3","bi",",","float","bo",")","{","if","(","bo",">","CAUSTICS_VIEW_DISTANCE",")","return",";","vec3","km","=","bi","+","Q",";","km",".","xz","=","10.0","*","sin","(","0.1","*","km",".","xz",")",";","vec3","ko","=","P","(","kn","(","kl",")",",","km",")",";","vec2","bE","=","ko",".","xz",";","vec3","kp","=","kj",";","float","kq","=","max","(","dot","(","Q",",","kp",")",",","0.0",")",";","float","kr","=","0.025",";","vec2","ks","=","CAUST_SPEED","*","fq",";","bE",".","s","+=","0.25","*","sin","(","dot","(","bi","+","fq",",","vec3","(","1.0",")",")",")",";","bE",".","t","+=","0.35","*","(","-","sin","(","dot","(","bi","-","fq",",","vec3","(","-","0.7",")",")",")",")",";","bE",".","st","+=","0.15","*","cos","(","4.0","*","ki","-","ks",".","x",")","+","1.5","*","sin","(","ki","-","0.3","*","ks",".","y",")",";","float","hN","=","CAUST_SCALE","*","(","1.0","+","max","(","0.1","*","ki",",","0.0",")",")",";","vec3","ku","=","kt","(","(","bE","/","hN",")",",","kr",")",";","ku","*=","CAUST_BRIGHT",";","ku","*=","ku",";","float","kv","=","min","(","0.25","*","ki",",","-","ki",")","+","1.0",";","kv","=","max","(","kv",",","0.0",")",";","float","kw","=","bq","[","SUN_NUM","]","*","kq",";","float","kx","=","max","(","sign","(","ki",")",",","0.0",")",";","kw","=","kw","+","max","(","0.5","*","sign","(","-","Q",".","y",")","*","kx",",","0.0",")",";","kw","=","min","(","kw",",","1.0",")",";","aK","+=","kk","*","ku","*","kv","*","kw",";","}"]}]}}]}]},exports["include/color_util.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"COLOR_UTIL_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"COLOR_UTIL_GLSLF",TOKENS:[""]},{TYPE:"define",NAME:"GAMMA",TOKENS:["1"]},{TYPE:"define",NAME:"PREMULTIPLY_ALPHA",TOKENS:["1"]},{TYPE:"txt",TOKENS:["void","bY","(","inout","vec3","aK",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GAMMA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","max","(","vec3","(","0.0",")",",","aK",")",";","aK","=","pow","(","aK",",","vec3","(","2.2",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","bY","(","inout","float","aK",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GAMMA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","pow","(","max","(","0.0",",","aK",")",",","2.2",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aQ","(","inout","vec3","aK",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GAMMA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","max","(","vec3","(","0.0",")",",","aK",")",";","aK","=","pow","(","aK",",","vec3","(","1.0","/","2.2",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aR","(","inout","vec3","aK",",","in","float","L",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PREMULTIPLY_ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","aK","*","L",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","es","(","vec4","aK",")","{","vec3","ky","=","vec3","(","0.299",",","0.587",",","0.114",")",";","float","kz","=","dot","(","aK",".","rgb",",","ky",")",";","return","kz",";","}"]}]}}]}]},exports["include/depth_fetch.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"DEPTH_FETCH_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"DEPTH_FETCH_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["float","gs","(","in","sampler2D","kA",",","in","vec2","fQ",",","in","vec2","kB",")","{","float","gt","=","GLSL_TEXTURE","(","kA",",","fQ",")",".","r",";","float","dk","=","kB",".","x",";","float","kC","=","kB",".","y",";","float","kD","=","2.0","*","dk","/","(","dk","+","kC","-","(","2.0","*","gt","-","1.0",")","*","(","kC","-","dk",")",")",";","return","kD",";","}"]}]}}]}]},exports["include/dynamic_grass.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"DYNAMIC_GRASS_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"DYNAMIC_GRASS_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["vec2","kH","(","vec3","O",",","float","kE",",","vec2","kF",")","{","vec2","kG","=","vec2","(","(","O",".","x","-","kF",".","x",")","/","kE",",","(","O",".","y","-","kF",".","y",")","/","kE",")",";","return","fract","(","kG",")",";","}","vec2","kI","(","vec2","gP",",","float","kE",",","vec2","kF",")","{","return","vec2","(","gP",".","x","*","kE",",","gP",".","y","*","kE",")","+","kF",";","}","ak","kJ","(",")","{","return","ak","(","vec3","(","-","10000.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",")",";","}","ak","aT","(","vec3","O",",","vec3","R",",","vec3","kK",",","vec3","S",",","vec3","Q",",","vec3","ad",",","PRECISION","sampler2D","kL",",","sampler2D","kM",",","vec3","kN",",","float","kO",",","vec3","kP",",","vec4","kQ",",","mat3","N",")","{","vec3","kR","=","P","(","kQ",",","vec3","(","0.0",",","0.0",",","-","1.0",")",")",";","float","kS","=","-","kR",".","x",";","float","kT","=","kR",".","y",";","vec2","kF","=","vec2","(","kP",".","x","-","kO","*","(","1.0","+","kS",")","/","2.0",",","kP",".","y","-","kO","*","(","1.0","-","kT",")","/","2.0",")",";","vec2","kU","=","kH","(","ad",",","kO",",","kF",")",";","float","kV","=","kO","/","2.0",";","vec2","kW","=","abs","(","kI","(","kU","-","vec2","(","0.5",")",",","kO",",","vec2","(","0.0",")",")",")",";","float","kX","=","kV","*","(","1.0","+","sqrt","(","2.0",")",")","/","2.0",";","if","(","length","(","kW",")",">","kX",")","return","kJ","(",")",";","float","kY","=","kO","/","kN",".","z",";","vec2","kZ","=","(","kU","-","vec2","(","0.5",")",")","*","kY","+","vec2","(","0.5",")",";","vec3","k_","=","kR","*","(","kO","/","kN",".","z","-","1.0",")","/","2.0",";","kZ",".","x","+=","k_",".","x",";","kZ",".","y","+=","k_",".","y",";","vec4","la","=","GLSL_TEXTURE","(","kM",",","kZ",")",";","float","hN","=","la",".","r",";","if","(","hN","<","u_scale_threshold",")","return","kJ","(",")",";","float","lb","=","kN",".","y","-","kN",".","x",";","float","bN","=","kN",".","y","-","GLSL_TEXTURE","(","kL",",","kZ",")",".","r","*","lb",";","vec2","lc","=","O",".","xy","-","ad",".","xy",";","ad",".","xy","=","kI","(","kU",",","kO",",","kF",")",";","ad",".","z","=","bN",";","O",".","xy","=","ad",".","xy","+","lc",";","O",".","z","*=","hN",";","O",".","z","+=","bN",";","vec3","aK","=","la",".","gba",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","-=","ad",";","mat3","ld","=","ai","(","kP",",","ad",",","N",")",";","ak","am","=","al","(","O",",","ad",",","R",",","kK",",","S",",","Q",",","ld",")",";","am",".","ad","=","ad",";","am",".","aK","=","aK",";","return","le","(","am",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","le","(","ak","(","O",",","ad",",","R",",","kK",",","S",",","Q",",","aK",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]},exports["include/environment.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"ENVIRONMENT_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"ENVIRONMENT_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["vec3","ce","(","vec3","Q",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_TEXTURE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","Q",")",".","rgb",";"]}]}},{TYPE:"elif",EXPRESSION:["SKY_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","lf","=","0.5","*","Q",".","z","+","0.5",";","return","mix","(","u_horizon_color",",","u_zenith_color",",","lf",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec3","(","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/fog.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FOG_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FOG_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"FOG_TYPE",TOKENS:["QUADRATIC"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","lk","(","inout","vec3","aK",",","in","float","lg",",","in","float","bN",",","in","vec4","lh",")","{","float","li","=","clamp","(","(","lg","-","u_fog_params",".","z",")","/","u_fog_params",".","y",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOG_TYPE","QUADRATIC",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["li","*=","li",";"]}]}},{TYPE:"elif",EXPRESSION:["FOG_TYPE","LINEAR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"elif",EXPRESSION:["FOG_TYPE","INVERSE_QUADRATIC",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["li","=","sqrt","(","li",")",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","u_fog_params",".","w",">","0.0",")","{","if","(","bN",">","u_fog_params",".","w",")","li","=","0.0",";","else","{","float","lj","=","(","u_fog_params",".","w","-","max","(","bN",",","0.0",")",")","/","u_fog_params",".","w",";","li","*=","lj","*","lj",";","}","}","lh",".","a","=","1.0","-","(","1.0","-","li",")","*","(","1.0","-","u_fog_params",".","x",")",";","aK","=","mix","(","aK",",","lh",".","rgb",",","lh",".","a",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","lp","(","in","mat4","ll",",","in","vec3","u",")","{","vec3","lm","=","mix","(","ll","[","0","]",".","rgb",",","ll","[","1","]",".","rgb",",","max","(","sign","(","u",".","x",")",",","0.0",")",")",";","vec3","ln","=","mix","(","ll","[","2","]",".","rgb",",","ll","[","3","]",".","rgb",",","max","(","sign","(","u",".","z",")",",","0.0",")",")",";","vec3","lo","=","vec3","(","ll","[","0","]",".","a",",","ll","[","1","]",".","a",",","ll","[","2","]",".","a",")",";","vec3","aK","=","mix","(","lm",",","ln",",","abs","(","u",".","z",")",")",";","aK","=","mix","(","aK",",","lo",",","abs","(","u",".","y",")",")",";","bY","(","aK",")",";","return","aK",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","lr","(","inout","float","lq",")","{","lq","-=","0.5",";","lq","=","4.0","*","(","lq","*","lq","*","lq",")","+","0.5",";","}","void","lx","(","inout","vec3","aK",",","in","float","lg",",","in","vec3","u",",","in","float","eu",",","in","vec4","ls",",","in","float","fh",")","{","float","lt","=","max","(","u",".","z",",","0.0",")",";","float","lu","=","max","(","lg","-","max","(","eu","/","lt",",","0.0",")",",","0.0",")",";","float","lv","=","ls",".","w","*","lu",";","vec3","ev","=","vec3","(","0.0",",","0.02",",","0.05",")",";","vec3","lw","=","ls",".","rgb",";","lv","=","min","(","lv",",","1.0",")",";","lr","(","lv",")",";","lv","*=","clamp","(","2.0","-","fh",",","0.0",",","1.0",")",";","vec3","ew","=","mix","(","lw",",","ev",",","min","(","lt",",","1.0",")",")",";","eu","=","clamp","(","-","eu","*","0.03",",","0.0",",","0.8",")",";","ew","*=","1.0","-","eu",";","aK","=","mix","(","aK",",","ew",",","lv",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","bt","(","inout","vec3","aK",",","float","lg",",","vec3","u",",","float","bp",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ll","=","lp","(","u_cube_fog",",","u",")",";","vec4","ew","=","vec4","(","ll",",","u_fog_color_density",".","a",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ew","=","u_fog_color_density",";"]}]}}]},{TYPE:"txt",TOKENS:["lk","(","aK",",","lg",",","c",".","z",",","ew",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lx","(","aK",",","lg",",","u",",","u_cam_water_depth",",","u_underwater_fog_color_density",",","bp",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/fxaa.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"FXAA_BLEND4WEB",TOKENS:["1"]},{TYPE:"var",NAME:"FXAA_QUALITY_P12",TOKENS:["0.0"]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PS3",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PS3",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_360",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_360",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_360_OPT",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_360_OPT",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PC",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PC",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PC_CONSOLE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PC_CONSOLE",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSL_120",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSL_120",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSL_130",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSL_130",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_3",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_3",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_4",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_4",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_5",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GREEN_AS_LUMA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GREEN_AS_LUMA",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_EARLY_EXIT",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_EARLY_EXIT",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_DISCARD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_DISCARD",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_FAST_PIXEL_OFFSET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_EXT_gpu_shader4",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_NV_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_ARB_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_FAST_PIXEL_OFFSET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GATHER4_ALPHA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_HLSL_5",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_ARB_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_NV_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GATHER4_ALPHA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[0],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["4.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[0],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["2.0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",TOKENS:["0.125"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",TOKENS:["0.25"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_QUALITY_PRESET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["12"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",10,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["3"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",11,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["4"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",12,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",13,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["6"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",14,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["7"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",15,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["8"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",20,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["3"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",21,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["4"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",22,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",23,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["6"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",24,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["7"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",25,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["8"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",26,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["9"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",27,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["10"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",28,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["11"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",29,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P11",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",39,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P11",TOKENS:["8.0"]}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["float","ly","(","float","x",")","{","return","clamp","(","x",",","0.0",",","1.0",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_BLEND4WEB",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","lz","(","sampler2D","t",",","vec2","p",")","{","return","GLSL_TEXTURE","(","t",",","p",")",";","}","vec4","lB","(","sampler2D","t",",","vec2","p",",","vec2","lA",",","vec2","r",")","{","return","GLSL_TEXTURE","(","t",",","p","+","(","lA","*","r",")",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec4","gn","(","vec2","fj",",","sampler2D","hT",",","vec2","lC",",","float","lD",",","float","lE",",","float","lF",")","{","vec2","lG",";","lG",".","x","=","fj",".","x",";","lG",".","y","=","fj",".","y",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_GATHER4_ALPHA",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","lH","=","lz","(","hT",",","lG",")",";","float","fX","=","es","(","lH",")",";","float","lI","=","es","(","lB","(","hT",",","lG",",","vec2","(","0",",","1",")",",","lC",".","xy",")",")",";","float","lJ","=","es","(","lB","(","hT",",","lG",",","vec2","(","1",",","0",")",",","lC",".","xy",")",")",";","float","lK","=","es","(","lB","(","hT",",","lG",",","vec2","(","0",",","-","1",")",",","lC",".","xy",")",")",";","float","lL","=","es","(","lB","(","hT",",","lG",",","vec2","(","-","1",",","0",")",",","lC",".","xy",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","lM","=","max","(","lI",",","fX",")",";","float","lN","=","min","(","lI",",","fX",")",";","float","lO","=","max","(","lJ",",","lM",")",";","float","lP","=","min","(","lJ",",","lN",")",";","float","lQ","=","max","(","lK",",","lL",")",";","float","lR","=","min","(","lK",",","lL",")",";","float","lS","=","max","(","lQ",",","lO",")",";","float","lT","=","min","(","lR",",","lP",")",";","float","lU","=","lS","*","lE",";","float","lV","=","lS","-","lT",";","float","lW","=","max","(","lF",",","lU",")",";","bool","lX","=","lV","<","lW",";","if","(","lX",")","return","lH",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_GATHER4_ALPHA",0,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fY","=","es","(","lB","(","hT",",","lG",",","vec2","(","-","1",",","-","1",")",",","lC",".","xy",")",")",";","float","gc","=","es","(","lB","(","hT",",","lG",",","vec2","(","1",",","1",")",",","lC",".","xy",")",")",";","float","fZ","=","es","(","lB","(","hT",",","lG",",","vec2","(","1",",","-","1",")",",","lC",".","xy",")",")",";","float","f_","=","es","(","lB","(","hT",",","lG",",","vec2","(","-","1",",","1",")",",","lC",".","xy",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[]}}]},{TYPE:"txt",TOKENS:["float","lY","=","lK","+","lI",";","float","lZ","=","lL","+","lJ",";","float","l_","=","1.0","/","lV",";","float","ma","=","lY","+","lZ",";","float","mb","=","(","-","2.0","*","fX",")","+","lY",";","float","mc","=","(","-","2.0","*","fX",")","+","lZ",";","float","md","=","fZ","+","gc",";","float","me","=","fY","+","fZ",";","float","mf","=","(","-","2.0","*","lJ",")","+","md",";","float","mg","=","(","-","2.0","*","lK",")","+","me",";","float","mh","=","fY","+","f_",";","float","mi","=","f_","+","gc",";","float","mj","=","(","abs","(","mb",")","*","2.0",")","+","abs","(","mf",")",";","float","mk","=","(","abs","(","mc",")","*","2.0",")","+","abs","(","mg",")",";","float","ml","=","(","-","2.0","*","lL",")","+","mh",";","float","mm","=","(","-","2.0","*","lI",")","+","mi",";","float","mn","=","abs","(","ml",")","+","mj",";","float","mo","=","abs","(","mm",")","+","mk",";","float","mp","=","mh","+","md",";","float","mq","=","lC",".","x",";","bool","mr","=","mn",">=","mo",";","float","ms","=","ma","*","2.0","+","mp",";","if","(","!","mr",")","lK","=","lL",";","if","(","!","mr",")","lI","=","lJ",";","if","(","mr",")","mq","=","lC",".","y",";","float","mt","=","(","ms","*","(","1.0","/","12.0",")",")","-","fX",";","float","mu","=","lK","-","fX",";","float","mv","=","lI","-","fX",";","float","mw","=","lK","+","fX",";","float","mx","=","lI","+","fX",";","bool","my","=","abs","(","mu",")",">=","abs","(","mv",")",";","float","mz","=","max","(","abs","(","mu",")",",","abs","(","mv",")",")",";","if","(","my",")","mq","=","-","mq",";","float","mA","=","ly","(","abs","(","mt",")","*","l_",")",";","vec2","mB",";","mB",".","x","=","lG",".","x",";","mB",".","y","=","lG",".","y",";","vec2","mC",";","mC",".","x","=","(","!","mr",")","?","0.0",":","lC",".","x",";","mC",".","y","=","(","mr",")","?","0.0",":","lC",".","y",";","if","(","!","mr",")","mB",".","x","+=","mq","*","0.5",";","if","(","mr",")","mB",".","y","+=","mq","*","0.5",";","vec2","mD",";","mD",".","x","=","mB",".","x","-","mC",".","x","*","FXAA_QUALITY_P0",";","mD",".","y","=","mB",".","y","-","mC",".","y","*","FXAA_QUALITY_P0",";","vec2","mE",";","mE",".","x","=","mB",".","x","+","mC",".","x","*","FXAA_QUALITY_P0",";","mE",".","y","=","mB",".","y","+","mC",".","y","*","FXAA_QUALITY_P0",";","float","mF","=","(","(","-","2.0",")","*","mA",")","+","3.0",";","float","mG","=","es","(","lz","(","hT",",","mD",")",")",";","float","mH","=","mA","*","mA",";","float","mI","=","es","(","lz","(","hT",",","mE",")",")",";","if","(","!","my",")","mw","=","mx",";","float","mJ","=","mz","*","1.0","/","4.0",";","float","mK","=","fX","-","mw","*","0.5",";","float","mL","=","mF","*","mH",";","bool","mM","=","mK","<","0.0",";","mG","-=","mw","*","0.5",";","mI","-=","mw","*","0.5",";","bool","mN","=","abs","(","mG",")",">=","mJ",";","bool","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P1",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P1",";","bool","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P1",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P1",";","if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P2",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P2",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P2",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P2",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P3",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P3",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P3",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P3",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",4,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P4",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P4",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P4",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P4",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",5,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P5",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P5",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P5",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P5",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",6,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P6",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P6",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P6",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P6",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",7,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P7",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P7",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P7",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P7",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",8,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P8",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P8",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P8",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P8",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",9,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P9",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P9",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P9",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P9",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",10,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P10",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P10",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P10",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P10",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",11,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P11",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P11",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P11",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P11",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",12,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mP",")","{","if","(","!","mN",")","mG","=","es","(","lz","(","hT",",","mD",".","xy",")",")",";","if","(","!","mO",")","mI","=","es","(","lz","(","hT",",","mE",".","xy",")",")",";","if","(","!","mN",")","mG","=","mG","-","mw","*","0.5",";","if","(","!","mO",")","mI","=","mI","-","mw","*","0.5",";","mN","=","abs","(","mG",")",">=","mJ",";","mO","=","abs","(","mI",")",">=","mJ",";","if","(","!","mN",")","mD",".","x","-=","mC",".","x","*","FXAA_QUALITY_P12",";","if","(","!","mN",")","mD",".","y","-=","mC",".","y","*","FXAA_QUALITY_P12",";","mP","=","(","!","mN",")","||","(","!","mO",")",";","if","(","!","mO",")","mE",".","x","+=","mC",".","x","*","FXAA_QUALITY_P12",";","if","(","!","mO",")","mE",".","y","+=","mC",".","y","*","FXAA_QUALITY_P12",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}","float","mQ","=","lG",".","x","-","mD",".","x",";","float","mR","=","mE",".","x","-","lG",".","x",";","if","(","!","mr",")","mQ","=","lG",".","y","-","mD",".","y",";","if","(","!","mr",")","mR","=","mE",".","y","-","lG",".","y",";","bool","mS","=","(","mG","<","0.0",")","!=","mM",";","float","mT","=","(","mR","+","mQ",")",";","bool","mU","=","(","mI","<","0.0",")","!=","mM",";","float","mV","=","1.0","/","mT",";","bool","mW","=","mQ","<","mR",";","float","mX","=","min","(","mQ",",","mR",")",";","bool","mY","=","mW","?","mS",":","mU",";","float","mZ","=","mL","*","mL",";","float","m_","=","(","mX","*","(","-","mV",")",")","+","0.5",";","float","na","=","mZ","*","lD",";","float","nb","=","mY","?","m_",":","0.0",";","float","nc","=","max","(","nb",",","na",")",";","if","(","!","mr",")","lG",".","x","+=","nc","*","mq",";","if","(","mr",")","lG",".","y","+=","nc","*","mq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_DISCARD",1,{TYPE:"equal_expr",PLACES:2},"FXAA_BLEND4WEB",1,{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","lz","(","hT",",","lG",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec4","(","lz","(","hT",",","lG",")",".","xyz",",","fX",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/halo_color.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"HALO_COLOR_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"HALO_COLOR_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"NUM_RINGS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LINES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS","NUM_LINES",{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","int","nd","=","NUM_RINGS",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","int","nd","=","NUM_LINES",";"]}]}}]},{TYPE:"txt",TOKENS:["float","ne","(","float","x",")","{","return","x","-","floor","(","x","*","(","1.0","/","0.01",")",")","*","0.01",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","nl","(","inout","float","nf",",","in","float","ng","[","nd","]",",","in","float","nh",")","{","for","(","int","a","=","0",";","a","<","NUM_RINGS",";","a","++",")","{","float","ni","=","40.0","*","ng","[","a","]",";","float","nj","=","300.0","*","(","ne","(","ni",")","-","0.005",")",";","float","nk","=","ni",";","float","li","=","abs","(","nk","*","(","u_halo_size","*","nj","-","nh",")",")",";","nf","+=","1.0","-","min","(","li",",","1.0",")",";","}","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","nq","(","inout","float","nm",",","in","float","ng","[","nd","]",",","in","float","aG",")","{","for","(","int","a","=","0",";","a","<","NUM_LINES",";","a","++",")","{","float","nn","=","ng","[","a","]",";","float","no","=","nn",";","float","np","=","1000.0","*","(","ne","(","nn",")","-","0.005",")",";","float","li","=","20.0","*","abs","(","no","*","n",".","x","+","np","*","n",".","y",")",";","nm","+=","1.0","-","min","(","li",",","1.0",")",";","}","nm","*=","aG",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","nu","(","inout","float","aG",",","in","vec2","bE",")","{","float","nr",",","bl",";","bl","=","atan","(","bE",".","y",",","bE",".","x",")",";","bl","*=","(","1.0","+","0.25","*","float","(","NUM_STARS",")",")",";","float","ns","=","cos","(","bl",")",";","float","nt","=","sin","(","bl",")",";","bl","=","(","ns","*","bE",".","x","+","nt","*","bE",".","y",")","*","(","ns","*","bE",".","y","-","nt","*","bE",".","x",")",";","nr","=","abs","(","bl",")",";","if","(","nr","<","1.0",")","{","nr","=","(","0.01","*","u_halo_size",")","/","(","nr",")",";","aG","*=","sqrt","(","min","(","nr",",","1.0",")",")",";","}","}","vec4","aZ","(",")","{","float","aG","=","(","n",".","x","*","n",".","x","+","n",".","y","*","n",".","y",")",";","float","nh","=","sqrt","(","aG",")",";","aG","=","max","(","1.0","-","aG",",","0.0",")",";","aG","=","pow","(","aG",",","u_halo_hardness",")",";","float","L","=","u_diffuse_color",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS","NUM_LINES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ng","[","nd","]",";","for","(","int","bQ","=","0",";","bQ","<","nd",";","bQ","++",")","{","ng","[","bQ","]","=","fract","(","aY","/","float","(","bQ","+","1",")",")","-","1.0",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","nf","=","0.0",";","nl","(","nf",",","ng",",","nh",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","nm","=","0.0",";","nq","(","nm",",","ng",",","aG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["nu","(","aG",",","n",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aG","*=","L",";","vec3","aK","=","u_diffuse_color",".","rgb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["nf","*=","aG",";","aK","+=","u_halo_rings_color","*","nf",";","aG","+=","nf",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["nm","*=","L",";","aK","+=","u_halo_lines_color","*","nm",";","aG","+=","nm",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","*=","max","(","1.0","-","2.0","*","u_sun_intensity",".","x",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","kv","=","u_halo_stars_blend","*","(","aX",".","y","-","u_halo_stars_height",")",";","aG","*=","clamp","(","kv",",","0.0",",","1.0",")",";","aG","*=","min","(","u_cam_water_depth","+","2.0","*","WAVES_HEIGHT",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","nv","=","vec4","(","aK",",","aG",")",";","return","nv",";","}"]}]}}]}]},exports["include/lighting_nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"LIGHTING_NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"LIGHTING_NODES_GLSLF",TOKENS:[""]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"node",NAME:"LIGHTING_BEGIN",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"nI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nM",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nN",QUALIFIER:["vec2"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nO",QUALIFIER:["vec2"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nP",QUALIFIER:["vec4"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nQ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nR",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["nI","=","nw",";","nJ","=","nx",";","nK","=","ny",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nL"],STATEMENTS:[{TYPE:"txt",TOKENS:["nL","=","nz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nM"],STATEMENTS:[{TYPE:"txt",TOKENS:["nM","=","nB",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nO"],STATEMENTS:[{TYPE:"txt",TOKENS:["nO","=","nC",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nN"],STATEMENTS:[{TYPE:"txt",TOKENS:["nN","=","nD",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nP"],STATEMENTS:[{TYPE:"txt",TOKENS:["nP","=","nE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["nQ","=","nF",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nR"],STATEMENTS:[{TYPE:"txt",TOKENS:["nR","=","nG",";"]}]}]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nV",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nV","=","vec4","(","nS","+","nU","*","nT",",","_0_0",")",";","nW","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_FACT_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_FAC_CHANNELS",TOKENS:["rg"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"nX",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nZ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"n_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nZ","=","u_light_factors","[","LAMP_LIGHT_FACT_IND","]",".","LAMP_FAC_CHANNELS",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["oa","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oa","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["n_","=","u_light_color_intensities","[","LAMP_IND","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["n_","*=","nX","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ob","=","u_light_positions","[","LAMP_IND","]",";","nY","=","ob","-","nA",";","float","aG","=","length","(","nY",")",";","n_","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aG","*","aG",")",";","nY","=","normalize","(","nY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oc","=","u_light_directions","[","LAMP_IND","]",";","float","od","=","dot","(","nY",",","oc",")",";","od","*=","smoothstep","(","_0_0",",","_1_0",",","(","od","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","n_","*=","od",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"of",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","oe",",","o",".","xyz",")",";","og","=","cross","(","ok",",","o",".","xyz",")",";","og","=","-","normalize","(","og",")",";"]}]}]},{TYPE:"txt",TOKENS:["oj","=","_0_0",";","if","(","of",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","oh",")","*","dot","(","og",",","oe",")","+","oh",";","if","(","oi","[","0","]","==","_0_0",")","{","oj","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","ol",")",";","t","=","oi","[","1","]","+","(","_1_0","-","oi","[","1","]",")","*","pow","(","t",",","oi","[","0","]",")",";","oj","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","oj","=","max","(","oj",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","om",",","o",".","xyz",")",";","oo","=","cross","(","ok",",","o",".","xyz",")",";","oo","=","-","normalize","(","oo",")",";"]}]}]},{TYPE:"txt",TOKENS:["oq","=","_0_0",";","if","(","on",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","op",")","*","dot","(","oo",",","om",")","+","op",";","oq","=","max","(","ol",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"or",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"os",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ot",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ou",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ov",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ow",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","or",",","o",".","xyz",")",";","ot","=","cross","(","ok",",","o",".","xyz",")",";","ot","=","-","normalize","(","ot",")",";"]}]}]},{TYPE:"txt",TOKENS:["ow","=","_0_0",";","if","(","os",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","ou",")","*","dot","(","ot",",","or",")","+","ou",";","if","(","ov","[","0","]",">","_0_0",")","{","float","ox","=","max","(","dot","(","ot",",","v",")",",","_0_0",")",";","float","oy","=","ov","[","0","]","*","ov","[","0","]",";","float","cg","=","_1_0","-","_0_5","*","(","oy","/","(","oy","+","0.33",")",")",";","vec3","oz","=","or","-","ol","*","ot",";","vec3","oA","=","v","-","ox","*","ot",";","if","(","length","(","oz",")","==","_0_0","||","length","(","oA",")","==","_0_0","||","abs","(","ol",")",">","_1_0","||","abs","(","ox",")",">","_1_0",")","ow","=","ol","*","cg",";","else","{","float","oB","=","acos","(","ol",")",";","float","oC","=","acos","(","ox",")",";","vec3","oD","=","normalize","(","oz",")",";","vec3","oE","=","normalize","(","oA",")",";","float","a",",","b",";","a","=","max","(","oB",",","oC",")",";","b","=","min","(","oB",",","oC",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oD",",","oE",")",",","_0_0",")",";","float","oF","=","0.45","*","(","oy","/","(","oy","+","0.09",")",")",";","ow","=","ol","*","(","cg","+","(","oF","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","ow","=","ol",";","ow","=","max","(","ow",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","oG",",","o",".","xyz",")",";","oI","=","cross","(","ok",",","o",".","xyz",")",";","oI","=","-","normalize","(","oI",")",";"]}]}]},{TYPE:"txt",TOKENS:["oL","=","_0_0",";","if","(","oH",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","oJ",")","*","dot","(","oI",",","oG",")","+","oJ",";","float","ox","=","max","(","dot","(","oI",",","v",")",",","_0_0",")",";","if","(","oK","[","0","]","<=","_1_0",")","oL","=","ol","*","pow","(","max","(","ox","*","ol",",","0.1",")",",","oK","[","0","]","-","_1_0",")",";","else","oL","=","ol","*","pow","(","1.0001","-","ox",",","oK","[","0","]","-","_1_0",")",";","oL","=","max","(","oL",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oN",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oQ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","oM",",","o",".","xyz",")",";","oO","=","cross","(","ok",",","o",".","xyz",")",";","oO","=","-","normalize","(","oO",")",";"]}]}]},{TYPE:"txt",TOKENS:["oR","=","_0_0",";","if","(","oN",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","oP",")","*","dot","(","oO",",","oM",")","+","oP",";","float","oS","=","acos","(","ol",")",";","if","(","oS","<","oQ","[","0","]",")","oR","=","_1_0",";","else","if","(","oS",">","(","oQ","[","0","]","+","oQ","[","1","]",")","||","oQ","[","1","]","==","_0_0",")","oR","=","_0_0",";","else","oR","=","_1_0","-","(","(","oS","-","oQ","[","0","]",")","/","oQ","[","1","]",")",";","oR","=","max","(","oR",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oX",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oY","=","_0_0",";","if","(","oU",".","g","!=","_0_0",")","{","vec3","oZ","=","normalize","(","oT","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","oW","==","_0_0",")","{","oY","=","dot","(","o",".","xyz",",","oZ",")",";","oY","=","sqrt","(","_1_0","-","oY","*","oY",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oY","=","(","_1_0","-","oW",")","*","max","(","dot","(","oV",",","oZ",")",",","_0_0",")","+","oW",";"]}]}]},{TYPE:"txt",TOKENS:["oY","=","pow","(","oY",",","oX","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"o_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pa",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pe",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pe","=","_0_0",";","if","(","pa",".","g","!=","_0_0",")","{","vec3","oZ","=","normalize","(","o_","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","_0_0",";","float","ox","=","_0_0",";","float","pg","=","_0_0",";","if","(","pc","==","_0_0",")","{","pf","=","dot","(","o",".","xyz",",","oZ",")",";","ox","=","dot","(","o",".","xyz",",","v",")",";","pg","=","dot","(","o",".","xyz",",","o_",")",";","pf","=","sqrt","(","_1_0","-","pf","*","pf",")",";","ox","=","sqrt","(","_1_0","-","ox","*","ox",")",";","pg","=","sqrt","(","_1_0","-","pg","*","pg",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","max","(","dot","(","pb",",","oZ",")",",","0.01",")",";","float","ox","=","max","(","dot","(","pb",",","v",")",",","0.01",")",";","float","pg","=","max","(","dot","(","pb",",","o_",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bl","=","tan","(","acos","(","pf",")",")",";","float","L","=","max","(","pd","[","0","]",",","0.01",")",";","pe","=","pg","*","(","_1_0","/","(","4.0","*","M_PI","*","L","*","L",")",")","*","(","exp","(","-","(","bl","*","bl",")","/","(","L","*","L",")",")","/","(","sqrt","(","ox","*","pg",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","_0_0",";","if","(","pi",".","g","!=","_0_0",")","{","vec3","bO","=","normalize","(","ph","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pn","=","dot","(","bO",",","o",".","xyz",")",";","float","bl","=","pl","[","0","]","+","pl","[","1","]",";","if","(","pk","==","_0_0",")","bl","=","acos","(","sqrt","(","_1_0","-","pn","*","pn",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bl","=","acos","(","dot","(","bO",",","pj",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bl","<","pl","[","0","]",")","pm","=","_1_0",";","else","if","(","bl",">=","pl","[","0","]","+","pl","[","1","]","||","pl","[","1","]","==","_0_0",")","pm","=","_0_0",";","else","pm","=","_1_0","-","(","bl","-","pl","[","0","]",")","/","pl","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"po",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pw",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"px",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["px","=","_0_0",";","if","(","pr",".","g","!=","_0_0",")","{","if","(","pw","[","0","]","<","1.0","||","pw","[","1","]","==","_0_0",")","px","=","_0_0",";","else","{","if","(","pw","[","1","]","<","100.0",")","pw","[","1","]","=","sqrt","(","1.0","/","pw","[","1","]",")",";","else","pw","[","1","]","=","10.0","/","pw","[","1","]",";","vec3","oZ","=","normalize","(","v","+","po",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","0.0",";","if","(","pv","==","_0_0",")","{","float","py","=","dot","(","o",".","xyz",",","oZ",")",";","pf","=","sqrt","(","_1_0","-","py","*","py",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","(","_1_0","-","pv",")","*","max","(","dot","(","pu",",","oZ",")",",","_0_0",")","+","pv",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","pf","<","_0_0",")","px","=","_0_0",";","else","{","float","ox","=","max","(","dot","(","pu",",","v",")",",","0.01",")",";","float","pg","=","dot","(","pu",",","po",")",";","if","(","pg","<=","0.01",")","px","=","_0_0",";","else","{","float","pz","=","max","(","dot","(","v",",","oZ",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","pf","*","ox",")","/","pz",";","float","db","=","(","2.0","*","pf","*","pg",")","/","pz",";","float","g","=","min","(","min","(","a",",","b",")",",","db",")",";","float","p","=","sqrt","(","pow","(","pw","[","0","]",",","2.0",")","+","pow","(","pz",",","2.0",")","-","_1_0",")",";","float","lq","=","pow","(","p","-","pz",",","2.0",")","/","pow","(","p","+","pz",",","2.0",")","*","(","_1_0","+","pow","(","pz","*","(","p","+","pz",")","-","_1_0",",","2.0",")","/","pow","(","pz","*","(","p","-","pz",")","+","_1_0",",","2.0",")",")",";","float","oS","=","acos","(","pf",")",";","px","=","max","(","lq","*","g","*","exp","(","-","pow","(","oS",",","2.0",")","/","(","2.0","*","pow","(","pw","[","1","]",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pG",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pL",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pM","=","pB","+","pJ","*","pI","*","pD",";","pL","=","pA","+","vec4","(","pJ","*","pH","*","pC",",","pD",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_END",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pN",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","pN",".","rgb",";","nH","=","pO",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","cp","(","vec3","nw",",","vec3","nx",",","vec3","ny",",","vec3","nz",",","vec3","nA",",","vec3","nB",",","vec3","v",",","vec2","nC",",","vec2","nD",",","vec4","nE",",","float","nF",",","vec4","nG",",","out","vec3","A",",","out","vec3","nH",")","{"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/math.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"MATH_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"MATH_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"EPSILON",TOKENS:["0.000001"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["struct","ak","{","vec3","O",";","vec3","ad",";","vec3","R",";","vec3","as",";","vec3","S",";","vec3","Q",";","vec3","aK",";","}",";","bool","eP","(","vec3","a",",","vec3","b",")","{","return","any","(","lessThan","(","abs","(","a","-","b",")",",","vec3","(","EPSILON",")",")",")",";","}","vec3","P","(","in","vec4","q",",","in","vec3","km",")","{","return","km","+","2.0","*","cross","(","q",".","xyz",",","cross","(","q",".","xyz",",","km",")","+","q",".","w","*","km",")",";","}","vec4","kn","(","in","vec4","hk",")","{","return","vec4","(","-","hk",".","xyz",",","hk",".","w",")",";","}","vec4","pP","(","in","vec4","a",",","in","vec4","b",")","{","vec4","hm",";","hm",".","x","=","a",".","x","*","b",".","w","+","a",".","w","*","b",".","x","+","a",".","y","*","b",".","z","-","a",".","z","*","b",".","y",";","hm",".","y","=","a",".","y","*","b",".","w","+","a",".","w","*","b",".","y","+","a",".","z","*","b",".","x","-","a",".","x","*","b",".","z",";","hm",".","z","=","a",".","z","*","b",".","w","+","a",".","w","*","b",".","z","+","a",".","x","*","b",".","y","-","a",".","y","*","b",".","x",";","hm",".","w","=","a",".","w","*","b",".","w","-","a",".","x","*","b",".","x","-","a",".","y","*","b",".","y","-","a",".","z","*","b",".","z",";","return","hm",";","}","vec4","cI","(","in","vec3","pQ",",","in","float","pR",")","{","vec4","hm",";","pR","=","pR","*","0.5",";","float","s","=","sin","(","pR",")",";","hm",".","x","=","s","*","pQ","[","0","]",";","hm",".","y","=","s","*","pQ","[","1","]",";","hm",".","z","=","s","*","pQ","[","2","]",";","hm",".","w","=","cos","(","pR",")",";","return","hm",";","}","vec4","pU","(","in","vec3","da",",","in","vec3","pS",")","{","vec4","hm",";","float","dg","=","dot","(","pS",",","da",")",";","vec3","pT","=","cross","(","pS",",","da",")",";","hm",".","xyz","=","pT",".","xyz",";","hm",".","w","=","1.0","+","dg",";","return","normalize","(","hm",")",";","}","vec3","pW","(","vec4","pV",",","vec4","hk",",","vec3","hl",")","{","vec3","hm","=","hl","*","pV",".","w",";","hm","=","P","(","hk",",","hm",")",";","hm","+=","pV",".","xyz",";","return","hm",";","}","vec3","ae","(","mat3","pX",",","vec3","hl",")","{","vec3","hm","=","hl","*","pX","[","1","]","[","0","]",";","vec4","hk","=","vec4","(","pX","[","1","]","[","1","]",",","pX","[","1","]","[","2","]",",","pX","[","2","]","[","0","]",",","pX","[","2","]","[","1","]",")",";","hm","=","P","(","hk",",","hm",")",";","hm","+=","pX","[","0","]",";","return","hm",";","}","vec3","pY","(","vec4","pV",",","vec4","hk",",","vec3","da",")","{","vec3","hm","=","da","*","pV",".","w",";","hm","=","P","(","hk",",","hm",")",";","return","hm",";","}","vec3","U","(","mat3","pX",",","vec3","da",")","{","vec3","hm","=","da","*","pX","[","1","]","[","0","]",";","vec4","hk","=","vec4","(","pX","[","1","]","[","1","]",",","pX","[","1","]","[","2","]",",","pX","[","2","]","[","0","]",",","pX","[","2","]","[","1","]",")",";","hm","=","P","(","hk",",","hm",")",";","return","hm",";","}","vec3","pZ","(","vec4","pV",",","vec4","hk",",","vec3","hl",")","{","vec3","hm","=","hl","-","pV",".","xyz",";","hm","=","P","(","kn","(","hk",")",",","hm",")",";","hm","/=","pV",".","w",";","return","hm",";","}","vec3","p_","(","vec4","pV",",","vec4","hk",",","vec3","da",")","{","return","P","(","kn","(","hk",")",",","da",")","/","pV",".","w",";","}","mat4","qa","(",")","{","return","mat4","(","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qb","(","float","bl",")","{","return","mat4","(","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","cos","(","bl",")",",","sin","(","bl",")",",","_0_0",",","_0_0",",","-","sin","(","bl",")",",","cos","(","bl",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qc","(","float","bl",")","{","return","mat4","(","cos","(","bl",")",",","_0_0",",","-","sin","(","bl",")",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","sin","(","bl",")",",","_0_0",",","cos","(","bl",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qd","(","float","bl",")","{","return","mat4","(","cos","(","bl",")",",","sin","(","bl",")",",","_0_0",",","_0_0",",","-","sin","(","bl",")",",","cos","(","bl",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","ak","le","(","in","ak","km",")","{","return","ak","(","km",".","O",",","km",".","ad",",","normalize","(","km",".","R",")",",","normalize","(","km",".","as",")",",","normalize","(","km",".","S",")",",","normalize","(","km",".","Q",")",",","km",".","aK",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bC","(","vec4","at",")","{","float","au","=","at",".","x",";","float","av","=","at",".","y",";","float","aw","=","at",".","w",";","vec3","qe",";","qe",".","x","=","(","au","+","aw",")","/","2.0",";","qe",".","y","=","(","av","+","aw",")","/","2.0",";","qe",".","z","=","aw",";","return","qe",";","}"]}]}}]},{TYPE:"txt",TOKENS:["mat3","cG","(",")","{","return","mat3","(","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",")",";","}","mat4","aV","(","mat3","t",")","{","mat4","qf",";","qf","[","0","]","[","0","]","=","(","_1_0","-","(","t","[","1","]","[","2","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","+","t","[","2","]","[","0","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")",")","*","t","[","1","]","[","0","]",";","qf","[","0","]","[","1","]","=","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","+","t","[","2","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")","*","t","[","1","]","[","0","]",";","qf","[","0","]","[","2","]","=","(","t","[","1","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","-","t","[","2","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")","*","t","[","1","]","[","0","]",";","qf","[","0","]","[","3","]","=","_0_0",";","qf","[","1","]","[","0","]","=","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","-","t","[","2","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")","*","t","[","1","]","[","0","]",";","qf","[","1","]","[","1","]","=","(","_1_0","-","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")","+","t","[","2","]","[","0","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")",")","*","t","[","1","]","[","0","]",";","qf","[","1","]","[","2","]","=","(","t","[","1","]","[","2","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","+","t","[","2","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")",")","*","t","[","1","]","[","0","]",";","qf","[","1","]","[","3","]","=","_0_0",";","qf","[","2","]","[","0","]","=","(","t","[","1","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","+","t","[","2","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")","*","t","[","1","]","[","0","]",";","qf","[","2","]","[","1","]","=","(","t","[","1","]","[","2","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","-","t","[","2","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")",")","*","t","[","1","]","[","0","]",";","qf","[","2","]","[","2","]","=","(","_1_0","-","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")","+","t","[","1","]","[","2","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")",")","*","t","[","1","]","[","0","]",";","qf","[","2","]","[","3","]","=","_0_0",";","qf","[","3","]","[","0","]","=","t","[","0","]","[","0","]",";","qf","[","3","]","[","1","]","=","t","[","0","]","[","1","]",";","qf","[","3","]","[","2","]","=","t","[","0","]","[","2","]",";","qf","[","3","]","[","3","]","=","1.0",";","return","qf",";","}","mat3","aS","(","in","mat3","pX",",","in","mat3","qg",")","{","mat3","hm",";","vec3","hl","=","qg","[","0","]",";","vec4","pV","=","vec4","(","pX","[","0","]",",","pX","[","1","]","[","0","]",")",";","vec4","hk","=","vec4","(","pX","[","1","]","[","1","]",",","pX","[","1","]","[","2","]",",","pX","[","2","]","[","0","]",",","pX","[","2","]","[","1","]",")",";","hm","[","0","]","=","pW","(","pV",",","hk",",","hl",")",";","hm","[","1","]","[","0","]","=","pX","[","1","]","[","0","]","*","qg","[","1","]","[","0","]",";","hm","[","1","]","[","1","]","=","pX","[","1","]","[","1","]","*","qg","[","2","]","[","1","]","+","pX","[","2","]","[","1","]","*","qg","[","1","]","[","1","]","+","pX","[","1","]","[","2","]","*","qg","[","2","]","[","0","]","-","pX","[","2","]","[","0","]","*","qg","[","1","]","[","2","]",";","hm","[","1","]","[","2","]","=","pX","[","1","]","[","2","]","*","qg","[","2","]","[","1","]","+","pX","[","2","]","[","1","]","*","qg","[","1","]","[","2","]","+","pX","[","2","]","[","0","]","*","qg","[","1","]","[","1","]","-","pX","[","1","]","[","1","]","*","qg","[","2","]","[","0","]",";","hm","[","2","]","[","0","]","=","pX","[","2","]","[","0","]","*","qg","[","2","]","[","1","]","+","pX","[","2","]","[","1","]","*","qg","[","2","]","[","0","]","+","pX","[","1","]","[","1","]","*","qg","[","1","]","[","2","]","-","pX","[","1","]","[","2","]","*","qg","[","1","]","[","1","]",";","hm","[","2","]","[","1","]","=","pX","[","2","]","[","1","]","*","qg","[","2","]","[","1","]","-","pX","[","1","]","[","1","]","*","qg","[","1","]","[","1","]","-","pX","[","1","]","[","2","]","*","qg","[","1","]","[","2","]","-","pX","[","2","]","[","0","]","*","qg","[","2","]","[","0","]",";","return","hm",";","}","mat3","cK","(","in","vec4","hk",",","in","mat3","pX",")","{","mat3","hm",";","hm","[","0","]","=","pX","[","0","]",";","hm","[","1","]","[","0","]","=","pX","[","1","]","[","0","]",";","hm","[","1","]","[","1","]","=","hk","[","0","]",";","hm","[","1","]","[","2","]","=","hk","[","1","]",";","hm","[","2","]","[","0","]","=","hk","[","2","]",";","hm","[","2","]","[","1","]","=","hk","[","3","]",";","return","hm",";","}"]}]}}]}]},exports["include/mirror.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"MIRROR_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"MIRROR_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"REFL_BUMP",TOKENS:["0.1"]},{TYPE:"txt",TOKENS:["float","qh","(","in","vec3","u",",","vec3","eD",",","float","eJ",",","float","eI",")","{","vec3","eG","=","normalize","(","eD","+","u",")",";","float","eH","=","1.0","-","dot","(","u",",","eG",")",";","float","r","=","eI","+","(","1.0","-","eI",")","*","pow","(","eH",",","eJ",")",";","return","r",";","}","void","cq","(","inout","vec3","qi",",","vec3","u",",","vec3","Q",",","float","qj",",","mat3","N",")","{","vec3","eD","=","reflect","(","-","u",",","Q",")",";","float","eJ","=","u_fresnel_params","[","2","]",";","float","eI","=","u_fresnel_params","[","3","]",";","float","r","=","1.0",";","if","(","eJ","!=","0.0",")","r","=","qh","(","u",",","eD",",","eJ",",","eI",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eF","=","GLSL_TEXTURE_CUBE","(","u_cube_reflection",",","eD",")",".","xyz",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qk","=","u_refl_plane",".","xyz","*","dot","(","Q",",","u_refl_plane",".","xyz",")",";","vec3","ql","=","Q","-","qk",";","vec2","qm","=","U","(","N",",","ql",")",".","xy",";","vec2","qn","=","h",".","xy","/","h",".","z",";","qn","+=","qm","*","REFL_BUMP",";","vec3","eF","=","GLSL_TEXTURE","(","u_plane_reflection",",","qn",")",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eF","=","vec3","(","1.0",")",";","qj","=","0.0",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eF","=","GLSL_TEXTURE_CUBE","(","u_mirrormap",",","eD",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["bY","(","eF",".","rgb",")",";","qi","=","mix","(","qi",",","eF",",","qj","*","r",")",";","}"]}]}}]}]}}]}]},exports["include/nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"NODES_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"INVERT_FRONTFACING",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"HAS_REFRACT_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"include",FILE:"shadow.glslf"},{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","qo",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qv","(","in","vec3","qr",",","in","float","qu",")","{","vec3","eX","=","vec3","(","_0_0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eX","=","cs","(","h",",","qr",".","xy","*","qu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["HAS_REFRACT_TEXTURE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eX","=","GLSL_TEXTURE","(","u_refractmap",",","h",".","xy","/","h",".","z",")",".","rgb",";","bY","(","eX",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","eX",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ka","(","vec3","rgb",")","{","vec4","j_","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","j_",".","wz",")",",","vec4","(","rgb",".","gb",",","j_",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","dg","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","iu","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","dg","+","iu",")",")",",","dg","/","(","q",".","x","+","iu",")",",","q",".","x",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","kc","(","vec3","kb",")","{","vec4","j_","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","kb",".","r",",","kb",".","r",",","kb",".","r",")","+","j_",".","xyz",")","*","6.0","-","j_",".","www",")",";","return","kb",".","b","*","mix","(","j_",".","xxx",",","clamp","(","p","-","j_",".","xxx",",","_0_0",",","_1_0",")",",","kb",".","g",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qw","(","vec2","gP",")","{","return","vec3","(","gP","*","2.0","-","vec2","(","_1_0",",","_1_0",")",",","_0_0",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","qx","(","vec3","hl",")","{","return","vec2","(","hl",".","xy","*","_0_5","+","vec2","(","_0_5",",","_0_5",")",")",";","}"]}]}}]},{TYPE:"node",NAME:"CAMERA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"qQ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"qR",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"qS",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["qQ","=","normalize","(","qN",".","xyz",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qR"],STATEMENTS:[{TYPE:"txt",TOKENS:["qR","=","abs","(","qN",".","z",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qS"],STATEMENTS:[{TYPE:"txt",TOKENS:["qS","=","length","(","qN",".","xyz",")",";"]}]}]}]},{TYPE:"node",NAME:"COMBRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"qT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qW","=","vec3","(","qT",",","qU",",","qV",")",";"]}]},{TYPE:"node",NAME:"COMBHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"qX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"q_",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["q_","=","kc","(","vec3","(","qX",",","qY",",","qZ",")",")",";"]}]},{TYPE:"node",NAME:"EMPTY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rc","=","vec3","(","-","_1_0",",","-","_1_0",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"EMPTY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rd",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rd","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"re",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qy",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["re","=","qw","(","qy",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_OR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rf","=","2.0","*","qo","-","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qz",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rh","=","qz",";","bY","(","rh",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ri",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qA",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ri","=","qA",";","bY","(","ri",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qB",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rj","=","qB","[","0","]",";","rk","=","qB","[","1","]",";","bY","(","rj",")",";","bY","(","rk",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qC",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rl","=","qC","[","0","]",";","rm","=","qC","[","1","]",";","rn","=","qC","[","2","]",";","bY","(","rl",")",";","bY","(","rm",")",";","bY","(","rn",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ro",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ro","=","qL",".","xyz",";"]}]},{TYPE:"node",NAME:"GEOMETRY_FB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rp",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["INVERT_FRONTFACING"],STATEMENTS:[{TYPE:"txt",TOKENS:["rp","=","(","gl_FrontFacing",")","?","_0_0",":","_1_0",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["rp","=","(","gl_FrontFacing",")","?","_1_0",":","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_VW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rq","=","-","U","(","F",",","v",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_LO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rs",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rs","[","0","]","=","qN","[","0","]",";","rs","[","1","]","=","qN","[","1","]",";","rs","[","2","]","=","qN","[","2","]",";"]}]},{TYPE:"node",NAME:"GEOMETRY_GL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rt",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rt","=","vec3","(","nA",".","r",",","nA",".","g",",","nA",".","b",")",";"]}]},{TYPE:"node",NAME:"NEW_GEOMETRY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ru",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ry",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rB",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ru","=","vec3","(","_0_0",")",";","rv","=","vec3","(","_0_0",")",";","rw","=","vec3","(","_0_0",")",";","rx","=","vec3","(","_0_0",")",";","ry","=","vec3","(","_0_0",")",";","rz","=","vec3","(","_0_0",")",";","rA","=","_0_0",";","rB","=","_0_0",";"]}]},{TYPE:"node",NAME:"HUE_SAT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","kb","=","ka","(","rG",")",";","kb","[","0","]","+=","(","rC","-","_0_5",")",";","if","(","kb","[","0","]",">","_1_0",")","kb","[","0","]","-=","_1_0",";","else","if","(","kb","[","0","]","<","_0_0",")","kb","[","0","]","+=","_1_0",";","kb","*=","vec3","(","_1_0",",","rD",",","rE",")",";","kb","=","mix","(","vec3","(","_1_0",")",",","mix","(","vec3","(","_0_0",")",",","kb",",","step","(","vec3","(","_0_0",")",",","kb",")",")",",","step","(","kb",",","vec3","(","_1_0",")",")",")",";","rH","=","mix","(","rG",",","kc","(","kb",")",",","rF",")",";"]}]},{TYPE:"node",NAME:"INVERT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rK","=","mix","(","rJ",",","vec3","(","_1_0",")","-","rJ",",","rI",")",";"]}]},{TYPE:"node",NAME:"LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_INDEX",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"rL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rO",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rL"],STATEMENTS:[{TYPE:"txt",TOKENS:["rL","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{TYPE:"txt",TOKENS:["vec4","rP","=","u_lamp_light_factors","[","LAMP_INDEX","]",";","vec3","rQ","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","vec3","rR","=","u_lamp_light_positions","[","LAMP_INDEX","]",";","float","rS","=","rP",".","z",";","if","(","rS","!=","-","_1_0",")","{","rM","=","-","c","+","rR",";","rN","=","length","(","rM",")",";","rM","=","normalize","(","rM",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rO"],STATEMENTS:[{TYPE:"txt",TOKENS:["rO","=","rS","/","(","rS","+","rN","*","rN",")",";","float","rT","=","rP",".","x",";","float","rU","=","rP",".","y",";","if","(","rT",">","-","_1_0",")","{","float","od","=","dot","(","rM",",","rQ",")",";","od","*=","smoothstep","(","_0_0",",","_1_0",",","(","od","-","rT",")","/","rU",")",";","rO","*=","od",";","}"]}]}]},{TYPE:"txt",TOKENS:["}","else","{"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rM"],STATEMENTS:[{TYPE:"txt",TOKENS:["rM","=","rQ",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rN"],STATEMENTS:[{TYPE:"txt",TOKENS:["rN","=","length","(","rR","-","c",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rO"],STATEMENTS:[{TYPE:"txt",TOKENS:["rO","=","_1_0",";"]}]}]},{TYPE:"txt",TOKENS:["}"]}]},{TYPE:"node",NAME:"NORMAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rW",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"qD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rW"],STATEMENTS:[{TYPE:"txt",TOKENS:["rW","=","qD",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rX"],STATEMENTS:[{TYPE:"txt",TOKENS:["rX","=","-","dot","(","rV",",","qD",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_VECTOR_VIEW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rZ","=","-","U","(","F",",","rY",")",";"]}]},{TYPE:"node",NAME:"BSDF_ANISOTROPIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"r_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"se",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sf","=","r_",";","sa",";","sb",";","sc",";","sd",";","se",";"]}]},{TYPE:"node",NAME:"BSDF_DIFFUSE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"si",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sj","=","sg",";","sh",";","si",";"]}]},{TYPE:"node",NAME:"BSDF_GLASS",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"so",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["so","=","sk",";","sl",";","sm",";","sn",";"]}]},{TYPE:"node",NAME:"BSDF_GLOSSY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"su",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sw","=","sr",";","su",";","sv",";"]}]},{TYPE:"node",NAME:"BSDF_HAIR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sB",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sB","=","sx",";","sy",";","sz",";","sA",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSPARENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sD","=","sC",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSLUCENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sG","=","sE",";","sF",";"]}]},{TYPE:"node",NAME:"BSDF_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sL","[","0","]","=","sL","[","1","]","=","sL","[","2","]","=","_0_0",";","sH",";","sI",";","sJ",";","sK",";"]}]},{TYPE:"node",NAME:"BSDF_TOON",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sQ","=","sM",";","sN",";","sO",";","sP",";"]}]},{TYPE:"node",NAME:"BSDF_VELVET",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sU","=","sR",";","sS",";","sT",";"]}]},{TYPE:"node",NAME:"SUBSURFACE_SCATTERING",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"s_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ta",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ta","[","0","]","=","ta","[","1","]","=","ta","[","2","]","=","_0_0",";","sV",";","sX",";","sY",";","sZ",";","s_",";","sW",";"]}]},{TYPE:"node",NAME:"EMISSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"td",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["td","=","tb",";","tc",";"]}]},{TYPE:"node",NAME:"AMBIENT_OCCLUSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"te",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tf","[","0","]","=","tf","[","1","]","=","tf","[","2","]","=","_0_0",";","te",";"]}]},{TYPE:"node",NAME:"HOLDOUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"tg",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tg","[","0","]","=","tg","[","1","]","=","tg","[","2","]","=","_0_0",";"]}]},{TYPE:"node",NAME:"VOLUME_ABSORPTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"th",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ti",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tj","[","0","]","=","tj","[","1","]","=","tj","[","2","]","=","_0_0",";","th",";","ti",";"]}]},{TYPE:"node",NAME:"VOLUME_SCATTER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tn","[","0","]","=","tn","[","1","]","=","tn","[","2","]","=","_0_0",";","tk",";","tl",";","tm",";"]}]},{TYPE:"node",NAME:"BUMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"to",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tw","=","tv",";","to",";","tr",";","tu",";"]}]},{TYPE:"node",NAME:"NORMAL_MAP",NODE_VARS:[{TYPE:"node_var",NAME:"SPACE",TOKENS:["NM_TANGENT"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ty",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","tA","=","nB",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SPACE","NM_TANGENT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","qM","*","(","ty",".","xyz","-","_0_5",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_OBJECT",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_OBJECT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","ty",".","xyz","-","_0_5",";","tz",".","yz","*=","-","1.0",";","tz","=","U","(","H",",","tz",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_WORLD",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_WORLD",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","ty",".","xyz","-","_0_5",";","tz",".","yz","*=","-","1.0",";"]}]}]},{TYPE:"txt",TOKENS:["tz","=","normalize","(","mix","(","tA",",","tz",",","tx",")",")",";"]}]},{TYPE:"node",NAME:"VECT_TRANSFORM",NODE_VARS:[{TYPE:"node_var",NAME:"CONVERT_TYPE",TOKENS:["VT_WORLD_TO_OBJECT"]},{TYPE:"node_var",NAME:"VECTOR_TYPE",TOKENS:["VT_VECTOR"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","tB",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_POINT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","F",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","I",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","H",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","H",",","tB",")",";","tC","=","ae","(","F",",","tC",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","G",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","G",",","tB",")",";","tC","=","ae","(","I",",","tC",")",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","F",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","I",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","H",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","H",",","tB",")",";","tC","=","U","(","F",",","tC",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","G",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","G",",","tB",")",";","tC","=","U","(","I",",","tC",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_NORMAL",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","normalize","(","tC",")",";"]}]}]}]}]}]},{TYPE:"node",NAME:"BLACKBODY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tE","[","0","]","=","tE","[","1","]","=","tE","[","2","]","=","_0_0",";","tD",";"]}]},{TYPE:"node",NAME:"WAVELENGTH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tG","[","0","]","=","tG","[","1","]","=","tG","[","2","]","=","_0_0",";","tF",";"]}]},{TYPE:"node",NAME:"SEPXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tI","=","tH","[","0","]",";","tJ","=","tH","[","1","]",";","tK","=","tH","[","2","]",";"]}]},{TYPE:"node",NAME:"COMBXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tO","[","0","]","=","tL",";","tO","[","1","]","=","tM",";","tO","[","2","]","=","tN",";"]}]},{TYPE:"node",NAME:"BRIGHTCONTRAST",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","b","=","tQ","-","tR","*","_0_5",";","tS","=","max","(","(","_1_0","+","tR",")","*","tP","+","b",",","vec3","(","_0_0",")",")",";"]}]},{TYPE:"node",NAME:"LIGHT_FALLOFF",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tV","=","tW","=","tX","=","_0_0",";","tT",";","tU",";"]}]},{TYPE:"node",NAME:"TEX_IMAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"t_",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tZ","[","0","]","=","tZ","[","1","]","=","tZ","[","2","]","=","_0_0",";","t_","=","_1_0",";","tY",";"]}]},{TYPE:"node",NAME:"TEX_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ua",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ub",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ub","[","0","]","=","ub","[","1","]","=","ub","[","2","]","=","_0_0",";","ua",";"]}]},{TYPE:"node",NAME:"TEX_SKY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ud",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ud","[","0","]","=","ud","[","1","]","=","ud","[","2","]","=","_0_0",";","uc",";"]}]},{TYPE:"node",NAME:"TEX_NOISE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ue",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ug",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ui",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ui","[","0","]","=","ui","[","1","]","=","ui","[","2","]","=","_0_0",";","uj","=","_1_0",";","ue",";","uf",";","ug",";","uh",";"]}]},{TYPE:"node",NAME:"TEX_WAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ul",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"um",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"un",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"up",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["up","[","0","]","=","up","[","1","]","=","up","[","2","]","=","_0_0",";","uq","=","_1_0",";","uk",";","ul",";","um",";","un",";","uo",";"]}]},{TYPE:"node",NAME:"TEX_VORONOI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ur",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"us",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ut",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ut","[","0","]","=","ut","[","1","]","=","ut","[","2","]","=","_0_0",";","uu","=","_1_0",";","ur",";","us",";"]}]},{TYPE:"node",NAME:"TEX_MUSGRAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ux",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uC","[","0","]","=","uC","[","1","]","=","uC","[","2","]","=","_0_0",";","uD","=","_1_0",";","uv",";","uw",";","ux",";","uy",";","uz",";","uA",";","uB",";"]}]},{TYPE:"node",NAME:"TEX_GRADIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uF","[","0","]","=","uF","[","1","]","=","uF","[","2","]","=","_0_0",";","uG","=","_1_0",";","uE",";"]}]},{TYPE:"node",NAME:"TEX_MAGIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uK","[","0","]","=","uK","[","1","]","=","uK","[","2","]","=","_0_0",";","uL","=","_1_0",";","uH",";","uI",";","uJ",";"]}]},{TYPE:"node",NAME:"TEX_CHECKER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uQ","[","0","]","=","uQ","[","1","]","=","uQ","[","2","]","=","_0_0",";","uR","=","_1_0",";","uM",";","uN",";","uO",";","uP",";"]}]},{TYPE:"node",NAME:"TEX_BRICK",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"u_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"va",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vb",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["va","[","0","]","=","va","[","1","]","=","va","[","2","]","=","_0_0",";","vb","=","_1_0",";","uS",";","uT",";","uU",";","uV",";","uW",";","uX",";","uY",";","uZ",";","u_",";"]}]},{TYPE:"node",NAME:"ADD_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ve",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ve","=","clamp","(","vc","+","vd",",","vec3","(","_0_0",")",",","vec3","(","_1_0",")",")",";"]}]},{TYPE:"node",NAME:"MIX_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vi",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","vf",",","_0_0",",","_1_0",")",";","vi","=","vj","*","vg","+","(","_1_0","-","vj",")","*","vh",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qE",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vk"],STATEMENTS:[{TYPE:"txt",TOKENS:["vk","=","qw","(","qE",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vl"],STATEMENTS:[{TYPE:"txt",TOKENS:["vl","=","vec3","(","qE",",","_0_0",")",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qF",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vm","=","vec3","(","qF",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vn","=","nB",";"]}]},{TYPE:"node",NAME:"TEX_COORD_GE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vo",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vo","=","qo",";"]}]},{TYPE:"node",NAME:"TEX_COORD_OB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vp","[","0","]","=","vp","[","1","]","=","vp","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_CA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vq","[","0","]","=","qN","[","0","]",";","vq","[","1","]","=","qN","[","1","]",";","vq","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_WI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vr",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vr","[","0","]","=","vr","[","1","]","=","vr","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_RE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vs",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vs","[","0","]","=","vs","[","1","]","=","vs","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qG",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","vec3","(","qG",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vu","=","_0_0",";","vv","=","_0_0",";","vw","=","_0_0",";","vx","=","vec3","(","_0_0",")",";","vy","=","_0_0",";","vz","=","vx",";","vA","=","vx",";"]}]},{TYPE:"node",NAME:"HAIR_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vB","=","_0_0",";","vC","=","_0_0",";","vD","=","_0_0",";","vE","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"OBJECT_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vI",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vG","=","_0_0",";","vH","=","_0_0",";","vI","=","_0_0",";","vF","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"WIREFRAME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vK","=","vJ",";"]}]},{TYPE:"node",NAME:"TANGENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vL","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LAYER_WEIGHT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vO","=","vP","=","_0_0",";","vN",";","vM",";"]}]},{TYPE:"node",NAME:"LIGHT_PATH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vQ","=","vR","=","vS","=","_0_0",";","vT","=","vU","=","vV","=","_0_0",";","vW","=","vW","=","vY","=","vZ","=","_0_0",";","vX","=","_0_0",";"]}]},{TYPE:"node",NAME:"ATTRIBUTE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"v_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wb",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["v_","=","wa","=","vec3","(","_0_0",")",";","wb","=","_0_0",";"]}]},{TYPE:"node",NAME:"SCRIPT",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[]},{TYPE:"node",NAME:"CURVE_VEC",NODE_VARS:[{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"we",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["we","=","wd",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","r","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","r","+","0.5",",","NODE_TEX_ROW",")",")",".","r","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","g","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","g","+","0.5",",","NODE_TEX_ROW",")",")",".","g","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","b","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","b","+","0.5",",","NODE_TEX_ROW",")",")",".","b","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"txt",TOKENS:["we","=","mix","(","wd",",","we",",","wc",")",";"]}]},{TYPE:"node",NAME:"CURVE_RGB",NODE_VARS:[{TYPE:"node_var",NAME:"READ_A",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_A"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","r",",","NODE_TEX_ROW",")",")",".","a",";","float","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","g",",","NODE_TEX_ROW",")",")",".","a",";","float","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","wg",".","r",";","float","g","=","wg",".","g",";","float","b","=","wg",".","b",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","r",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","r","=","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","g",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","g","=","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","b",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","b","=","b",";"]}]}]},{TYPE:"txt",TOKENS:["wh","=","mix","(","wg",",","wh",",","wf",")",";"]}]},{TYPE:"node",NAME:"VALTORGB",NODE_VARS:[{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wk",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wi",",","NODE_TEX_ROW",")",")",";","wj","=","wl",".","rgb",";","wk","=","wl",".","a",";"]}]},{TYPE:"node",NAME:"MAPPING",NODE_VARS:[{TYPE:"node_var",NAME:"MAPPING_SCALE_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_SCALE",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRANS_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRANS",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX",TOKENS:["mat4","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_IS_NORMAL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wm",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_SCALE_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wn","*","MAPPING_SCALE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRANS_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wn","+","MAPPING_TRANS",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRS_MATRIX_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","(","MAPPING_TRS_MATRIX","*","vec4","(","wn",",","_1_0",")",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MIN_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","max","(","wn",",","MAPPING_MIN_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MAX_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","min","(","wn",",","MAPPING_MAX_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_IS_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","normalize","(","wn",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","wo","+","wp",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","clamp","(","wq",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ws",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wt",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wt","=","wr","-","ws",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wt","=","clamp","(","wt",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wA",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wA","=","wu","*","wv",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wA","=","clamp","(","wA",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wD","=","(","wC","!=","_0_0",")","?","wB","/","wC",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wD","=","clamp","(","wD",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wG","=","sin","(","wE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wG","=","clamp","(","wG",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wF",";"]}]},{TYPE:"node",NAME:"MATH_COSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wJ","=","cos","(","wH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wJ","=","clamp","(","wJ",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wI",";"]}]},{TYPE:"node",NAME:"MATH_TANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wM","=","tan","(","wK",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wM","=","clamp","(","wM",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wL",";"]}]},{TYPE:"node",NAME:"MATH_ARCSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wP","=","(","wN","<=","_1_0","&&","wN",">=","-","_1_0",")","?","asin","(","wN",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wP","=","clamp","(","wP",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wO",";"]}]},{TYPE:"node",NAME:"MATH_ARCCOSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wS",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wS","=","(","wQ","<=","_1_0","&&","wQ",">=","-","_1_0",")","?","acos","(","wQ",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wS","=","clamp","(","wS",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wR",";"]}]},{TYPE:"node",NAME:"MATH_ARCTANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wV",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wV","=","atan","(","wT",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wV","=","clamp","(","wV",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wU",";"]}]},{TYPE:"node",NAME:"MATH_POWER",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","wW","<","_0_0","&&","wX","!=","floor","(","wX",")",")","wY","=","_0_0",";","else","if","(","wX","==","_0_0",")","wY","=","_1_0",";","else","if","(","wW","<","_0_0",")","wY","=","mix","(","_1_0",",","-","_1_0",",","sign","(","mod","(","-","wX",",","2.0",")",")",")","*","pow","(","-","wW",",","wX",")",";","else","if","(","wW","==","_0_0",")","wY","=","_0_0",";","else","wY","=","pow","(","wW",",","wX",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wY","=","clamp","(","wY",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_LOGARITHM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"w_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xa","=","(","wZ",">","_0_0","&&","w_",">","_0_0",")","?","log2","(","wZ",")","/","log2","(","w_",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xa","=","clamp","(","xa",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MINIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xd","=","min","(","xb",",","xc",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xd","=","clamp","(","xd",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MAXIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xe",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xg","=","max","(","xe",",","xf",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xg","=","clamp","(","xg",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ROUND",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xj","=","floor","(","xh","+","_0_5",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xj","=","clamp","(","xj",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["xi",";"]}]},{TYPE:"node",NAME:"MATH_LESS_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xm","=","(","xk","<","xl",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xm","=","clamp","(","xm",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_GREATER_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xp",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xp","=","(","xn",">","xo",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xp","=","clamp","(","xp",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MODULO",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xs",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xs","=","abs","(","xr",")",">","0.000001","?","mod","(","xq",",","xr",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xs","=","clamp","(","xs",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ABSOLUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xv",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xv","=","abs","(","xt",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xv","=","clamp","(","xv",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["xu",";"]}]},{TYPE:"node",NAME:"MIX_RGB_MIX",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xA",",","_0_0",",","_1_0",")",";","xD","=","mix","(","xB",",","xC",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xD","=","clamp","(","xD",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xE",",","_0_0",",","_1_0",")",";","xH","=","mix","(","xF",",","xF","+","xG",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xH","=","clamp","(","xH",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xI",",","_0_0",",","_1_0",")",";","xL","=","mix","(","xJ",",","xJ","*","xK",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xL","=","clamp","(","xL",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xM",",","_0_0",",","_1_0",")",";","xP","=","mix","(","xN",",","xN","-","xO",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xP","=","clamp","(","xP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SCREEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xQ",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","xT","=","vec3","(","_1_0",")","-","(","vec3","(","xU",")","+","vj","*","(","vec3","(","_1_0",")","-","xS",")",")","*","(","vec3","(","_1_0",")","-","xR",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xT","=","clamp","(","xT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xV",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","xX","+=","step","(","xX",",","vec3","(","_0_0",")",")",";","xY","=","xU","*","xW","+","vj","*","xW","/","xX",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xY","=","clamp","(","xY",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIFFERENCE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"x_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ya",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xZ",",","_0_0",",","_1_0",")",";","yb","=","mix","(","x_",",","abs","(","x_","-","ya",")",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yb","=","clamp","(","yb",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DARKEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ye",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yc",",","_0_0",",","_1_0",")",";","yf","=","min","(","yd",".","rgb",",","ye",".","rgb","*","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yf","=","clamp","(","yf",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LIGHTEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yg",",","_0_0",",","_1_0",")",";","yj","=","max","(","yh",".","rgb",",","yi",".","rgb","*","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yj","=","clamp","(","yj",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_OVERLAY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ym",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yk",",","_0_0",",","_1_0",")",";","vec3","yo","=","vec3","(","_1_0","-","vj",")",";","yn","=","mix","(","yl","*","(","yo","+","2.0","*","vj","*","ym",")",",","vec3","(","_1_0",")","-","(","yo","+","2.0","*","vj","*","(","vec3","(","_1_0",")","-","ym",")",")","*","(","vec3","(","_1_0",")","-","yl",")",",","step","(","_0_5",",","yl",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yn","=","clamp","(","yn",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DODGE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ys",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yp",",","_0_0",",","_1_0",")",";","vec3","yt","=","vec3","(","_1_0",")","-","vj","*","yr",";","vec3","yu","=","clamp","(","yq","/","yt",",","_0_0",",","_1_0",")",";","ys","=","mix","(","mix","(","yu",",","vec3","(","_1_0",")",",","step","(","yt",",","vec3","(","_0_0",")",")",")",",","yq",",","step","(","yq",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ys","=","clamp","(","ys",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_BURN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yv",",","_0_0",",","_1_0",")",";","vec3","kd","=","vec3","(","_1_0","-","vj",")",";","vec3","yt","=","kd","+","vj","*","yB",";","vec3","yu","=","clamp","(","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","yA",")","/","yt",",","_0_0",",","_1_0",")",";","yC","=","mix","(","yu",",","vec3","(","_0_0",")",",","step","(","yt",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yC","=","clamp","(","yC",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_HUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yD",",","_0_0",",","_1_0",")",";","vec3","kb",",","yH",",","yt",";","yG","=","yE",";","yH","=","ka","(","yF",")",";","if","(","yH",".","y","!=","_0_0",")","{","kb","=","ka","(","yG",")",";","kb",".","x","=","yH",".","x",";","yt","=","kc","(","kb",")",";","yG","=","mix","(","yG",",","yt",",","vj",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yG","=","clamp","(","yG",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SATURATION",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yI",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","yL","=","yJ",";","vec3","kb",",","yH",";","kb","=","ka","(","yL",")",";","if","(","kb",".","y","!=","_0_0",")","{","yH","=","ka","(","yK",")",";","kb",".","y","=","xU","*","kb",".","y","+","vj","*","yH",".","y",";","yL","=","kc","(","kb",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yL","=","clamp","(","yL",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yM",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","vec3","kb",",","yH",";","kb","=","ka","(","yN",")",";","yH","=","ka","(","yO",")",";","kb",".","z","=","xU","*","kb",".","z","+","vj","*","yH",".","z",";","yP","=","kc","(","kb",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yP","=","clamp","(","yP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yQ",",","_0_0",",","_1_0",")",";","vec3","kb",",","yH",",","yt",";","yT","=","yR",";","yH","=","ka","(","yS",")",";","if","(","yH",".","y","!=","_0_0",")","{","kb","=","ka","(","yT",")",";","kb",".","x","=","yH",".","x",";","kb",".","y","=","yH",".","y",";","yt","=","kc","(","kb",")",";","yT","=","mix","(","yT",",","yt",",","vj",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yT","=","clamp","(","yT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SOFT_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yU",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","vec3","yY","=","yW","+","yV","-","yW","*","yV",";","yX","=","yV","*","(","vec3","(","xU",")","+","vec3","(","vj",")","*","(","(","vec3","(","_1_0",")","-","yV",")","*","yW","+","yY",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yX","=","clamp","(","yX",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LINEAR_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"y_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"za",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yZ",",","_0_0",",","_1_0",")",";","zb","=","y_","+","vj","*","(","2.0","*","za","-","vec3","(","_1_0",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zb","=","clamp","(","zb",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","zc",";","E","=","zd",";"]}]},{TYPE:"node",NAME:"MATERIAL_BEGIN",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_NORMAL",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"SHADELESS_MAT",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ze",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zh",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zi",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zo",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zp",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zq",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qH",QUALIFIER:["const","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qI",QUALIFIER:["const","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","=","clamp","(","ze",",","_0_0",",","_1_0",")",";","zm","=","qI","[","0","]","*","clamp","(","zf",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["zn","=","normalize","(","zh",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zn","=","nB",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SHADELESS_MAT",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","zi","*","zl",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","qO","*","zl",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","*=","zg",";"]}]}]},{TYPE:"txt",TOKENS:["zk","=","qP","*","u_environment_energy","*","ce","(","zn",")",";","zq","=","ch","(","zl",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["zo","=","vec2","(","qH","[","0","]",",","qH","[","1","]",")",";","zp","=","vec2","(","qI","[","1","]",",","qI","[","2","]",")",";"]}]}]},{TYPE:"txt",TOKENS:["D","=","zq",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","vec3","(","_0_0",")",";","zk","=","vec3","(","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATERIAL_END",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_SPECULAR",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zr",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zu",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zv",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zA",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zB",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zC",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zD",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zE",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zF",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"qJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zB"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","zr",".","rgb",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT","REFLECTION_TYPE","REFL_NONE",{TYPE:"non_equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["cq","(","zB",",","v",",","zt",",","zu",",","F",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["cq","(","zB",",","v",",","zt",",","zu",",","mat3","(","_0_0",")",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","+=","zs",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zD"],STATEMENTS:[{TYPE:"txt",TOKENS:["zD","=","zt",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zE","=","zr",".","rgb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zF","=","zs",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zC"],STATEMENTS:[{TYPE:"txt",TOKENS:["zC","=","clamp","(","zA",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","zs",".","r",",","zs",".","g",")",",","zs",".","b",")","*","zv",";","zC","=","clamp","(","zA","*","(","_1_0","-","t",")","+","t",",","_0_0",",","_1_0",")",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zC"],STATEMENTS:[{TYPE:"txt",TOKENS:["zC","=","clamp","(","qJ",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","zs",".","r",",","zs",".","g",")",",","zs",".","b",")","*","qK",";","zC","=","qJ","*","(","_1_0","-","t",")","+","t",";"]}]}]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["B","=","zs",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["B","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["C","=","zt",";"]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nV",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nV","=","vec4","(","nS","+","nU","*","nT",",","_0_0",")",";","nW","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_FACT_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_FAC_CHANNELS",TOKENS:["rg"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"nX",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nZ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"n_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nZ","=","u_light_factors","[","LAMP_LIGHT_FACT_IND","]",".","LAMP_FAC_CHANNELS",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["oa","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oa","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["n_","=","u_light_color_intensities","[","LAMP_IND","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["n_","*=","nX","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ob","=","u_light_positions","[","LAMP_IND","]",";","nY","=","ob","-","nA",";","float","aG","=","length","(","nY",")",";","n_","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aG","*","aG",")",";","nY","=","normalize","(","nY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oc","=","u_light_directions","[","LAMP_IND","]",";","float","od","=","dot","(","nY",",","oc",")",";","od","*=","smoothstep","(","_0_0",",","_1_0",",","(","od","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","n_","*=","od",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"of",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zG","=","og",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","oe",",","o",".","xyz",")",";","zG","=","cross","(","ok",",","o",".","xyz",")",";","zG","=","-","normalize","(","zG",")",";"]}]}]},{TYPE:"txt",TOKENS:["oj","=","_0_0",";","if","(","of",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","oh",")","*","dot","(","zG",",","oe",")","+","oh",";","if","(","oi","[","0","]","==","_0_0",")","{","oj","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","ol",")",";","t","=","oi","[","1","]","+","(","_1_0","-","oi","[","1","]",")","*","pow","(","t",",","oi","[","0","]",")",";","oj","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","oj","=","max","(","oj",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zG","=","oo",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","om",",","o",".","xyz",")",";","zG","=","cross","(","ok",",","o",".","xyz",")",";","zG","=","-","normalize","(","zG",")",";"]}]}]},{TYPE:"txt",TOKENS:["oq","=","_0_0",";","if","(","on",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","op",")","*","dot","(","zG",",","om",")","+","op",";","oq","=","max","(","ol",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"or",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"os",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ot",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ou",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ov",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ow",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zG","=","ot",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","or",",","o",".","xyz",")",";","zG","=","cross","(","ok",",","o",".","xyz",")",";","zG","=","-","normalize","(","zG",")",";"]}]}]},{TYPE:"txt",TOKENS:["ow","=","_0_0",";","if","(","os",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","ou",")","*","dot","(","zG",",","or",")","+","ou",";","if","(","ov","[","0","]",">","_0_0",")","{","float","ox","=","max","(","dot","(","zG",",","v",")",",","_0_0",")",";","float","oy","=","ov","[","0","]","*","ov","[","0","]",";","float","cg","=","_1_0","-","_0_5","*","(","oy","/","(","oy","+","0.33",")",")",";","vec3","oz","=","or","-","ol","*","zG",";","vec3","oA","=","v","-","ox","*","zG",";","if","(","length","(","oz",")","==","_0_0","||","length","(","oA",")","==","_0_0","||","abs","(","ol",")",">","_1_0","||","abs","(","ox",")",">","_1_0",")","ow","=","ol","*","cg",";","else","{","float","oB","=","acos","(","ol",")",";","float","oC","=","acos","(","ox",")",";","vec3","oD","=","normalize","(","oz",")",";","vec3","oE","=","normalize","(","oA",")",";","float","a",",","b",";","a","=","max","(","oB",",","oC",")",";","b","=","min","(","oB",",","oC",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oD",",","oE",")",",","_0_0",")",";","float","oF","=","0.45","*","(","oy","/","(","oy","+","0.09",")",")",";","ow","=","ol","*","(","cg","+","(","oF","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","ow","=","ol",";","ow","=","max","(","ow",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zG","=","oI",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","oG",",","o",".","xyz",")",";","zG","=","cross","(","ok",",","o",".","xyz",")",";","zG","=","-","normalize","(","zG",")",";"]}]}]},{TYPE:"txt",TOKENS:["oL","=","_0_0",";","if","(","oH",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","oJ",")","*","dot","(","zG",",","oG",")","+","oJ",";","float","ox","=","max","(","dot","(","zG",",","v",")",",","_0_0",")",";","if","(","oK","[","0","]","<=","_1_0",")","oL","=","ol","*","pow","(","max","(","ox","*","ol",",","0.1",")",",","oK","[","0","]","-","_1_0",")",";","else","oL","=","ol","*","pow","(","1.0001","-","ox",",","oK","[","0","]","-","_1_0",")",";","oL","=","max","(","oL",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oN",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oQ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zG","=","oO",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","oM",",","o",".","xyz",")",";","zG","=","cross","(","ok",",","o",".","xyz",")",";","zG","=","-","normalize","(","zG",")",";"]}]}]},{TYPE:"txt",TOKENS:["oR","=","_0_0",";","if","(","oN",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","oP",")","*","dot","(","zG",",","oM",")","+","oP",";","float","oS","=","acos","(","ol",")",";","if","(","oS","<","oQ","[","0","]",")","oR","=","_1_0",";","else","if","(","oS",">","(","oQ","[","0","]","+","oQ","[","1","]",")","||","oQ","[","1","]","==","_0_0",")","oR","=","_0_0",";","else","oR","=","_1_0","-","(","(","oS","-","oQ","[","0","]",")","/","oQ","[","1","]",")",";","oR","=","max","(","oR",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oX",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oY","=","_0_0",";","if","(","oU",".","g","==","_1_0",")","{","vec3","oZ","=","normalize","(","oT","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","oW","==","_0_0",")","{","oY","=","dot","(","o",".","xyz",",","oZ",")",";","oY","=","sqrt","(","_1_0","-","oY","*","oY",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oY","=","(","_1_0","-","oW",")","*","max","(","dot","(","oV",",","oZ",")",",","_0_0",")","+","oW",";"]}]}]},{TYPE:"txt",TOKENS:["oY","=","pow","(","oY",",","oX","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"o_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pa",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pe",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pe","=","_0_0",";","if","(","pa",".","g","==","_1_0",")","{","vec3","oZ","=","normalize","(","o_","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","_0_0",";","float","ox","=","_0_0",";","float","pg","=","_0_0",";","if","(","pc","==","_0_0",")","{","pf","=","dot","(","o",".","xyz",",","oZ",")",";","ox","=","dot","(","o",".","xyz",",","v",")",";","pg","=","dot","(","o",".","xyz",",","o_",")",";","pf","=","sqrt","(","_1_0","-","pf","*","pf",")",";","ox","=","sqrt","(","_1_0","-","ox","*","ox",")",";","pg","=","sqrt","(","_1_0","-","pg","*","pg",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","max","(","dot","(","pb",",","oZ",")",",","0.01",")",";","float","ox","=","max","(","dot","(","pb",",","v",")",",","0.01",")",";","float","pg","=","max","(","dot","(","pb",",","o_",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bl","=","tan","(","acos","(","pf",")",")",";","float","L","=","max","(","pd","[","0","]",",","0.01",")",";","pe","=","pg","*","(","_1_0","/","(","4.0","*","M_PI","*","L","*","L",")",")","*","(","exp","(","-","(","bl","*","bl",")","/","(","L","*","L",")",")","/","(","sqrt","(","ox","*","pg",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","_0_0",";","if","(","pi",".","g","==","_1_0",")","{","vec3","bO","=","normalize","(","ph","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pn","=","dot","(","bO",",","o",".","xyz",")",";","float","bl","=","pl","[","0","]","+","pl","[","1","]",";","if","(","pk","==","_0_0",")","bl","=","acos","(","sqrt","(","_1_0","-","pn","*","pn",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bl","=","acos","(","dot","(","bO",",","pj",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bl","<","pl","[","0","]",")","pm","=","_1_0",";","else","if","(","bl",">=","pl","[","0","]","+","pl","[","1","]","||","pl","[","1","]","==","_0_0",")","pm","=","_0_0",";","else","pm","=","_1_0","-","(","bl","-","pl","[","0","]",")","/","pl","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"po",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pw",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"px",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["px","=","_0_0",";","if","(","pr",".","g","==","_1_0",")","{","if","(","pw","[","0","]","<","1.0","||","pw","[","1","]","==","_0_0",")","px","=","_0_0",";","else","{","if","(","pw","[","1","]","<","100.0",")","pw","[","1","]","=","sqrt","(","1.0","/","pw","[","1","]",")",";","else","pw","[","1","]","=","10.0","/","pw","[","1","]",";","vec3","oZ","=","normalize","(","v","+","po",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","0.0",";","if","(","pv","==","_0_0",")","{","float","py","=","dot","(","o",".","xyz",",","oZ",")",";","pf","=","sqrt","(","_1_0","-","py","*","py",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","(","_1_0","-","pv",")","*","max","(","dot","(","pu",",","oZ",")",",","_0_0",")","+","pv",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","pf","<","_0_0",")","px","=","_0_0",";","else","{","float","ox","=","max","(","dot","(","pu",",","v",")",",","0.01",")",";","float","pg","=","dot","(","pu",",","po",")",";","if","(","pg","<=","0.01",")","px","=","_0_0",";","else","{","float","pz","=","max","(","dot","(","v",",","oZ",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","pf","*","ox",")","/","pz",";","float","db","=","(","2.0","*","pf","*","pg",")","/","pz",";","float","g","=","min","(","min","(","a",",","b",")",",","db",")",";","float","p","=","sqrt","(","pow","(","pw","[","0","]",",","2.0",")","+","pow","(","pz",",","2.0",")","-","_1_0",")",";","float","lq","=","pow","(","p","-","pz",",","2.0",")","/","pow","(","p","+","pz",",","2.0",")","*","(","_1_0","+","pow","(","pz","*","(","p","+","pz",")","-","_1_0",",","2.0",")","/","pow","(","pz","*","(","p","-","pz",")","+","_1_0",",","2.0",")",")",";","float","oS","=","acos","(","pf",")",";","px","=","max","(","lq","*","g","*","exp","(","-","pow","(","oS",",","2.0",")","/","(","2.0","*","pow","(","pw","[","1","]",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pG",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pL",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_B4W_TRANSLUCENCY"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","pE",",","pF",")","*","dot","(","v",",","pF",")","<","_0_0",")","{","float","zH","=","pG",".","x",";","float","zI","=","pG",".","y",";","float","zJ","=","pG",".","z",";","float","zK","=","pG",".","w",";","float","zL","=","clamp","(","abs","(","dot","(","pE",",","pF",")",")",",","_0_0",",","_1_0",")",";","float","zM","=","clamp","(","dot","(","v",",","-","pE",")",",","_0_0",",","_1_0",")",";","float","zN","=","pow","(","zM",",","zI",")",";","pL","=","pA","+","pK","*","vec4","(","pJ","*","zL","*","pow","(","pH",",","vec3","(","zH",")",")",",","_1_0",")",";","pL","+=","zJ","*","mix","(","vec4","(","pH",",","_1_0",")",",","vec4","(","_1_0",")",",","zK",")","*","pK","*","vec4","(","pJ","*","zL","*","vec3","(","zN",")",",","_1_0",")",";","pM","=","pB",";","}","else","{","pM","=","pB","+","pJ","*","pI","*","pD",";","pL","=","pA","+","vec4","(","pJ","*","pH","*","pC",",","pD",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pM","=","pB","+","pJ","*","pI","*","pD",";","pL","=","pA","+","vec4","(","pJ","*","pH","*","pC",",","pD",")",";"]}]}]}]},{TYPE:"node",NAME:"RGB",NODE_VARS:[{TYPE:"node_var",NAME:"RGB_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"zO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zO","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{TYPE:"node",NAME:"RGBTOBW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","dot","(","zP",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{TYPE:"node",NAME:"SEPRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zS",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zT",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zU",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zS"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","zR",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zT","=","zR",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zU"],STATEMENTS:[{TYPE:"txt",TOKENS:["zU","=","zR",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SEPHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zW",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zY",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zZ","=","ka","(","zV",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zW"],STATEMENTS:[{TYPE:"txt",TOKENS:["zW","=","zZ",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zX"],STATEMENTS:[{TYPE:"txt",TOKENS:["zX","=","zZ",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zY"],STATEMENTS:[{TYPE:"txt",TOKENS:["zY","=","zZ",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SQUEEZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"z_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Aa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ab",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ac",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ac","=","_1_0","/","(","_1_0","+","pow","(","2.71828183",",","-","(","z_","-","Ab",")","*","Aa",")",")",";"]}]},{TYPE:"node",NAME:"GAMMA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ad",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ae",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Af",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Af","=","Ad",";","if","(","Af",".","x",">","_0_0",")","Af",".","x","=","pow","(","Ad",".","x",",","Ae",")",";","if","(","Af",".","y",">","_0_0",")","Af",".","y","=","pow","(","Ad",".","y",",","Ae",")",";","if","(","Af",".","z",">","_0_0",")","Af",".","z","=","pow","(","Ad",".","z",",","Ae",")",";"]}]},{TYPE:"node",NAME:"B4W_SRGB_TO_LINEAR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ag",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ah",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ah","=","max","(","vec3","(","_0_0",")",",","Ag",")",";","Ah","=","pow","(","Ah",",","vec3","(","2.2",")",")",";"]}]},{TYPE:"node",NAME:"B4W_LINEAR_TO_SRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ai",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Aj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Aj","=","max","(","vec3","(","_0_0",")",",","Ai",")",";","Aj","=","pow","(","Aj",",","vec3","(","_1_0","/","2.2",")",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_EMPTY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"Ak",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Al",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Am",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ak"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ak","[","2","]","=","Ak","[","1","]","=","Ak","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Al"],STATEMENTS:[{TYPE:"txt",TOKENS:["Al","[","2","]","=","Al","[","1","]","=","Al","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Am"],STATEMENTS:[{TYPE:"txt",TOKENS:["Am","=","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"An",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ao",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ap",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_var_texture",QUALIFIER:["uniform","samplerCube"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Aq","=","vec3","(","An",".","x",",","An",".","y",",","An",".","z",")",";","vec4","wl","=","GLSL_TEXTURE_CUBE","(","node_TEXTURE_ENVIRONMENT_var_texture",",","Aq",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ao"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ao","=","wl",".","xyz",";","bY","(","Ao",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ap"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ap","=","wl",".","w",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"NON_COLOR",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ar",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"As",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"At",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"Au",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Av",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Aw",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ax",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ay",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Az",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AA",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AB",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AC",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_COLOR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qx","(","Ar",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Av"],STATEMENTS:[{TYPE:"txt",TOKENS:["Av","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","Av",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Aw"],STATEMENTS:[{TYPE:"txt",TOKENS:["Aw","=","wl",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qx","(","As",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ax"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ax","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","Ax",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ay"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ay","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qx","(","At",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Az"],STATEMENTS:[{TYPE:"txt",TOKENS:["Az","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","Az",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AA"],STATEMENTS:[{TYPE:"txt",TOKENS:["AA","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qx","(","Au",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AB"],STATEMENTS:[{TYPE:"txt",TOKENS:["AB","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","AB",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AC"],STATEMENTS:[{TYPE:"txt",TOKENS:["AC","=","wl",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"TEXTURE_NORMAL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AD",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AE",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AF",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AG",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AH",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AI",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AJ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AK",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AM",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AN",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AO",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_NORMAL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qx","(","AD",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AH"],STATEMENTS:[{TYPE:"txt",TOKENS:["AH","=","normalize","(","qM","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AI"],STATEMENTS:[{TYPE:"txt",TOKENS:["AI","=","wl",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qx","(","AE",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["AJ","=","normalize","(","qM","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AK"],STATEMENTS:[{TYPE:"txt",TOKENS:["AK","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qx","(","AF",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AL"],STATEMENTS:[{TYPE:"txt",TOKENS:["AL","=","normalize","(","qM","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AM"],STATEMENTS:[{TYPE:"txt",TOKENS:["AM","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qx","(","AG",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AN"],STATEMENTS:[{TYPE:"txt",TOKENS:["AN","=","normalize","(","qM","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AO"],STATEMENTS:[{TYPE:"txt",TOKENS:["AO","=","wl",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"VALUE_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"AP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AP","=","u_node_values","[","VALUE_IND","]",";"]}]},{TYPE:"node",NAME:"VECT_MATH_ADD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AT",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["AS","=","AQ","+","AR",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AT"],STATEMENTS:[{TYPE:"txt",TOKENS:["AT","=","(","abs","(","AS","[","0","]",")","+","abs","(","AS","[","1","]",")","+","abs","(","AS","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_SUBTRACT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AX",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["AW","=","AU","-","AV",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AX"],STATEMENTS:[{TYPE:"txt",TOKENS:["AX","=","(","abs","(","AW","[","0","]",")","+","abs","(","AW","[","1","]",")","+","abs","(","AW","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_AVERAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"A_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ba",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["A_","=","AY","+","AZ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ba"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ba","=","length","(","A_",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_A_"],STATEMENTS:[{TYPE:"txt",TOKENS:["A_","=","normalize","(","A_",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_DOT_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Be",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bd","=","vec3","(","_0_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Be"],STATEMENTS:[{TYPE:"txt",TOKENS:["Be","=","dot","(","Bb",",","Bc",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_CROSS_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bi",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bh","=","cross","(","Bf",",","Bg",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Bi"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bi","=","length","(","Bh",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_NORMALIZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bm",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bl","=","normalize","(","Bj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Bm"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bm","=","length","(","Bj",")",";"]}]}]},{TYPE:"txt",TOKENS:["Bk",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bp","=","reflect","(","U","(","G",",","Bn",")",",","Bo",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT_WORLD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Br",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Bs","=","-","v",".","xyz",";","Br","=","reflect","(","Bs",",","Bq",")",";"]}]},{TYPE:"node",NAME:"B4W_PARALLAX",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bv",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bw",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_B4W_PARALLAX_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","bo","=","length","(","qN",")",";","if","(","bo","<","Bw",")","{","vec2","bE","=","qx","(","Bt",")",";","float","bI","=","clamp","(","_0_5","*","(","Bw","-","bo",")",",","_0_0",",","_1_0",")",";","float","hN","=","Bu","*","bI",";","vec3","bK","=","normalize","(","v","*","qM",")",";","float","bL","=","_1_0","/","Bv",";","vec2","bM","=","bK",".","xy","*","hN","/","(","Bv","*","bK",".","z",")",";","float","bN","=","_1_0",";","float","bO","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bE",")",".","a",";","for","(","float","bQ","=","1.0",";","bQ","<=","Bv",";","bQ","++",")","{","if","(","bO","<","bN",")","{","bN","-=","bL",";","bE","-=","bM",";","bO","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bE",")",".","a",";","}","}","vec2","bR","=","bE","+","bM",";","float","bS","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bR",")",".","a","-","(","bN","+","bL",")",";","float","bT","=","bO","-","bN",";","float","bU","=","bT","/","(","bT","-","bS",")",";","bE","=","bU","*","bR","+","(","_1_0","-","bU",")","*","bE",";","Bx","=","qw","(","bE",")",";","}","else","Bx","=","Bt",";"]}]},{TYPE:"node",NAME:"B4W_CLAMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"By",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bz","=","clamp","(","By",",","_0_0",",","_1_0",")",";"]}]},{TYPE:"node",NAME:"B4W_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BC","=","qv","(","BA",",","BB",")",";"]}]},{TYPE:"node",NAME:"B4W_TRANSLUCENCY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BI",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BJ",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BI"],STATEMENTS:[{TYPE:"txt",TOKENS:["BI","=","BD",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["BJ","=","vec4","(","BE",",","BF",",","BG",",","BH",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_TIME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"BK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BK","=","u_time",";"]}]},{TYPE:"node",NAME:"B4W_SMOOTHSTEP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BO","=","smoothstep","(","BM",",","BN",",","BL",")",";"]}]},{TYPE:"node",NAME:"B4W_GLOW_OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","BP",";","E","=","BQ",";"]}]},{TYPE:"node",NAME:"B4W_VECTOSCAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BS",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BS","=","(","BR",".","r","+","BR",".","g","+","BR",".","b",")","/","3.0",";"]}]},{TYPE:"node",NAME:"B4W_SCALTOVEC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BU","[","0","]","=","BT",";","BU","[","1","]","=","BT",";","BU","[","2","]","=","BT",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","J","(","in","vec3","v",",","in","mat3","F",",","in","mat3","G",",","in","mat3","H",",","in","mat3","I",",","out","vec3","A",",","out","vec3","B",",","out","vec3","C",",","out","vec4","D",",","out","float","E",")","{","A","=","vec3","(","_0_0",")",";","B","=","vec3","(","_0_0",")",";","C","=","vec3","(","_0_0",")",";","D","=","vec4","(","_0_0",")",";","E","=","_0_0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_NORMAL_MAP",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","normalize","(","e",")",";","vec3","bF","=","Q",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["INVERT_FRONTFACING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","gl_FrontFacing",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["bF","=","bF",";","else","bF","=","-","bF",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nB","=","bF",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nB","=","Q",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qL","=","bF",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","S","=","cross","(","bF",",","f",".","xyz",")","*","f",".","w",";","S","=","normalize","(","S",")",";","vec3","R","=","cross","(","S",",","bF",")","*","f",".","w",";","mat3","qM","=","mat3","(","R",",","S",",","bF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","nA","=","c",";","vec4","qN","=","d",";","float","qO","=","u_emit",";","float","qP","=","u_ambient",";"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/nodes.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"NODES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"NODES_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"PARTICLE_BATCH",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2},"PARTICLE_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_orco_tex_coord",";","GLSL_OUT","vec3","qo",";"]}]}}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_TEX_COORD_UV_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qF",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qF","=","node_TEX_COORD_UV_var_a_uv",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_UV_MERGED_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qE",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qE","=","node_UV_MERGED_var_a_uv",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_UVMAP_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qG",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qG","=","node_UVMAP_var_a_uv",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_UV_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qy",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qy","=","node_GEOMETRY_UV_var_a_uv",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"BV",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BV","=","node_GEOMETRY_VC_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC1_var_a_vertex_color",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"BW",QUALIFIER:["GLSL_OUT","float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BW","=","node_GEOMETRY_VC1_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC2_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"BX",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BX","=","node_GEOMETRY_VC2_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC3_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"BY",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BY","=","node_GEOMETRY_VC3_var_a_vertex_color",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","J","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["qo","=","a_orco_tex_coord",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/pack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PACK_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PACK_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec4","gy","(","const","in","float","ic",")","{","vec4","fm","=","vec4","(","_255_0","*","_255_0","*","_255_0",",","_255_0","*","_255_0",",","_255_0",",","_1_0",")",";","vec4","BZ","=","vec4","(","_0_0",",","_1_0","/","_255_0",",","_1_0","/","_255_0",",","_1_0","/","_255_0",")",";","vec4","ju","=","fract","(","ic","*","fm",")",";","ju","-=","ju",".","xxyz","*","BZ",";","return","ju",";","}","float","cv","(","const","in","vec4","B_",")","{","float","gt",";","vec4","fm","=","vec4","(","_1_0","/","(","_255_0","*","_255_0","*","_255_0",")",",","_1_0","/","(","_255_0","*","_255_0",")",",","_1_0","/","_255_0",",","_1_0",")",";","gt","=","dot","(","B_",",","fm",")",";","return","gt",";","}","vec4","gy","(","const","in","vec2","hl",")","{","vec2","fm","=","vec2","(","_255_0",",","_1_0",")",";","vec2","BZ","=","vec2","(","_0_0",",","_1_0","/","_255_0",")",";","vec4","ju","=","fract","(","hl",".","xxyy","*","fm",".","xyxy",")",";","ju","-=","ju",".","xxzz","*","BZ",".","xyxy",";","if","(","hl",".","r","==","_1_0",")","ju",".","rg","=","vec2","(","_0_0",",","_1_0",")",";","if","(","hl",".","g","==","_1_0",")","ju",".","ba","=","vec2","(","_0_0",",","_1_0",")",";","return","ju",";","}","vec2","i_","(","const","in","vec4","Ca",")","{","vec2","hl",";","vec2","fm","=","vec2","(","_1_0","/","_255_0",",","_1_0",")",";","hl",".","r","=","dot","(","Ca",".","rg",",","fm",")",";","hl",".","g","=","dot","(","Ca",".","ba",",","fm",")",";","return","hl",";","}"]}]}}]}]},exports["include/particles.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"EPSILON",TOKENS:["0.000001"]},{TYPE:"var",NAME:"COLOR_RAMP_LENGTH",TOKENS:["0"]},{TYPE:"var",NAME:"WORLD_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_COLOR_RAMP",TOKENS:["0"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["struct","cD","{","float","cM",";","vec3","O",";","float","L",";","vec3","aK",";","float","bl",";","vec3","cS",";","vec3","cT",";","float","cU",";","}",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","Ce","(","inout","vec3","aK",",","float","Cb",",","vec4","jV",",","vec4","jW",")","{","float","Cc","=","jW",".","x","-","jV",".","x",";","float","Cd","=","(","Cb","-","jV",".","x",")","/","Cc",";","aK","=","mix","(","aK",",","jW",".","yzw",",","clamp","(","Cd",",","0.0",",","1.0",")",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Ch","(","float","t",",","float","Cf",",","vec4","Cg","[","COLOR_RAMP_LENGTH","]",")","{","float","Cb","=","t","/","Cf",";","vec3","aK","=","Cg","[","0","]",".","yzw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ce","(","aK",",","Cb",",","Cg","[","0","]",",","Cg","[","1","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ce","(","aK",",","Cb",",","Cg","[","1","]",",","Cg","[","2","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ce","(","aK",",","Cb",",","Cg","[","2","]",",","Cg","[","3","]",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aK",";","}"]}]}}]},{TYPE:"txt",TOKENS:["float","Cn","(","float","t",",","float","Cf",",","float","Ci",",","float","Cj",")","{","float","Ck","=","max","(","0.01",",","min","(","Cf",",","Ci",")",")",";","float","Cl","=","max","(","0.01",",","min","(","Cf",",","Cj",")",")",";","float","Cm","=","Cf","-","Cl",";","float","L","=","clamp","(","t","/","Ck",",","0.0",",","1.0",")","-","step","(","Cm",",","t",")","*","(","t","-","Cm",")","/","Cl",";","return","L",";","}","cD","cE","(",")","{","cD","sp",";","float","t",";","float","Cf","=","a_p_data","[","0","]",";","float","Co","=","a_p_data","[","1","]",";","if","(","u_p_cyclic","==","1",")","{","t","=","mod","(","u_p_time",",","u_p_length",")","-","Co",";","if","(","t","<","0.0",")","t","+=","u_p_length",";","}","if","(","u_p_cyclic","!=","1",")","{","t","=","u_p_time","-","Co",";","}","if","(","t","<","0.0","||","t",">=","Cf",")","{","sp",".","cM","=","0.0001",";","sp",".","O","=","vec3","(","99999.0",",","0.0",",","0.0",")",";","}","if","(","!","(","t","<","0.0","||","t",">=","Cf",")",")","{","vec3","by","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WORLD_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fj","=","a_position",";","vec3","zG","=","by",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fj","=","ae","(","u_model_tsr",",","a_position",")",";","vec3","zG","=","U","(","u_model_tsr",",","by",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","Cp","=","u_p_nfactor","*","zG",";","Cp","+=","a_p_vels",".","xyz",";","Cp",".","z","-=","u_p_gravity","*","t","/","2.0",";","float","Cq","=","max","(","u_p_mass",",","EPSILON",")",";","Cp","+=","(","u_p_wind_fac","*","u_wind","/","Cq",")","*","t","/","2.0",";","sp",".","cU","=","t",";","sp",".","cS","=","Cp",";","sp",".","cT","=","by","*","a_p_vels",".","w",";","sp",".","O","=","fj","+","Cp","*","t",";","sp",".","bl","=","a_p_vels",".","w","*","t",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_COLOR_RAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","cM","=","GLSL_TEXTURE","(","u_color_ramp_tex",",","vec2","(","t","/","u_p_max_lifetime",",","0.5",")",")",".","g",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","cM","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","aK","=","Ch","(","t",",","u_p_max_lifetime",",","u_p_color_ramp",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","aK","=","vec3","(","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["sp",".","L","=","Cn","(","t",",","a_p_data","[","0","]",",","u_p_fade_in",",","u_p_fade_out",")",";","}","return","sp",";","}"]}]}}]}]},exports["include/particles_nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_NODES_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"INVERT_FRONTFACING",TOKENS:["0"]},{TYPE:"var",NAME:"PARTICLE_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ka","(","vec3","rgb",")","{","vec4","j_","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","j_",".","wz",")",",","vec4","(","rgb",".","gb",",","j_",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","dg","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","iu","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","dg","+","iu",")",")",",","dg","/","(","q",".","x","+","iu",")",",","q",".","x",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","kc","(","vec3","kb",")","{","vec4","j_","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","kb",".","r",",","kb",".","r",",","kb",".","r",")","+","j_",".","xyz",")","*","6.0","-","j_",".","www",")",";","return","kb",".","b","*","mix","(","j_",".","xxx",",","clamp","(","p","-","j_",".","xxx",",","_0_0",",","_1_0",")",",","kb",".","g",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qw","(","vec2","gP",")","{","return","vec3","(","gP","*","2.0","-","vec2","(","_1_0",",","_1_0",")",",","_0_0",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","qx","(","vec3","hl",")","{","return","vec2","(","hl",".","xy","*","_0_5","+","vec2","(","_0_5",",","_0_5",")",")",";","}"]}]}}]},{TYPE:"node",NAME:"CAMERA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"qQ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"qR",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"qS",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["qQ","=","normalize","(","qN",".","xyz",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qR"],STATEMENTS:[{TYPE:"txt",TOKENS:["qR","=","abs","(","qN",".","z",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qS"],STATEMENTS:[{TYPE:"txt",TOKENS:["qS","=","length","(","qN",".","xyz",")",";"]}]}]}]},{TYPE:"node",NAME:"COMBRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"qT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qW","=","vec3","(","qT",",","qU",",","qV",")",";"]}]},{TYPE:"node",NAME:"COMBHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"qX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"q_",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["q_","=","kc","(","vec3","(","qX",",","qY",",","qZ",")",")",";"]}]},{TYPE:"node",NAME:"EMPTY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rc","=","vec3","(","-","_1_0",",","-","_1_0",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"EMPTY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rd",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rd","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"re",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["re","=","qw","(","n",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_OR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rf","=","2.0","*","vec3","(","n",",","_0_0",")","-","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rh","=","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ri",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ri","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rk",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rj","=","_1_0",";","rk","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rn",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rl","=","_1_0",";","rm","=","_1_0",";","rn","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ro",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ro","=","qL",".","xyz",";"]}]},{TYPE:"node",NAME:"GEOMETRY_FB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rp",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["INVERT_FRONTFACING"],STATEMENTS:[{TYPE:"txt",TOKENS:["rp","=","(","gl_FrontFacing",")","?","_0_0",":","_1_0",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["rp","=","(","gl_FrontFacing",")","?","_1_0",":","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_VW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rq","=","-","U","(","F",",","v",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_LO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rs",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rs","[","0","]","=","qN","[","0","]",";","rs","[","1","]","=","qN","[","1","]",";","rs","[","2","]","=","qN","[","2","]",";"]}]},{TYPE:"node",NAME:"GEOMETRY_GL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rt",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rt","=","vec3","(","nA",".","r",",","-","nA",".","b",",","nA",".","g",")",";"]}]},{TYPE:"node",NAME:"NEW_GEOMETRY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ru",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ry",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rB",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ru","=","vec3","(","_0_0",")",";","rv","=","vec3","(","_0_0",")",";","rw","=","vec3","(","_0_0",")",";","rx","=","vec3","(","_0_0",")",";","ry","=","vec3","(","_0_0",")",";","rz","=","vec3","(","_0_0",")",";","rA","=","_0_0",";","rB","=","_0_0",";"]}]},{TYPE:"node",NAME:"HUE_SAT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","kb","=","ka","(","rG",")",";","kb","[","0","]","+=","(","rC","-","_0_5",")",";","if","(","kb","[","0","]",">","_1_0",")","kb","[","0","]","-=","_1_0",";","else","if","(","kb","[","0","]","<","_0_0",")","kb","[","0","]","+=","_1_0",";","kb","*=","vec3","(","_1_0",",","rD",",","rE",")",";","kb","=","mix","(","vec3","(","_1_0",")",",","mix","(","vec3","(","_0_0",")",",","kb",",","step","(","vec3","(","_0_0",")",",","kb",")",")",",","step","(","kb",",","vec3","(","_1_0",")",")",")",";","rH","=","mix","(","rG",",","kc","(","kb",")",",","rF",")",";"]}]},{TYPE:"node",NAME:"INVERT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rK","=","mix","(","rJ",",","vec3","(","_1_0",")","-","rJ",",","rI",")",";"]}]},{TYPE:"node",NAME:"LAMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rO",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rL"],STATEMENTS:[{TYPE:"txt",TOKENS:["rL","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{TYPE:"txt",TOKENS:["vec4","rP","=","u_lamp_light_factors","[","LAMP_INDEX","]",";","vec3","rQ","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","vec3","rR","=","u_lamp_light_positions","[","LAMP_INDEX","]",";","float","rS","=","rP",".","z",";","if","(","rS","!=","-","_1_0",")","{","rM","=","c","-","rR",";","rN","=","length","(","rM",")",";","rM","=","normalize","(","rM",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rO"],STATEMENTS:[{TYPE:"txt",TOKENS:["rO","=","rS","/","(","rS","+","rN","*","rN",")",";","float","rT","=","rP",".","x",";","float","rU","=","rP",".","y",";","if","(","rT",">","-","_1_0",")","{","float","od","=","dot","(","-","rM",",","rQ",")",";","od","*=","smoothstep","(","_0_0",",","_1_0",",","(","od","-","rT",")","/","rU",")",";","rO","*=","od",";","}"]}]}]},{TYPE:"txt",TOKENS:["}","else","{"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rM"],STATEMENTS:[{TYPE:"txt",TOKENS:["rM","=","rQ",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rN"],STATEMENTS:[{TYPE:"txt",TOKENS:["rN","=","length","(","rR","-","c",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rO"],STATEMENTS:[{TYPE:"txt",TOKENS:["rO","=","_1_0",";"]}]}]},{TYPE:"txt",TOKENS:["}"]}]},{TYPE:"node",NAME:"NORMAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rW",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"qD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rW"],STATEMENTS:[{TYPE:"txt",TOKENS:["rW","=","qD",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rX"],STATEMENTS:[{TYPE:"txt",TOKENS:["rX","=","-","dot","(","rV",",","qD",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_VECTOR_VIEW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rZ","=","-","U","(","F",",","rY",")",";"]}]},{TYPE:"node",NAME:"BSDF_ANISOTROPIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"r_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"se",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sf","=","r_",";","sa",";","sb",";","sc",";","sd",";","se",";"]}]},{TYPE:"node",NAME:"BSDF_DIFFUSE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"si",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sj","=","sg",";","sh",";","si",";"]}]},{TYPE:"node",NAME:"BSDF_GLASS",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"so",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["so","=","sk",";","sl",";","sm",";","sn",";"]}]},{TYPE:"node",NAME:"BSDF_GLOSSY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"su",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sw","=","sr",";","su",";","sv",";"]}]},{TYPE:"node",NAME:"BSDF_HAIR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sB",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sB","=","sx",";","sy",";","sz",";","sA",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSPARENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sD","=","sC",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSLUCENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sG","=","sE",";","sF",";"]}]},{TYPE:"node",NAME:"BSDF_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sL","[","0","]","=","sL","[","1","]","=","sL","[","2","]","=","_0_0",";","sH",";","sI",";","sJ",";","sK",";"]}]},{TYPE:"node",NAME:"BSDF_TOON",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sQ","=","sM",";","sN",";","sO",";","sP",";"]}]},{TYPE:"node",NAME:"BSDF_VELVET",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sU","=","sR",";","sS",";","sT",";"]}]},{TYPE:"node",NAME:"SUBSURFACE_SCATTERING",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"s_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ta",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ta","[","0","]","=","ta","[","1","]","=","ta","[","2","]","=","_0_0",";","sV",";","sX",";","sY",";","sZ",";","s_",";","sW",";"]}]},{TYPE:"node",NAME:"EMISSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"td",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["td","=","tb",";","tc",";"]}]},{TYPE:"node",NAME:"AMBIENT_OCCLUSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"te",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tf","[","0","]","=","tf","[","1","]","=","tf","[","2","]","=","_0_0",";","te",";"]}]},{TYPE:"node",NAME:"HOLDOUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"tg",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tg","[","0","]","=","tg","[","1","]","=","tg","[","2","]","=","_0_0",";"]}]},{TYPE:"node",NAME:"VOLUME_ABSORPTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"th",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ti",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tj","[","0","]","=","tj","[","1","]","=","tj","[","2","]","=","_0_0",";","th",";","ti",";"]}]},{TYPE:"node",NAME:"VOLUME_SCATTER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tn","[","0","]","=","tn","[","1","]","=","tn","[","2","]","=","_0_0",";","tk",";","tl",";","tm",";"]}]},{TYPE:"node",NAME:"BUMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"to",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tw","=","tv",";","to",";","tr",";","tu",";"]}]},{TYPE:"node",NAME:"NORMAL_MAP",NODE_VARS:[{TYPE:"node_var",NAME:"SPACE",TOKENS:["NM_TANGENT"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ty",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","tA","=","nB",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SPACE","NM_TANGENT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","qM","*","(","ty",".","xyz","-","_0_5",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_OBJECT",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_OBJECT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","ty",".","xyz","-","_0_5",";","tz",".","yz","*=","-","1.0",";","tz","=","U","(","H",",","tz",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_WORLD",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_WORLD",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","ty",".","xyz","-","_0_5",";","tz",".","yz","*=","-","1.0",";"]}]}]},{TYPE:"txt",TOKENS:["tz","=","normalize","(","mix","(","tA",",","tz",",","tx",")",")",";"]}]},{TYPE:"node",NAME:"VECT_TRANSFORM",NODE_VARS:[{TYPE:"node_var",NAME:"CONVERT_TYPE",TOKENS:["VT_WORLD_TO_OBJECT"]},{TYPE:"node_var",NAME:"VECTOR_TYPE",TOKENS:["VT_VECTOR"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","tB",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_POINT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","F",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","I",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","H",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","H",",","tB",")",";","tC","=","ae","(","F",",","tC",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","G",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","G",",","tB",")",";","tC","=","ae","(","I",",","tC",")",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","F",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","I",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","H",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","H",",","tB",")",";","tC","=","U","(","F",",","tC",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","G",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","G",",","tB",")",";","tC","=","U","(","I",",","tC",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_NORMAL",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","normalize","(","tC",")",";"]}]}]}]}]}]},{TYPE:"node",NAME:"BLACKBODY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tE","[","0","]","=","tE","[","1","]","=","tE","[","2","]","=","_0_0",";","tD",";"]}]},{TYPE:"node",NAME:"WAVELENGTH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tG","[","0","]","=","tG","[","1","]","=","tG","[","2","]","=","_0_0",";","tF",";"]}]},{TYPE:"node",NAME:"SEPXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tI","=","tH","[","0","]",";","tJ","=","tH","[","1","]",";","tK","=","tH","[","2","]",";"]}]},{TYPE:"node",NAME:"COMBXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tO","[","0","]","=","tL",";","tO","[","1","]","=","tM",";","tO","[","2","]","=","tN",";"]}]},{TYPE:"node",NAME:"BRIGHTCONTRAST",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","b","=","tQ","-","tR","*","_0_5",";","tS","=","max","(","(","_1_0","+","tR",")","*","tP","+","b",",","vec3","(","_0_0",")",")",";"]}]},{TYPE:"node",NAME:"LIGHT_FALLOFF",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tV","=","tW","=","tX","=","_0_0",";","tT",";","tU",";"]}]},{TYPE:"node",NAME:"TEX_IMAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"t_",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tZ","[","0","]","=","tZ","[","1","]","=","tZ","[","2","]","=","_0_0",";","t_","=","_1_0",";","tY",";"]}]},{TYPE:"node",NAME:"TEX_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ua",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ub",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ub","[","0","]","=","ub","[","1","]","=","ub","[","2","]","=","_0_0",";","ua",";"]}]},{TYPE:"node",NAME:"TEX_SKY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ud",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ud","[","0","]","=","ud","[","1","]","=","ud","[","2","]","=","_0_0",";","uc",";"]}]},{TYPE:"node",NAME:"TEX_NOISE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ue",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ug",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ui",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ui","[","0","]","=","ui","[","1","]","=","ui","[","2","]","=","_0_0",";","uj","=","_1_0",";","ue",";","uf",";","ug",";","uh",";"]}]},{TYPE:"node",NAME:"TEX_WAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ul",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"um",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"un",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"up",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["up","[","0","]","=","up","[","1","]","=","up","[","2","]","=","_0_0",";","uq","=","_1_0",";","uk",";","ul",";","um",";","un",";","uo",";"]}]},{TYPE:"node",NAME:"TEX_VORONOI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ur",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"us",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ut",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ut","[","0","]","=","ut","[","1","]","=","ut","[","2","]","=","_0_0",";","uu","=","_1_0",";","ur",";","us",";"]}]},{TYPE:"node",NAME:"TEX_MUSGRAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ux",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uC","[","0","]","=","uC","[","1","]","=","uC","[","2","]","=","_0_0",";","uD","=","_1_0",";","uv",";","uw",";","ux",";","uy",";","uz",";","uA",";","uB",";"]}]},{TYPE:"node",NAME:"TEX_GRADIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uF","[","0","]","=","uF","[","1","]","=","uF","[","2","]","=","_0_0",";","uG","=","_1_0",";","uE",";"]}]},{TYPE:"node",NAME:"TEX_MAGIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uK","[","0","]","=","uK","[","1","]","=","uK","[","2","]","=","_0_0",";","uL","=","_1_0",";","uH",";","uI",";","uJ",";"]}]},{TYPE:"node",NAME:"TEX_CHECKER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uQ","[","0","]","=","uQ","[","1","]","=","uQ","[","2","]","=","_0_0",";","uR","=","_1_0",";","uM",";","uN",";","uO",";","uP",";"]}]},{TYPE:"node",NAME:"TEX_BRICK",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"u_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"va",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vb",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["va","[","0","]","=","va","[","1","]","=","va","[","2","]","=","_0_0",";","vb","=","_1_0",";","uS",";","uT",";","uU",";","uV",";","uW",";","uX",";","uY",";","uZ",";","u_",";"]}]},{TYPE:"node",NAME:"ADD_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ve",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ve","=","clamp","(","vc","+","vd",",","vec3","(","_0_0",")",",","vec3","(","_1_0",")",")",";"]}]},{TYPE:"node",NAME:"MIX_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vi",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","vf",",","_0_0",",","_1_0",")",";","vi","=","vj","*","vg","+","(","_1_0","-","vj",")","*","vh",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vk"],STATEMENTS:[{TYPE:"txt",TOKENS:["vk","=","qw","(","n",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vl"],STATEMENTS:[{TYPE:"txt",TOKENS:["vl","=","vec3","(","n",",","_0_0",")",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vm",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vm","=","vec3","(","n",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vn","=","nB",";"]}]},{TYPE:"node",NAME:"TEX_COORD_GE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vo",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vo","=","vec3","(","n",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_OB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vp","[","0","]","=","vp","[","1","]","=","vp","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_CA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vq","[","0","]","=","qN","[","0","]",";","vq","[","1","]","=","qN","[","1","]",";","vq","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_WI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vr",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vr","[","0","]","=","vr","[","1","]","=","vr","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_RE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vs",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vs","[","0","]","=","vs","[","1","]","=","vs","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vt",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","vec3","(","n",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"Cr",QUALIFIER:["GLSL_IN","vec4"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Cs",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Ct",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Cu",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PARTICLE_BATCH"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vu"],STATEMENTS:[{TYPE:"txt",TOKENS:["vu","=","Cr","[","0","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vv"],STATEMENTS:[{TYPE:"txt",TOKENS:["vv","=","Cr","[","1","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vw"],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","Cr","[","2","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vx"],STATEMENTS:[{TYPE:"txt",TOKENS:["vx","=","vec3","(","Cs",".","r",",","-","Cs",".","b",",","Cs",".","g",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vy"],STATEMENTS:[{TYPE:"txt",TOKENS:["vy","=","Cr","[","3","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vz"],STATEMENTS:[{TYPE:"txt",TOKENS:["vz","=","vec3","(","Ct",".","r",",","-","Ct",".","b",",","Ct",".","g",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vA"],STATEMENTS:[{TYPE:"txt",TOKENS:["vA","=","vec3","(","Cu",".","r",",","-","Cu",".","b",",","Cu",".","g",")",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vu","=","_0_0",";","vv","=","_0_0",";","vw","=","_0_0",";","vx","=","vec3","(","_0_0",")",";","vy","=","_0_0",";","vz","=","vx",";","vA","=","vx",";"]}]}]}]},{TYPE:"node",NAME:"HAIR_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vB","=","_0_0",";","vC","=","_0_0",";","vD","=","_0_0",";","vE","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"OBJECT_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vI",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vG","=","_0_0",";","vH","=","_0_0",";","vI","=","_0_0",";","vF","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"WIREFRAME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vK","=","vJ",";"]}]},{TYPE:"node",NAME:"TANGENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vL","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LAYER_WEIGHT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vO","=","vP","=","_0_0",";","vN",";","vM",";"]}]},{TYPE:"node",NAME:"LIGHT_PATH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vQ","=","vR","=","vS","=","_0_0",";","vT","=","vU","=","vV","=","_0_0",";","vW","=","vW","=","vY","=","vZ","=","_0_0",";","vX","=","_0_0",";"]}]},{TYPE:"node",NAME:"ATTRIBUTE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"v_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wb",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["v_","=","wa","=","vec3","(","_0_0",")",";","wb","=","_0_0",";"]}]},{TYPE:"node",NAME:"SCRIPT",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[]},{TYPE:"node",NAME:"CURVE_VEC",NODE_VARS:[{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"we",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["we","=","wd",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","r","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","r","+","0.5",",","NODE_TEX_ROW",")",")",".","r","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","g","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","g","+","0.5",",","NODE_TEX_ROW",")",")",".","g","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","b","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","b","+","0.5",",","NODE_TEX_ROW",")",")",".","b","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"txt",TOKENS:["we","=","mix","(","wd",",","we",",","wc",")",";"]}]},{TYPE:"node",NAME:"CURVE_RGB",NODE_VARS:[{TYPE:"node_var",NAME:"READ_A",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_A"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","r",",","NODE_TEX_ROW",")",")",".","a",";","float","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","g",",","NODE_TEX_ROW",")",")",".","a",";","float","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","wg",".","r",";","float","g","=","wg",".","g",";","float","b","=","wg",".","b",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","r",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","r","=","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","g",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","g","=","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","b",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","b","=","b",";"]}]}]},{TYPE:"txt",TOKENS:["wh","=","mix","(","wg",",","wh",",","wf",")",";"]}]},{TYPE:"node",NAME:"VALTORGB",NODE_VARS:[{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wk",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wi",",","NODE_TEX_ROW",")",")",";","wj","=","wl",".","rgb",";","wk","=","wl",".","a",";"]}]},{TYPE:"node",NAME:"MAPPING",NODE_VARS:[{TYPE:"node_var",NAME:"MAPPING_SCALE_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_SCALE",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRANS_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRANS",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX",TOKENS:["mat4","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_IS_NORMAL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wm",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_SCALE_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wn","*","MAPPING_SCALE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRANS_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wn","+","MAPPING_TRANS",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRS_MATRIX_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","(","MAPPING_TRS_MATRIX","*","vec4","(","wn",",","_1_0",")",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MIN_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","max","(","wn",",","MAPPING_MIN_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MAX_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","min","(","wn",",","MAPPING_MAX_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_IS_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","normalize","(","wn",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","wo","+","wp",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","clamp","(","wq",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ws",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wt",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wt","=","wr","-","ws",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wt","=","clamp","(","wt",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wA",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wA","=","wu","*","wv",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wA","=","clamp","(","wA",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wD","=","(","wC","!=","_0_0",")","?","wB","/","wC",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wD","=","clamp","(","wD",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wG","=","sin","(","wE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wG","=","clamp","(","wG",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wF",";"]}]},{TYPE:"node",NAME:"MATH_COSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wJ","=","cos","(","wH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wJ","=","clamp","(","wJ",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wI",";"]}]},{TYPE:"node",NAME:"MATH_TANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wM","=","tan","(","wK",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wM","=","clamp","(","wM",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wL",";"]}]},{TYPE:"node",NAME:"MATH_ARCSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wP","=","(","wN","<=","_1_0","&&","wN",">=","-","_1_0",")","?","asin","(","wN",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wP","=","clamp","(","wP",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wO",";"]}]},{TYPE:"node",NAME:"MATH_ARCCOSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wS",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wS","=","(","wQ","<=","_1_0","&&","wQ",">=","-","_1_0",")","?","acos","(","wQ",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wS","=","clamp","(","wS",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wR",";"]}]},{TYPE:"node",NAME:"MATH_ARCTANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wV",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wV","=","atan","(","wT",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wV","=","clamp","(","wV",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wU",";"]}]},{TYPE:"node",NAME:"MATH_POWER",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","wW","<","_0_0","&&","wX","!=","floor","(","wX",")",")","wY","=","_0_0",";","else","if","(","wX","==","_0_0",")","wY","=","_1_0",";","else","if","(","wW","<","_0_0",")","wY","=","mix","(","_1_0",",","-","_1_0",",","sign","(","mod","(","-","wX",",","2.0",")",")",")","*","pow","(","-","wW",",","wX",")",";","else","if","(","wW","==","_0_0",")","wY","=","_0_0",";","else","wY","=","pow","(","wW",",","wX",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wY","=","clamp","(","wY",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_LOGARITHM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"w_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xa","=","(","wZ",">","_0_0","&&","w_",">","_0_0",")","?","log2","(","wZ",")","/","log2","(","w_",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xa","=","clamp","(","xa",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MINIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xd","=","min","(","xb",",","xc",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xd","=","clamp","(","xd",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MAXIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xe",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xg","=","max","(","xe",",","xf",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xg","=","clamp","(","xg",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ROUND",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xj","=","floor","(","xh","+","_0_5",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xj","=","clamp","(","xj",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["xi",";"]}]},{TYPE:"node",NAME:"MATH_LESS_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xm","=","(","xk","<","xl",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xm","=","clamp","(","xm",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_GREATER_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xp",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xp","=","(","xn",">","xo",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xp","=","clamp","(","xp",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MODULO",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xs",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xs","=","abs","(","xr",")",">","0.000001","?","mod","(","xq",",","xr",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xs","=","clamp","(","xs",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ABSOLUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xv",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xv","=","abs","(","xt",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xv","=","clamp","(","xv",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["xu",";"]}]},{TYPE:"node",NAME:"MIX_RGB_MIX",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xA",",","_0_0",",","_1_0",")",";","xD","=","mix","(","xB",",","xC",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xD","=","clamp","(","xD",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xE",",","_0_0",",","_1_0",")",";","xH","=","mix","(","xF",",","xF","+","xG",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xH","=","clamp","(","xH",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xI",",","_0_0",",","_1_0",")",";","xL","=","mix","(","xJ",",","xJ","*","xK",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xL","=","clamp","(","xL",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xM",",","_0_0",",","_1_0",")",";","xP","=","mix","(","xN",",","xN","-","xO",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xP","=","clamp","(","xP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SCREEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xQ",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","xT","=","vec3","(","_1_0",")","-","(","vec3","(","xU",")","+","vj","*","(","vec3","(","_1_0",")","-","xS",")",")","*","(","vec3","(","_1_0",")","-","xR",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xT","=","clamp","(","xT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xV",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","xX","+=","step","(","xX",",","vec3","(","_0_0",")",")",";","xY","=","xU","*","xW","+","vj","*","xW","/","xX",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xY","=","clamp","(","xY",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIFFERENCE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"x_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ya",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xZ",",","_0_0",",","_1_0",")",";","yb","=","mix","(","x_",",","abs","(","x_","-","ya",")",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yb","=","clamp","(","yb",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DARKEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ye",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yc",",","_0_0",",","_1_0",")",";","yf","=","min","(","yd",".","rgb",",","ye",".","rgb","*","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yf","=","clamp","(","yf",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LIGHTEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yg",",","_0_0",",","_1_0",")",";","yj","=","max","(","yh",".","rgb",",","yi",".","rgb","*","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yj","=","clamp","(","yj",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_OVERLAY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ym",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yk",",","_0_0",",","_1_0",")",";","vec3","yo","=","vec3","(","_1_0","-","vj",")",";","yn","=","mix","(","yl","*","(","yo","+","2.0","*","vj","*","ym",")",",","vec3","(","_1_0",")","-","(","yo","+","2.0","*","vj","*","(","vec3","(","_1_0",")","-","ym",")",")","*","(","vec3","(","_1_0",")","-","yl",")",",","step","(","_0_5",",","yl",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yn","=","clamp","(","yn",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DODGE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ys",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yp",",","_0_0",",","_1_0",")",";","vec3","yt","=","vec3","(","_1_0",")","-","vj","*","yr",";","vec3","yu","=","clamp","(","yq","/","yt",",","_0_0",",","_1_0",")",";","ys","=","mix","(","mix","(","yu",",","vec3","(","_1_0",")",",","step","(","yt",",","vec3","(","_0_0",")",")",")",",","yq",",","step","(","yq",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ys","=","clamp","(","ys",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_BURN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yv",",","_0_0",",","_1_0",")",";","vec3","kd","=","vec3","(","_1_0","-","vj",")",";","vec3","yt","=","kd","+","vj","*","yB",";","vec3","yu","=","clamp","(","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","yA",")","/","yt",",","_0_0",",","_1_0",")",";","yC","=","mix","(","yu",",","vec3","(","_0_0",")",",","step","(","yt",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yC","=","clamp","(","yC",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_HUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yD",",","_0_0",",","_1_0",")",";","vec3","kb",",","yH",",","yt",";","yG","=","yE",";","yH","=","ka","(","yF",")",";","if","(","yH",".","y","!=","_0_0",")","{","kb","=","ka","(","yG",")",";","kb",".","x","=","yH",".","x",";","yt","=","kc","(","kb",")",";","yG","=","mix","(","yG",",","yt",",","vj",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yG","=","clamp","(","yG",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SATURATION",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yI",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","yL","=","yJ",";","vec3","kb",",","yH",";","kb","=","ka","(","yL",")",";","if","(","kb",".","y","!=","_0_0",")","{","yH","=","ka","(","yK",")",";","kb",".","y","=","xU","*","kb",".","y","+","vj","*","yH",".","y",";","yL","=","kc","(","kb",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yL","=","clamp","(","yL",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yM",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","vec3","kb",",","yH",";","kb","=","ka","(","yN",")",";","yH","=","ka","(","yO",")",";","kb",".","z","=","xU","*","kb",".","z","+","vj","*","yH",".","z",";","yP","=","kc","(","kb",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yP","=","clamp","(","yP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yQ",",","_0_0",",","_1_0",")",";","vec3","kb",",","yH",",","yt",";","yT","=","yR",";","yH","=","ka","(","yS",")",";","if","(","yH",".","y","!=","_0_0",")","{","kb","=","ka","(","yT",")",";","kb",".","x","=","yH",".","x",";","kb",".","y","=","yH",".","y",";","yt","=","kc","(","kb",")",";","yT","=","mix","(","yT",",","yt",",","vj",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yT","=","clamp","(","yT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SOFT_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yU",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","vec3","yY","=","yW","+","yV","-","yW","*","yV",";","yX","=","yV","*","(","vec3","(","xU",")","+","vec3","(","vj",")","*","(","(","vec3","(","_1_0",")","-","yV",")","*","yW","+","yY",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yX","=","clamp","(","yX",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LINEAR_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"y_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"za",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yZ",",","_0_0",",","_1_0",")",";","zb","=","y_","+","vj","*","(","2.0","*","za","-","vec3","(","_1_0",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zb","=","clamp","(","zb",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","zc",";","E","=","zd",";"]}]},{TYPE:"node",NAME:"MATERIAL_BEGIN",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_NORMAL",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"SHADELESS_MAT",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ze",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zh",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zi",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zo",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zp",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zq",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qH",QUALIFIER:["const","vec2"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"qI",QUALIFIER:["const","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","=","clamp","(","ze",",","_0_0",",","_1_0",")",";","zm","=","qI","[","0","]","*","clamp","(","zf",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["zn","=","normalize","(","zh",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zn","=","nB",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SHADELESS_MAT",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","zi","*","zl",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","qO","*","zl",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","*=","zg",";"]}]}]},{TYPE:"txt",TOKENS:["zk","=","qP","*","u_environment_energy","*","ce","(","zn",")",";","zq","=","vec4","(","1.0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["zo","=","vec2","(","qH","[","0","]",",","qH","[","1","]",")",";","zp","=","vec2","(","qI","[","1","]",",","qI","[","2","]",")",";"]}]}]},{TYPE:"txt",TOKENS:["D","=","zq",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","vec3","(","_0_0",")",";","zk","=","vec3","(","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATERIAL_END",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_SPECULAR",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zr",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zu",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zv",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zA",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zB",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zC",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zD",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zE",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zF",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"qJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zu",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zB"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","zr",".","rgb",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","+=","zs",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zD"],STATEMENTS:[{TYPE:"txt",TOKENS:["zD","=","zt",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zE","=","zr",".","rgb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zF","=","zs",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zC"],STATEMENTS:[{TYPE:"txt",TOKENS:["zC","=","clamp","(","zA",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","zs",".","r",",","zs",".","g",")",",","zs",".","b",")","*","zv",";","zC","=","clamp","(","zA","*","(","_1_0","-","t",")","+","t",",","_0_0",",","_1_0",")",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zC"],STATEMENTS:[{TYPE:"txt",TOKENS:["zC","=","clamp","(","qJ",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","zs",".","r",",","zs",".","g",")",",","zs",".","b",")","*","qK",";","zC","=","qJ","*","(","_1_0","-","t",")","+","t",";"]}]}]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["B","=","zs",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["B","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["C","=","zt",";"]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nV",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nV","=","vec4","(","nS","+","nU","*","nT",",","_0_0",")",";","nW","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_FACT_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_FAC_CHANNELS",TOKENS:["rg"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"nX",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nZ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"n_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nZ","=","u_light_factors","[","LAMP_LIGHT_FACT_IND","]",".","LAMP_FAC_CHANNELS",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["oa","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oa","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["n_","=","u_light_color_intensities","[","LAMP_IND","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["n_","*=","nX","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ob","=","u_light_positions","[","LAMP_IND","]",";","nY","=","ob","-","nA",";","float","aG","=","length","(","nY",")",";","n_","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aG","*","aG",")",";","nY","=","normalize","(","nY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oc","=","u_light_directions","[","LAMP_IND","]",";","float","od","=","dot","(","nY",",","oc",")",";","od","*=","smoothstep","(","_0_0",",","_1_0",",","(","od","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","n_","*=","od",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"of",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","oe",",","f",".","xyz",")",";","og","=","cross","(","ok",",","f",".","xyz",")",";","og","=","-","normalize","(","og",")",";"]}]}]},{TYPE:"txt",TOKENS:["oj","=","_0_0",";","if","(","of",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","oh",")","*","dot","(","og",",","oe",")","+","oh",";","if","(","oi","[","0","]","==","_0_0",")","{","oj","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","ol",")",";","t","=","oi","[","1","]","+","(","_1_0","-","oi","[","1","]",")","*","pow","(","t",",","oi","[","0","]",")",";","oj","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","oj","=","max","(","oj",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","om",",","f",".","xyz",")",";","oo","=","cross","(","ok",",","f",".","xyz",")",";","oo","=","-","normalize","(","oo",")",";"]}]}]},{TYPE:"txt",TOKENS:["oq","=","_0_0",";","if","(","on",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","op",")","*","dot","(","oo",",","om",")","+","op",";","oq","=","max","(","ol",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"or",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"os",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ot",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ou",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ov",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ow",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","or",",","f",".","xyz",")",";","ot","=","cross","(","ok",",","f",".","xyz",")",";","ot","=","-","normalize","(","ot",")",";"]}]}]},{TYPE:"txt",TOKENS:["ow","=","_0_0",";","if","(","os",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","ou",")","*","dot","(","ot",",","or",")","+","ou",";","if","(","ov","[","0","]",">","_0_0",")","{","float","ox","=","max","(","dot","(","ot",",","v",")",",","_0_0",")",";","float","oy","=","ov","[","0","]","*","ov","[","0","]",";","float","cg","=","_1_0","-","_0_5","*","(","oy","/","(","oy","+","0.33",")",")",";","vec3","oz","=","or","-","ol","*","ot",";","vec3","oA","=","v","-","ox","*","ot",";","if","(","length","(","oz",")","==","_0_0","||","length","(","oA",")","==","_0_0","||","abs","(","ol",")",">","_1_0","||","abs","(","ox",")",">","_1_0",")","ow","=","ol","*","cg",";","else","{","float","oB","=","acos","(","ol",")",";","float","oC","=","acos","(","ox",")",";","vec3","oD","=","normalize","(","oz",")",";","vec3","oE","=","normalize","(","oA",")",";","float","a",",","b",";","a","=","max","(","oB",",","oC",")",";","b","=","min","(","oB",",","oC",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oD",",","oE",")",",","_0_0",")",";","float","oF","=","0.45","*","(","oy","/","(","oy","+","0.09",")",")",";","ow","=","ol","*","(","cg","+","(","oF","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","ow","=","ol",";","ow","=","max","(","ow",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","oG",",","f",".","xyz",")",";","oI","=","cross","(","ok",",","f",".","xyz",")",";","oI","=","-","normalize","(","oI",")",";"]}]}]},{TYPE:"txt",TOKENS:["oL","=","_0_0",";","if","(","oH",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","oJ",")","*","dot","(","oI",",","oG",")","+","oJ",";","float","ox","=","max","(","dot","(","oI",",","v",")",",","_0_0",")",";","if","(","oK","[","0","]","<=","_1_0",")","oL","=","ol","*","pow","(","max","(","ox","*","ol",",","0.1",")",",","oK","[","0","]","-","_1_0",")",";","else","oL","=","ol","*","pow","(","1.0001","-","ox",",","oK","[","0","]","-","_1_0",")",";","oL","=","max","(","oL",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oN",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oQ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","cross","(","oM",",","f",".","xyz",")",";","oO","=","cross","(","ok",",","f",".","xyz",")",";","oO","=","-","normalize","(","oO",")",";"]}]}]},{TYPE:"txt",TOKENS:["oR","=","_0_0",";","if","(","oN",".","r","!=","_0_0",")","{","float","ol","=","(","_1_0","-","oP",")","*","dot","(","oO",",","oM",")","+","oP",";","float","oS","=","acos","(","ol",")",";","if","(","oS","<","oQ","[","0","]",")","oR","=","_1_0",";","else","if","(","oS",">","(","oQ","[","0","]","+","oQ","[","1","]",")","||","oQ","[","1","]","==","_0_0",")","oR","=","_0_0",";","else","oR","=","_1_0","-","(","(","oS","-","oQ","[","0","]",")","/","oQ","[","1","]",")",";","oR","=","max","(","oR",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oX",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oY","=","_0_0",";","if","(","oU",".","g","==","_1_0",")","{","vec3","oZ","=","normalize","(","oT","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","oW","==","_0_0",")","{","oY","=","dot","(","f",".","xyz",",","oZ",")",";","oY","=","sqrt","(","_1_0","-","oY","*","oY",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oY","=","(","_1_0","-","oW",")","*","max","(","dot","(","oV",",","oZ",")",",","_0_0",")","+","oW",";"]}]}]},{TYPE:"txt",TOKENS:["oY","=","pow","(","oY",",","oX","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"o_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pa",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pe",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pe","=","_0_0",";","if","(","pa",".","g","==","_1_0",")","{","vec3","oZ","=","normalize","(","o_","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","_0_0",";","float","ox","=","_0_0",";","float","pg","=","_0_0",";","if","(","pc","==","_0_0",")","{","pf","=","dot","(","f",".","xyz",",","oZ",")",";","ox","=","dot","(","f",".","xyz",",","v",")",";","pg","=","dot","(","f",".","xyz",",","o_",")",";","pf","=","sqrt","(","_1_0","-","pf","*","pf",")",";","ox","=","sqrt","(","_1_0","-","ox","*","ox",")",";","pg","=","sqrt","(","_1_0","-","pg","*","pg",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","max","(","dot","(","pb",",","oZ",")",",","0.01",")",";","float","ox","=","max","(","dot","(","pb",",","v",")",",","0.01",")",";","float","pg","=","max","(","dot","(","pb",",","o_",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bl","=","tan","(","acos","(","pf",")",")",";","float","L","=","max","(","pd","[","0","]",",","0.01",")",";","pe","=","pg","*","(","_1_0","/","(","4.0","*","M_PI","*","L","*","L",")",")","*","(","exp","(","-","(","bl","*","bl",")","/","(","L","*","L",")",")","/","(","sqrt","(","ox","*","pg",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","_0_0",";","if","(","pi",".","g","==","_1_0",")","{","vec3","bO","=","normalize","(","ph","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pn","=","dot","(","bO",",","f",".","xyz",")",";","float","bl","=","pl","[","0","]","+","pl","[","1","]",";","if","(","pk","==","_0_0",")","bl","=","acos","(","sqrt","(","_1_0","-","pn","*","pn",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bl","=","acos","(","dot","(","bO",",","pj",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bl","<","pl","[","0","]",")","pm","=","_1_0",";","else","if","(","bl",">=","pl","[","0","]","+","pl","[","1","]","||","pl","[","1","]","==","_0_0",")","pm","=","_0_0",";","else","pm","=","_1_0","-","(","bl","-","pl","[","0","]",")","/","pl","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"po",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pw",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"px",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["px","=","_0_0",";","if","(","pr",".","g","==","_1_0",")","{","if","(","pw","[","0","]","<","1.0","||","pw","[","1","]","==","_0_0",")","px","=","_0_0",";","else","{","if","(","pw","[","1","]","<","100.0",")","pw","[","1","]","=","sqrt","(","1.0","/","pw","[","1","]",")",";","else","pw","[","1","]","=","10.0","/","pw","[","1","]",";","vec3","oZ","=","normalize","(","v","+","po",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","0.0",";","if","(","pv","==","_0_0",")","{","float","py","=","dot","(","f",".","xyz",",","oZ",")",";","pf","=","sqrt","(","_1_0","-","py","*","py",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pf","=","(","_1_0","-","pv",")","*","max","(","dot","(","pu",",","oZ",")",",","_0_0",")","+","pv",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","pf","<","_0_0",")","px","=","_0_0",";","else","{","float","ox","=","max","(","dot","(","pu",",","v",")",",","0.01",")",";","float","pg","=","dot","(","pu",",","po",")",";","if","(","pg","<=","0.01",")","px","=","_0_0",";","else","{","float","pz","=","max","(","dot","(","v",",","oZ",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","pf","*","ox",")","/","pz",";","float","db","=","(","2.0","*","pf","*","pg",")","/","pz",";","float","g","=","min","(","min","(","a",",","b",")",",","db",")",";","float","p","=","sqrt","(","pow","(","pw","[","0","]",",","2.0",")","+","pow","(","pz",",","2.0",")","-","_1_0",")",";","float","lq","=","pow","(","p","-","pz",",","2.0",")","/","pow","(","p","+","pz",",","2.0",")","*","(","_1_0","+","pow","(","pz","*","(","p","+","pz",")","-","_1_0",",","2.0",")","/","pow","(","pz","*","(","p","-","pz",")","+","_1_0",",","2.0",")",")",";","float","oS","=","acos","(","pf",")",";","px","=","max","(","lq","*","g","*","exp","(","-","pow","(","oS",",","2.0",")","/","(","2.0","*","pow","(","pw","[","1","]",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pG",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pL",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_B4W_TRANSLUCENCY"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","pE",",","pF",")","*","dot","(","v",",","pF",")","<","_0_0",")","{","float","zH","=","pG",".","x",";","float","zI","=","pG",".","y",";","float","zJ","=","pG",".","z",";","float","zK","=","pG",".","w",";","float","zL","=","clamp","(","abs","(","dot","(","pE",",","pF",")",")",",","_0_0",",","_1_0",")",";","float","zM","=","clamp","(","dot","(","v",",","-","pE",")",",","_0_0",",","_1_0",")",";","float","zN","=","pow","(","zM",",","zI",")",";","pL","=","pA","+","pK","*","vec4","(","pJ","*","zL","*","pow","(","pH",",","vec3","(","zH",")",")",",","_1_0",")",";","pL","+=","zJ","*","mix","(","vec4","(","pH",",","_1_0",")",",","vec4","(","_1_0",")",",","zK",")","*","pK","*","vec4","(","pJ","*","zL","*","vec3","(","zN",")",",","_1_0",")",";","pM","=","pB",";","}","else","{","pM","=","pB","+","pJ","*","pI","*","pD",";","pL","=","pA","+","vec4","(","pJ","*","pH","*","pC",",","pD",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pM","=","pB","+","pJ","*","pI","*","pD",";","pL","=","pA","+","vec4","(","pJ","*","pH","*","pC",",","pD",")",";"]}]}]}]},{TYPE:"node",NAME:"RGB",NODE_VARS:[{TYPE:"node_var",NAME:"RGB_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"zO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zO","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{TYPE:"node",NAME:"RGBTOBW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","dot","(","zP",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{TYPE:"node",NAME:"SEPRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zS",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zT",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zU",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zS"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","zR",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zT","=","zR",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zU"],STATEMENTS:[{TYPE:"txt",TOKENS:["zU","=","zR",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SEPHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zW",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zY",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zZ","=","ka","(","zV",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zW"],STATEMENTS:[{TYPE:"txt",TOKENS:["zW","=","zZ",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zX"],STATEMENTS:[{TYPE:"txt",TOKENS:["zX","=","zZ",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zY"],STATEMENTS:[{TYPE:"txt",TOKENS:["zY","=","zZ",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SQUEEZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"z_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Aa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ab",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ac",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ac","=","_1_0","/","(","_1_0","+","pow","(","2.71828183",",","-","(","z_","-","Ab",")","*","Aa",")",")",";"]}]},{TYPE:"node",NAME:"GAMMA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ad",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ae",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Af",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Af","=","Ad",";","if","(","Af",".","x",">","_0_0",")","Af",".","x","=","pow","(","Ad",".","x",",","Ae",")",";","if","(","Af",".","y",">","_0_0",")","Af",".","y","=","pow","(","Ad",".","y",",","Ae",")",";","if","(","Af",".","z",">","_0_0",")","Af",".","z","=","pow","(","Ad",".","z",",","Ae",")",";"]}]},{TYPE:"node",NAME:"B4W_SRGB_TO_LINEAR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ag",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ah",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ah","=","max","(","vec3","(","_0_0",")",",","Ag",")",";","Ah","=","pow","(","Ah",",","vec3","(","2.2",")",")",";"]}]},{TYPE:"node",NAME:"B4W_LINEAR_TO_SRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ai",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Aj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Aj","=","max","(","vec3","(","_0_0",")",",","Ai",")",";","Aj","=","pow","(","Aj",",","vec3","(","_1_0","/","2.2",")",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_EMPTY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"Ak",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Al",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Am",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ak"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ak","[","2","]","=","Ak","[","1","]","=","Ak","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Al"],STATEMENTS:[{TYPE:"txt",TOKENS:["Al","[","2","]","=","Al","[","1","]","=","Al","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Am"],STATEMENTS:[{TYPE:"txt",TOKENS:["Am","=","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"An",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ao",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ap",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_var_texture",QUALIFIER:["uniform","samplerCube"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE_CUBE","(","node_TEXTURE_ENVIRONMENT_var_texture",",","An",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ao"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ao","=","wl",".","xyz",";","bY","(","Ao",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ap"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ap","=","wl",".","w",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"NON_COLOR",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ar",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"As",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"At",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"Au",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Av",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Aw",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ax",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ay",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Az",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AA",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AB",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AC",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_COLOR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qx","(","Ar",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Av"],STATEMENTS:[{TYPE:"txt",TOKENS:["Av","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","Av",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Aw"],STATEMENTS:[{TYPE:"txt",TOKENS:["Aw","=","wl",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qx","(","As",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ax"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ax","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","Ax",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ay"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ay","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qx","(","At",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Az"],STATEMENTS:[{TYPE:"txt",TOKENS:["Az","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","Az",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AA"],STATEMENTS:[{TYPE:"txt",TOKENS:["AA","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qx","(","Au",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AB"],STATEMENTS:[{TYPE:"txt",TOKENS:["AB","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","AB",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AC"],STATEMENTS:[{TYPE:"txt",TOKENS:["AC","=","wl",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"TEXTURE_NORMAL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AD",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AE",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AF",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AG",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AH",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AI",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AJ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AK",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AM",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AN",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AO",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_NORMAL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qx","(","AD",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AH"],STATEMENTS:[{TYPE:"txt",TOKENS:["AH","=","normalize","(","qM","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AI"],STATEMENTS:[{TYPE:"txt",TOKENS:["AI","=","wl",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qx","(","AE",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["AJ","=","normalize","(","qM","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AK"],STATEMENTS:[{TYPE:"txt",TOKENS:["AK","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qx","(","AF",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AL"],STATEMENTS:[{TYPE:"txt",TOKENS:["AL","=","normalize","(","qM","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AM"],STATEMENTS:[{TYPE:"txt",TOKENS:["AM","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qx","(","AG",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AN"],STATEMENTS:[{TYPE:"txt",TOKENS:["AN","=","normalize","(","qM","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AO"],STATEMENTS:[{TYPE:"txt",TOKENS:["AO","=","wl",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"VALUE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"AP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AP","=","u_node_values","[","VALUE_IND","]",";"]}]},{TYPE:"node",NAME:"VECT_MATH_ADD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AT",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["AS","=","AQ","+","AR",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AT"],STATEMENTS:[{TYPE:"txt",TOKENS:["AT","=","(","abs","(","AS","[","0","]",")","+","abs","(","AS","[","1","]",")","+","abs","(","AS","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_SUBTRACT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AX",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["AW","=","AU","-","AV",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AX"],STATEMENTS:[{TYPE:"txt",TOKENS:["AX","=","(","abs","(","AW","[","0","]",")","+","abs","(","AW","[","1","]",")","+","abs","(","AW","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_AVERAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"A_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ba",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["A_","=","AY","+","AZ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ba"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ba","=","length","(","A_",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_A_"],STATEMENTS:[{TYPE:"txt",TOKENS:["A_","=","normalize","(","A_",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_DOT_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Be",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bd","=","vec3","(","_0_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Be"],STATEMENTS:[{TYPE:"txt",TOKENS:["Be","=","dot","(","Bb",",","Bc",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_CROSS_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bi",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bh","=","cross","(","Bf",",","Bg",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Bi"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bi","=","length","(","Bh",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_NORMALIZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bm",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bl","=","normalize","(","Bj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Bm"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bm","=","length","(","Bj",")",";"]}]}]},{TYPE:"txt",TOKENS:["Bk",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bp","=","reflect","(","U","(","G",",","Bn",")",",","Bo",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT_WORLD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Br",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Bs","=","-","v",".","xyz",";","Br","=","reflect","(","Bs",",","Bq",")",";"]}]},{TYPE:"node",NAME:"B4W_PARALLAX",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bv",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bw",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_B4W_PARALLAX_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","bo","=","length","(","qN",")",";","if","(","bo","<","Bw",")","{","vec2","bE","=","qx","(","Bt",")",";","float","bI","=","clamp","(","_0_5","*","(","Bw","-","bo",")",",","_0_0",",","_1_0",")",";","float","hN","=","Bu","*","bI",";","vec3","bK","=","normalize","(","v","*","qM",")",";","float","bL","=","_1_0","/","Bv",";","vec2","bM","=","bK",".","xy","*","hN","/","(","Bv","*","bK",".","z",")",";","float","bN","=","_1_0",";","float","bO","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bE",")",".","a",";","for","(","float","bQ","=","1.0",";","bQ","<=","Bv",";","bQ","++",")","{","if","(","bO","<","bN",")","{","bN","-=","bL",";","bE","-=","bM",";","bO","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bE",")",".","a",";","}","}","vec2","bR","=","bE","+","bM",";","float","bS","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bR",")",".","a","-","(","bN","+","bL",")",";","float","bT","=","bO","-","bN",";","float","bU","=","bT","/","(","bT","-","bS",")",";","bE","=","bU","*","bR","+","(","_1_0","-","bU",")","*","bE",";","Bx","=","qw","(","bE",")",";","}","else","Bx","=","Bt",";"]}]},{TYPE:"node",NAME:"B4W_CLAMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"By",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bz","=","clamp","(","By",",","_0_0",",","_1_0",")",";"]}]},{TYPE:"node",NAME:"B4W_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BC","=","BA",";"]}]},{TYPE:"node",NAME:"B4W_TRANSLUCENCY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BI",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BJ",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BI"],STATEMENTS:[{TYPE:"txt",TOKENS:["BI","=","BD",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["BJ","=","vec4","(","BE",",","BF",",","BG",",","BH",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_TIME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"BK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BK","=","u_time",";"]}]},{TYPE:"node",NAME:"B4W_SMOOTHSTEP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BO","=","smoothstep","(","BM",",","BN",",","BL",")",";"]}]},{TYPE:"node",NAME:"B4W_GLOW_OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","BP",";","E","=","BQ",";"]}]},{TYPE:"node",NAME:"B4W_VECTOSCAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BS",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BS","=","(","BR",".","r","+","BR",".","g","+","BR",".","b",")","/","3.0",";"]}]},{TYPE:"node",NAME:"B4W_SCALTOVEC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BU","[","0","]","=","BT",";","BU","[","1","]","=","BT",";","BU","[","2","]","=","BT",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","J","(","in","vec3","v",",","in","mat3","F",",","in","mat3","G",",","in","mat3","H",",","in","mat3","I",",","out","vec3","A",",","out","vec3","B",",","out","vec3","C",",","out","vec4","D",",","out","float","E",")","{","A","=","vec3","(","_0_0",")",";","B","=","vec3","(","_0_0",")",";","C","=","vec3","(","_0_0",")",";","D","=","vec4","(","_0_0",")",";","E","=","_0_0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_NORMAL_MAP",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","normalize","(","e",")",";","vec3","bF","=","Q",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["INVERT_FRONTFACING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","gl_FrontFacing",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["bF","=","bF",";","else","bF","=","-","bF",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nB","=","bF",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nB","=","Q",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qL","=","bF",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","S","=","cross","(","bF",",","f",".","xyz",")","*","f",".","w",";","S","=","normalize","(","S",")",";","vec3","R","=","cross","(","S",",","bF",")","*","f",".","w",";","mat3","qM","=","mat3","(","R",",","S",",","bF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","nA","=","c",";","vec4","qN","=","d",";","float","qO","=","u_emit",";","float","qP","=","u_ambient",";"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/particles_nodes.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_NODES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_NODES_GLSLV",TOKENS:[""]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["n","=","CA","+","0.5",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["n","=","CA","+","0.5",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["n","=","CA","+","0.5",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["n","=","CA","+","0.5",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[{TYPE:"node_var",NAME:"PART_INFO_SIZE",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_AGE",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_LT",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_LOC",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_VEL",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_A_VEL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_param",NAME:"Cr",QUALIFIER:["GLSL_OUT","vec4"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Cs",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Ct",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Cu",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_PARTICLE_INFO_var_a_p_indices",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_SIZE"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cr","[","3","]","=","Cz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_AGE"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cr","[","1","]","=","Cy",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_LT"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cr","[","2","]","=","CB",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_LOC"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cs","=","Cv",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_IND"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cr","[","0","]","=","node_PARTICLE_INFO_var_a_p_indices",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_VEL"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ct","=","Cw",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_A_VEL"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cu","=","Cx",";"]}]}]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","J","(","in","vec3","Cv",",","in","vec3","Cw",",","in","vec3","Cx",",","in","float","Cy",",","in","float","Cz",",","in","vec2","CA",",","in","float","CB",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","CA","+","0.5",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/precision_statement.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PRECISION_STATEMENT_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PRECISION_STATEMENT_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"txt",TOKENS:["precision","PRECISION","float",";"]}]}}]}]},exports["include/procedural.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PROCEDURAL_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PROCEDURAL_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec4","CC","(","vec4","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec3","CC","(","vec3","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec2","CC","(","vec2","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec4","CD","(","vec4","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","7.0",")",")","*","7.0",";","}","vec4","CE","(","vec4","x",")","{","return","CC","(","(","34.0","*","x","+","5.0",")","*","x",")",";","}"]},{TYPE:"define",NAME:"K",TOKENS:["0.142857142857"]},{TYPE:"define",NAME:"K2",TOKENS:["0.0714285714285"]},{TYPE:"define",NAME:"JITTER",TOKENS:["0.7"]},{TYPE:"txt",TOKENS:["vec2","fC","(","vec2","CF",")","{","vec2","CG","=","CC","(","floor","(","CF",")",")",";","vec2","CH","=","fract","(","CF",")",";","vec4","CI","=","CH",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","vec4","CJ","=","CH",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","vec4","p","=","CE","(","CG",".","x","+","vec4","(","_0_0",",","_1_0",",","_0_0",",","_1_0",")",")",";","p","=","CE","(","p","+","CG",".","y","+","vec4","(","_0_0",",","_0_0",",","_1_0",",","_1_0",")",")",";","vec4","CK","=","CD","(","p",")","*","K","+","K2",";","vec4","CL","=","CD","(","floor","(","p","*","K",")",")","*","K","+","K2",";","vec4","CM","=","CI","+","JITTER","*","CK",";","vec4","CN","=","CJ","+","JITTER","*","CL",";","vec4","dg","=","CM","*","CM","+","CN","*","CN",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dg",".","xy","=","min","(","dg",".","xy",",","dg",".","zw",")",";","dg",".","x","=","min","(","dg",".","x",",","dg",".","y",")",";","return","dg",".","xx",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dg",".","xy","=","(","dg",".","x","<","dg",".","y",")","?","dg",".","xy",":","dg",".","yx",";","dg",".","xz","=","(","dg",".","x","<","dg",".","z",")","?","dg",".","xz",":","dg",".","zx",";","dg",".","xw","=","(","dg",".","x","<","dg",".","w",")","?","dg",".","xw",":","dg",".","wx",";","dg",".","y","=","min","(","dg",".","y",",","dg",".","z",")",";","dg",".","y","=","min","(","dg",".","y",",","dg",".","w",")",";","return","sqrt","(","dg",".","xy",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","vec3","kt","(","vec2","CF",",","float","CO",")","{","vec2","CG","=","CC","(","floor","(","CF",")",")",";","vec2","CH","=","fract","(","CF",")",";","vec4","CI","=","CH",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","vec4","CJ","=","CH",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","vec4","p","=","CE","(","CG",".","x","+","vec4","(","_0_0",",","_1_0",",","_0_0",",","_1_0",")",")",";","p","=","CE","(","p","+","CG",".","y","+","vec4","(","_0_0",",","_0_0",",","_1_0",",","_1_0",")",")",";","vec4","CK","=","CD","(","p",")","*","K","+","K2",";","vec4","CL","=","CD","(","floor","(","p","*","K",")",")","*","K","+","K2",";","vec4","CM","=","CI","+","JITTER","*","CK",";","vec4","CN","=","CJ","+","JITTER","*","CL",";","vec4","CP","=","CM","*","CM","+","CN","*","CN",";","CM","+=","CO",";","CN","+=","CO",";","vec4","CQ","=","CM","*","CM","+","CN","*","CN",";","CM","+=","CO",";","CN","+=","CO",";","vec4","CR","=","CM","*","CM","+","CN","*","CN",";","CP",".","xy","=","min","(","CP",".","xy",",","CP",".","zw",")",";","CP",".","x","=","min","(","CP",".","x",",","CP",".","y",")",";","CQ",".","xy","=","min","(","CQ",".","xy",",","CQ",".","zw",")",";","CQ",".","x","=","min","(","CQ",".","x",",","CQ",".","y",")",";","CR",".","xy","=","min","(","CR",".","xy",",","CR",".","zw",")",";","CR",".","x","=","min","(","CR",".","x",",","CR",".","y",")",";","return","vec3","(","CP",".","x",",","CQ",".","x",",","CR",".","x",")",";","}","vec3","CS","(","vec3","x",")","{","return","CC","(","(","(","x","*","34.0",")","+","_1_0",")","*","x",")",";","}","float","fr","(","vec2","km",")","{","const","vec4","CT","=","vec4","(","0.211324865405187",",","0.366025403784439",",","-","0.577350269189626",",","0.024390243902439",")",";","vec2","bQ","=","floor","(","km","+","dot","(","km",",","CT",".","yy",")",")",";","vec2","CU","=","km","-","bQ","+","dot","(","bQ",",","CT",".","xx",")",";","vec2","CV",";","CV","=","(","CU",".","x",">","CU",".","y",")","?","vec2","(","_1_0",",","_0_0",")",":","vec2","(","_0_0",",","_1_0",")",";","vec4","CW","=","CU",".","xyxy","+","CT",".","xxzz",";","CW",".","xy","-=","CV",";","bQ","=","CC","(","bQ",")",";","vec3","p","=","CS","(","CS","(","bQ",".","y","+","vec3","(","_0_0",",","CV",".","y",",","_1_0",")",")","+","bQ",".","x","+","vec3","(","_0_0",",","CV",".","x",",","_1_0",")",")",";","vec3","aq","=","max","(","0.5","-","vec3","(","dot","(","CU",",","CU",")",",","dot","(","CW",".","xy",",","CW",".","xy",")",",","dot","(","CW",".","zw",",","CW",".","zw",")",")",",","_0_0",")",";","aq","=","aq","*","aq",";","aq","=","aq","*","aq",";","vec3","x","=","2.0","*","fract","(","p","*","CT",".","www",")","-","_1_0",";","vec3","bO","=","abs","(","x",")","-","0.5",";","vec3","CK","=","floor","(","x","+","0.5",")",";","vec3","CX","=","x","-","CK",";","aq","*=","1.79284291400159","-","0.85373472095314","*","(","CX","*","CX","+","bO","*","bO",")",";","vec3","g",";","g",".","x","=","CX",".","x","*","CU",".","x","+","bO",".","x","*","CU",".","y",";","g",".","yz","=","CX",".","yz","*","CW",".","xz","+","bO",".","yz","*","CW",".","yw",";","return","130.0","*","dot","(","aq",",","g",")",";","}","vec2","C_","(","vec2","fQ",")","{","float","CP","=","dot","(","fQ",",","vec2","(","12.9898",",","78.233",")",")",";","float","CQ","=","dot","(","fQ",",","vec2","(","12.9898",",","78.233",")","*","2.0",")",";","float","CY","=","fract","(","sin","(","CP",")","*","43758.5453",")","*","2.0","-","_1_0",";","float","CZ","=","fract","(","sin","(","CQ",")","*","43758.5453",")","*","2.0","-","_1_0",";","return","vec2","(","CY",",","CZ",")",";","}"]}]}}]}]},exports["include/refraction.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"REFRACTION_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"REFRACTION_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eS","(","in","float","cw",",","inout","vec2","eR",",","in","vec2","eA",")","{","vec4","Da","=","GLSL_TEXTURE","(","u_scene_depth",",","eR",")",";","float","eT","=","cv","(","Da",")",";","if","(","eT","<","i",")","{","eR","=","eA",";","return","cw",";","}","else","{","return","eT",";","}","return","cw",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cs","(","in","vec3","qe",",","in","vec2","Db",")","{","vec2","eA","=","qe",".","xy","/","qe",".","z",";","vec2","eR","=","eA","+","Db",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cu","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","qe",")",";","float","cw","=","cv","(","cu",")",";","eS","(","cw",",","eR",",","eA",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","eX","=","GLSL_TEXTURE","(","u_refractmap",",","eR",")",".","rgb",";","bY","(","eX",")",";","return","eX",";","}"]}]}}]}]}}]}]},exports["include/scale_texcoord.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SCALE_TEXCOORD_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SCALE_TEXCOORD_GLSLV",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec2","ap","(","vec2","bE",",","vec3","Dc",")","{","return","(","bE","+","0.5",")","*","Dc",".","xy","-","0.5",";","}"]}]}}]}]},exports["include/shadow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SHADOW_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SHADOW_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"CSM_FADE_LAST_CASCADE",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_BLEND_BETWEEN_CASCADES",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"procedural.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","Dd","=","0.1",";","const","float","De","=","0.1",";","const","float","Df","=","-","0.01",";","const","float","Dg","=","0.05",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_16",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Dh","=","vec4","(","0.14383161",",","0.34495938",",","-","0.38277543",",","-","0.26496911",")",";","vec4","Di","=","vec4","(","0.53742981",",","0.19984126",",","0.79197514",",","-","0.094184101",")",";","vec4","Dj","=","vec4","(","-","0.94201624",",","-","0.91588581",",","-","0.2418884",",","0.44323325",")",";","vec4","Dk","=","vec4","(","-","0.81544232",",","0.94558609",",","-","0.81409955",",","0.97484398",")",";","vec4","Dl","=","vec4","(","-","0.1410079",",","0.2938776",",","0.27676845",",","-","0.41893023",")",";","vec4","Dm","=","vec4","(","-","0.4737342",",","0.78641367",",","0.19090188",",","-","0.9293887",")",";","vec4","Dn","=","vec4","(","-","0.39906216",",","0.45771432",",","0.99706507",",","-","0.97511554",")",";","vec4","Do","=","vec4","(","-","0.87912464",",","-","0.76890725",",","0.9143759",",","0.7564837",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_8",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","Dh","=","vec2","(","-","0.37192261",",","0.47109537",")",";","vec2","Di","=","vec2","(","-","0.6807477",",","0.69048062",")",";","vec2","Dj","=","vec2","(","0.11615683",",","-","0.91318524",")",";","vec2","Dk","=","vec2","(","0.93688596",",","-","0.16948928",")",";","vec2","Dl","=","vec2","(","-","0.89699117",",","0.74092316",")",";","vec2","Dm","=","vec2","(","0.38263656",",","-","0.66119884",")",";","vec2","Dn","=","vec2","(","-","0.08193062",",","-","0.21275223",")",";","vec2","Do","=","vec2","(","0.05578877",",","0.84225623",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_4",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","Dh","=","vec2","(","-","0.51808083",",","0.0",")",";","vec2","Di","=","vec2","(","0.5741194",",","0.0",")",";","vec2","Dj","=","vec2","(","-","0.68048857",",","0.0",")",";","vec2","Dk","=","vec2","(","0.82934988",",","0.0",")",";","vec2","Dl","=","vec2","(","0.70009436",",","0.0",")",";","vec2","Dm","=","vec2","(","-","0.78790467",",","0.0",")",";","vec2","Dn","=","vec2","(","-","0.58619489",",","0.0",")",";","vec2","Do","=","vec2","(","0.41902178",",","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bool","Dq","(","vec2","iD",",","float","Dp",")","{","return","all","(","lessThanEqual","(","iD",",","vec2","(","1.0","+","Dp",")",")",")","&&","all","(","greaterThanEqual","(","iD",",","vec2","(","0.0","-","Dp",")",")",")",";","}","float","Dx","(","float","Dr",",","float","Ds",",","mat2","Dt",",","vec3","Du",",","float","Dv",",","PRECISION","GLSL_SMPLR2D_SHDW","Dw",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","iD",",","fE",";","fE",".","x","=","Dr",";","fE",".","y","=","Ds",";","fE","=","Dt","*","fE",";","iD","=","Du",".","xy","+","fE","*","Dv","/","SHADOW_TEX_RES",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","iD","=","Du",".","xy",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","Dq","(","iD",",","Df",")",")","return","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","GLSL_TEXTURE","(","Dw",",","vec3","(","iD",",","Du",".","z",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","step","(","Du",".","z",",","GLSL_TEXTURE","(","Dw",",","iD",")",".","r",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","DC","(","vec3","Du",",","PRECISION","GLSL_SMPLR2D_SHDW","Dw",",","float","Dv",")","{","float","Dy","=","0.0",";","Du",".","z","=","clamp","(","Du",".","z",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Dz","=","C_","(","Du",".","xy",")",".","x","*","M_PI",";","float","DA","=","cos","(","Dz",")",";","float","DB","=","sin","(","Dz",")",";","mat2","Dt","=","mat2","(","DA",",","DB",",","-","DB",",","DA",")",";","for","(","int","bQ","=","0",";","bQ","<","POISSON_DISK_NUM",";","bQ","++",")","{","Dy","+=","Dx","(","Dh","[","bQ","]",",","Dl","[","bQ","]",",","Dt",",","Du",",","Dv",",","Dw",")",";","Dy","+=","Dx","(","Di","[","bQ","]",",","Dm","[","bQ","]",",","Dt",",","Du",",","Dv",",","Dw",")",";","Dy","+=","Dx","(","Dj","[","bQ","]",",","Dn","[","bQ","]",",","Dt",",","Du",",","Dv",",","Dw",")",";","Dy","+=","Dx","(","Dk","[","bQ","]",",","Do","[","bQ","]",",","Dt",",","Du",",","Dv",",","Dw",")",";","}","return","clamp","(","Dy","/","(","float","(","POISSON_DISK_NUM",")","*","4.0",")",",","0.0",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","Dx","(","0.0",",","0.0",",","mat2","(","0.0",")",",","Du",",","Dv",",","Dw",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","DL","(","vec3","DD",",","PRECISION","GLSL_SMPLR2D_SHDW","DE",",","vec3","DF",",","PRECISION","GLSL_SMPLR2D_SHDW","DG",",","float","DH",",","float","DI",",","float","aF",")","{","float","DJ",",","DK",";","DD",".","z","=","clamp","(","DD",".","z",",","0.0",",","1.0",")",";","DF",".","z","=","clamp","(","DF",".","z",",","0.0",",","1.0",")",";","DJ","=","0.0",";","DK","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Dz","=","C_","(","DD",".","xy",")",".","x","*","M_PI",";","float","DA","=","cos","(","Dz",")",";","float","DB","=","sin","(","Dz",")",";","mat2","Dt","=","mat2","(","DA",",","DB",",","-","DB",",","DA",")",";","for","(","int","bQ","=","0",";","bQ","<","POISSON_DISK_NUM",";","bQ","++",")","{","DJ","+=","Dx","(","Dh","[","bQ","]",",","Dl","[","bQ","]",",","Dt",",","DD",",","DH",",","DE",")",";","DJ","+=","Dx","(","Di","[","bQ","]",",","Dm","[","bQ","]",",","Dt",",","DD",",","DH",",","DE",")",";","DJ","+=","Dx","(","Dj","[","bQ","]",",","Dn","[","bQ","]",",","Dt",",","DD",",","DH",",","DE",")",";","DJ","+=","Dx","(","Dk","[","bQ","]",",","Do","[","bQ","]",",","Dt",",","DD",",","DH",",","DE",")",";","}","for","(","int","bQ","=","0",";","bQ","<","POISSON_DISK_NUM",";","bQ","++",")","{","DK","+=","Dx","(","Dh","[","bQ","]",",","Dl","[","bQ","]",",","Dt",",","DF",",","DI",",","DG",")",";","DK","+=","Dx","(","Di","[","bQ","]",",","Dm","[","bQ","]",",","Dt",",","DF",",","DI",",","DG",")",";","DK","+=","Dx","(","Dj","[","bQ","]",",","Dn","[","bQ","]",",","Dt",",","DF",",","DI",",","DG",")",";","DK","+=","Dx","(","Dk","[","bQ","]",",","Do","[","bQ","]",",","Dt",",","DF",",","DI",",","DG",")",";","}","DJ","=","mix","(","DJ",",","DK",",","aF",")",";","DJ","/=","(","float","(","POISSON_DISK_NUM",")","*","4.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DJ","+=","Dx","(","0.0",",","0.0",",","mat2","(","0.0",")",",","DD",",","DH",",","DE",")",";","DK","+=","Dx","(","0.0",",","0.0",",","mat2","(","0.0",")",",","DF",",","DI",",","DG",")",";","DJ","=","mix","(","DJ",",","DK",",","aF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","clamp","(","DJ",",","0.0",",","1.0",")",";","}","float","DM","(","vec2","iD",")","{","float","a","=","min","(","iD",".","x",",","iD",".","y",")",";","float","b","=","min","(","1.0","-","iD",".","x",",","1.0","-","iD",".","y",")",";","return","min","(","a",",","b",")",";","}","float","DP","(","float","DN",",","float","DO",")","{","if","(","DO",">=","0.0","&&","DO","<=","De",")","DN","=","(","DN","-","1.0",")","/","De","*","DO","+","1.0",";","return","DN",";","}","float","DU","(","vec3","DQ",",","vec3","DR",",","PRECISION","GLSL_SMPLR2D_SHDW","DE",",","PRECISION","GLSL_SMPLR2D_SHDW","DG",",","float","DH",",","float","DI",",","float","DS",",","float","gt",")","{","float","DN",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_BLEND_BETWEEN_CASCADES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","DO","=","DM","(","DQ",".","xy",")",";","if","(","-","gt",">","DS","&&","DO",">=","0.0","&&","DO","<=","Dd","&&","Dq","(","DR",".","xy",",","0.0",")",")","{","float","DT","=","1.0","-","DO","/","Dd",";","DN","=","DL","(","DQ",",","DE",",","DR",",","DG",",","DH",",","DI",",","DT",")",";","}","else"]}]}}]},{TYPE:"txt",TOKENS:["DN","=","DC","(","DQ",",","DE",",","DH",")",";","return","DN",";","}","float","DW","(","vec3","DV",",","PRECISION","GLSL_SMPLR2D_SHDW","Dw",",","float","Dv",",","float","DS",",","float","gt",")","{","float","DN","=","DC","(","DV",",","Dw",",","Dv",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_FADE_LAST_CASCADE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","-","gt",">","DS",")","{","float","DO","=","DM","(","DV",".","xy",")",";","DN","=","DP","(","DN",",","DO",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["return","DN",";","}","vec4","dE","(","float","gt",")","{","float","DN","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","DX","=","u_pcf_blur_radii",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","DX","=","vec4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","DD","=","j",".","xyz","/","j",".","w",";","if","(","j",".","w","<","0.0",")","DD",".","z","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","DF","=","k",".","xyz","/","k",".","w",";","if","(","k",".","w","<","0.0",")","DF",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","DY","=","l",".","xyz","/","l",".","w",";","if","(","l",".","w","<","0.0",")","DY",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","DZ","=","m",".","xyz","/","m",".","w",";","if","(","m",".","w","<","0.0",")","DZ",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","Dq","(","DD",".","xy",",","0.0",")",")","{","DN","=","DU","(","DD",",","DF",",","u_shadow_map0",",","u_shadow_map1",",","DX","[","0","]",",","DX","[","1","]",",","u_csm_center_dists","[","0","]",",","gt",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","Dq","(","DD",".","xy",",","Dg",")",")","{","DN","=","DW","(","DD",",","u_shadow_map0",",","DX","[","0","]",",","u_csm_center_dists","[","0","]",",","gt",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","Dq","(","DF",".","xy",",","0.0",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DN","=","DU","(","DF",",","DY",",","u_shadow_map1",",","u_shadow_map2",",","DX","[","1","]",",","DX","[","2","]",",","u_csm_center_dists","[","1","]",",","gt",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DN","=","DW","(","DF",",","u_shadow_map1",",","DX","[","1","]",",","u_csm_center_dists","[","1","]",",","gt",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","Dq","(","DY",".","xy",",","0.0",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DN","=","DU","(","DY",",","DZ",",","u_shadow_map2",",","u_shadow_map3",",","DX","[","2","]",",","DX","[","3","]",",","u_csm_center_dists","[","2","]",",","gt",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DN","=","DW","(","DY",",","u_shadow_map2",",","DX","[","2","]",",","u_csm_center_dists","[","2","]",",","gt",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","Dq","(","DZ",".","xy",",","0.0",")",")","DN","=","DW","(","DZ",",","u_shadow_map3",",","DX","[","3","]",",","u_csm_center_dists","[","3","]",",","gt",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","D_","=","DC","(","DF",",","u_shadow_map1",",","DX","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","D_","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Ea","=","DC","(","DY",",","u_shadow_map2",",","DX","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Ea","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Eb","=","DC","(","DZ",",","u_shadow_map3",",","DX","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Eb","=","1.0",";"]}]}}]},{TYPE:"txt",TOKENS:["return","vec4","(","DN",",","D_",",","Ea",",","Eb",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec4","ch","(","inout","vec3","cd",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Dy","=","GLSL_TEXTURE","(","u_shadow_mask",",","h",".","xy","/","h",".","z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"l_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cd","*=","Dy",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["return","Dy",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Dy","=","dE","(","d",".","z",")",";","return","Dy",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec4","(","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/shadow.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SHADOW_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SHADOW_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["vec4","Ef","(","mat4","Ec",",","vec4","Ed",",","mat4","Ee",")","{","vec2","dG","=","(","Ec","*","Ee","[","3","]",")",".","xy",";","float","dH","=","SHADOW_TEX_RES","/","2.0",";","dG","=","floor","(","dG","*","dH","+","0.5",")","/","dH","-","dG",";","vec4","Du","=","Ec","*","Ed",";","Du",".","xy","+=","dG",";","Du",".","xyz","=","0.5","*","(","Du",".","xyz","+","Du",".","w",")",";","return","Du",";","}","void","bD","(","vec3","fj",",","vec3","Eg",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","Ee","=","aV","(","u_v_light_tsr","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","Ee","=","aV","(","mat3","(","u_v_light_ts","[","0","]",",","u_v_light_r","[","0","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","Eh","=","Ee","*","vec4","(","fj","+","u_normal_offset","*","Eg",",","1.0",")",";","j","=","Ef","(","u_p_light_matrix0",",","Eh",",","Ee",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","u_v_light_tsr","[","1","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","mat3","(","u_v_light_ts","[","1","]",",","u_v_light_r","[","1","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Eh","=","Ee","*","vec4","(","fj","+","u_normal_offset","*","Eg",",","1.0",")",";","k","=","Ef","(","u_p_light_matrix1",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","u_v_light_tsr","[","2","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","mat3","(","u_v_light_ts","[","2","]",",","u_v_light_r","[","2","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Eh","=","Ee","*","vec4","(","fj","+","u_normal_offset","*","Eg",",","1.0",")",";","l","=","Ef","(","u_p_light_matrix2",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","u_v_light_tsr","[","3","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","mat3","(","u_v_light_ts","[","3","]",",","u_v_light_r","[","3","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Eh","=","Ee","*","vec4","(","fj","+","u_normal_offset","*","Eg",",","1.0",")",";","m","=","Ef","(","u_p_light_matrix3",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["k","=","Ef","(","u_p_light_matrix1",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","Ef","(","u_p_light_matrix2",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","Ef","(","u_p_light_matrix3",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]},exports["include/skin.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SKIN_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SKIN_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"DISABLE_TANGENT_SKINNING",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"SKIN_SLERP",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Ep","(","in","vec4","hk",",","in","vec4","Ei",",","in","float","Ej",")","{","float","Ek","=","hk","[","0","]","*","Ei","[","0","]","+","hk","[","1","]","*","Ei","[","1","]","+","hk","[","2","]","*","Ei","[","2","]","+","hk","[","3","]","*","Ei","[","3","]",";","if","(","Ek","<","0.0",")","{","Ei","*=","-","1.0",";","Ek","=","-","Ek",";","}","if","(","abs","(","Ek",")",">=","1.0",")","return","hk",";","float","El","=","acos","(","Ek",")",";","float","Em","=","sqrt","(","1.0","-","Ek","*","Ek",")",";","if","(","abs","(","Em",")","<","0.001",")","return","vec4","(","hk","*","0.5","+","Ei","*","0.5",")",";","float","En","=","sin","(","(","1.0","-","Ej",")","*","El",")","/","Em",";","float","Eo","=","sin","(","Ej","*","El",")","/","Em",";","return","hk","*","En","+","Ei","*","Eo",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ED","(","in","vec3","O",",","in","vec4","Eq",",","in","vec4","Er",",","in","vec4","Es",",","in","vec4","Et",",","in","float","Eu",")","{","vec3","Ev","=","pW","(","u_arm_rel_trans",",","u_arm_rel_quat",",","O",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","hk","=","Ep","(","Eq",",","Er",",","Eu",")",";","vec4","Ew","=","mix","(","Es",",","Et",",","Eu",")",";","vec3","Ex","=","P","(","hk",",","Ev",")",";","vec3","Ey","=","Ex","*","Ew",".","w","+","Ew",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Ez","=","P","(","Eq",",","Ev",")",";","vec3","EA","=","P","(","Er",",","Ev",")",";","vec3","EB","=","Ez","*","Es",".","w","+","Es",".","xyz",";","vec3","EC","=","EA","*","Et",".","w","+","Et",".","xyz",";","vec3","Ey","=","mix","(","EB",",","EC",",","Eu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","pZ","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Ey",")",";","}","vec3","EJ","(","in","vec3","EE",",","in","vec4","Eq",",","in","vec4","Er",",","in","float","Eu",")","{","vec3","EF","=","pY","(","u_arm_rel_trans",",","u_arm_rel_quat",",","EE",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","hk","=","Ep","(","Eq",",","Er",",","Eu",")",";","vec3","EG","=","P","(","hk",",","EF",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","EH","=","P","(","Eq",",","EF",")",";","vec3","EI","=","P","(","Er",",","EF",")",";","vec3","EG","=","mix","(","EH",",","EI",",","Eu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","p_","(","u_arm_rel_trans",",","u_arm_rel_quat",",","EG",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ED","(","in","vec3","O",",","in","vec4","Eq",",","in","vec4","Es",")","{","vec3","Ev","=","pW","(","u_arm_rel_trans",",","u_arm_rel_quat",",","O",")",";","vec3","Ex","=","P","(","Eq",",","Ev",")",";","vec3","Ey","=","Ex","*","Es",".","w","+","Es",".","xyz",";","return","pZ","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Ey",")",";","}","vec3","EJ","(","in","vec3","EE",",","in","vec4","Eq",")","{","vec3","EF","=","pY","(","u_arm_rel_trans",",","u_arm_rel_quat",",","EE",")",";","vec3","EG","=","P","(","Eq",",","EF",")",";","return","p_","(","u_arm_rel_trans",",","u_arm_rel_quat",",","EG",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","ac","(","inout","vec3","O",",","inout","vec3","R",",","inout","vec3","S",",","inout","vec3","Q",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","EK","=","u_frame_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","a_influence",".","y",">","0.0",")","{","vec3","jw","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","EL","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","EM","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","EN","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec4","EO","=","a_influence",";","for","(","int","bQ","=","0",";","bQ","<","4",";","bQ","++",")","{","int","EP","=","int","(","EO","[","bQ","]",")",";","float","EQ","=","fract","(","EO","[","bQ","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EL","+=","EQ","*","EJ","(","R",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","EK",")",";","EM","+=","EQ","*","EJ","(","S",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","EK",")",";","EN","+=","EQ","*","EJ","(","Q",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","EK",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["jw","+=","EQ","*","ED","(","O",",","u_quatsb","[","EP","]",",","u_transb","[","EP","]",")",";","EN","+=","EQ","*","EJ","(","Q",",","u_quatsb","[","EP","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EL","+=","EQ","*","EJ","(","R",",","u_quatsb","[","EP","]",")",";","EM","+=","EQ","*","EJ","(","S",",","u_quatsb","[","EP","]",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["int","EP","=","int","(","EO","[","0","]",")",";","float","EQ","=","fract","(","EO","[","0","]",")",";","jw","+=","EQ","*","ED","(","O",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","u_transb","[","EP","]",",","u_transa","[","EP","]",",","EK",")",";","EP","=","int","(","EO","[","1","]",")",";","EQ","=","fract","(","EO","[","1","]",")",";","jw","+=","EQ","*","ED","(","O",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","u_transb","[","EP","]",",","u_transa","[","EP","]",",","EK",")",";","EP","=","int","(","EO","[","2","]",")",";","EQ","=","fract","(","EO","[","2","]",")",";","jw","+=","EQ","*","ED","(","O",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","u_transb","[","EP","]",",","u_transa","[","EP","]",",","EK",")",";","EP","=","int","(","EO","[","3","]",")",";","EQ","=","fract","(","EO","[","3","]",")",";","jw","+=","EQ","*","ED","(","O",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","u_transb","[","EP","]",",","u_transa","[","EP","]",",","EK",")",";"]}]}}]},{TYPE:"txt",TOKENS:["O","=","jw",";","Q","=","EN",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["R","=","EL",";","S","=","EM",";"]}]}}]},{TYPE:"txt",TOKENS:["}","if","(","!","(","a_influence",".","y",">","0.0",")",")","{","int","ER","=","int","(","a_influence","[","0","]","-","1.0",")",";","if","(","ER",">","-","1",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","ED","(","O",",","u_quatsb","[","ER","]",",","u_quatsa","[","ER","]",",","u_transb","[","ER","]",",","u_transa","[","ER","]",",","EK",")",";","R","=","EJ","(","R",",","u_quatsb","[","ER","]",",","u_quatsa","[","ER","]",",","EK",")",";","S","=","EJ","(","S",",","u_quatsb","[","ER","]",",","u_quatsa","[","ER","]",",","EK",")",";","Q","=","EJ","(","Q",",","u_quatsb","[","ER","]",",","u_quatsa","[","ER","]",",","EK",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","ED","(","O",",","u_quatsb","[","ER","]",",","u_transb","[","ER","]",")",";","Q","=","EJ","(","Q",",","u_quatsb","[","ER","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["R","=","EJ","(","R",",","u_quatsb","[","ER","]",")",";","S","=","EJ","(","S",",","u_quatsb","[","ER","]",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}","}","}"]}]}}]}]}}]}]},exports["include/std.glsl"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"STD_ENUMS_GLSL",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"STD_ENUMS_GLSL",TOKENS:[""]},{TYPE:"var",NAME:"CONSTANTS_HACK",TOKENS:["0"]},{TYPE:"define",NAME:"TEXTURE_COORDS_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"TEXTURE_COORDS_UV_ORCO",TOKENS:["1"]},{TYPE:"define",NAME:"TEXTURE_COORDS_NORMAL",TOKENS:["2"]},{TYPE:"define",NAME:"TEXTURE_BLEND_TYPE_MIX",TOKENS:["1"]},{TYPE:"define",NAME:"TEXTURE_BLEND_TYPE_MULTIPLY",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_SRC_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_SRC_DEPTH",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_SRC_MASK",TOKENS:["3"]},{TYPE:"define",NAME:"SHADOW_DST_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_DST_DEPTH",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_DST_MASK",TOKENS:["3"]},{TYPE:"define",NAME:"NO_SHADOWS",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_CASTING",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_MASK_GENERATION",TOKENS:["3"]},{TYPE:"define",NAME:"SHADOW_MAPPING_OPAQUE",TOKENS:["4"]},{TYPE:"define",NAME:"SHADOW_MAPPING_BLEND",TOKENS:["5"]},{TYPE:"define",NAME:"POISSON_X_16",TOKENS:["4"]},{TYPE:"define",NAME:"POISSON_X_8",TOKENS:["2"]},{TYPE:"define",NAME:"POISSON_X_4",TOKENS:["1"]},{TYPE:"define",NAME:"NO_SOFT_SHADOWS",TOKENS:["0"]},{TYPE:"define",NAME:"SPECULAR_PHONG",TOKENS:["1"]},{TYPE:"define",NAME:"SPECULAR_COOKTORR",TOKENS:["2"]},{TYPE:"define",NAME:"SPECULAR_WARDISO",TOKENS:["3"]},{TYPE:"define",NAME:"SPECULAR_BLINN",TOKENS:["4"]},{TYPE:"define",NAME:"SPECULAR_TOON",TOKENS:["5"]},{TYPE:"define",NAME:"DIFFUSE_LAMBERT",TOKENS:["1"]},{TYPE:"define",NAME:"DIFFUSE_OREN_NAYAR",TOKENS:["2"]},{TYPE:"define",NAME:"DIFFUSE_FRESNEL",TOKENS:["3"]},{TYPE:"define",NAME:"DIFFUSE_MINNAERT",TOKENS:["4"]},{TYPE:"define",NAME:"DIFFUSE_TOON",TOKENS:["5"]},{TYPE:"define",NAME:"MIX",TOKENS:["0"]},{TYPE:"define",NAME:"ADD",TOKENS:["1"]},{TYPE:"define",NAME:"SUBTRACT",TOKENS:["2"]},{TYPE:"define",NAME:"MULTIPLY",TOKENS:["3"]},{TYPE:"define",NAME:"SCREEN",TOKENS:["4"]},{TYPE:"define",NAME:"OVERLAY",TOKENS:["5"]},{TYPE:"define",NAME:"DIFFERENCE",TOKENS:["6"]},{TYPE:"define",NAME:"DIVIDE",TOKENS:["7"]},{TYPE:"define",NAME:"DARKEN",TOKENS:["8"]},{TYPE:"define",NAME:"LIGHTEN",TOKENS:["9"]},{TYPE:"define",NAME:"HUE",TOKENS:["10"]},{TYPE:"define",NAME:"SATURATION",TOKENS:["11"]},{TYPE:"define",NAME:"VALUE",TOKENS:["12"]},{TYPE:"define",NAME:"COLOR",TOKENS:["13"]},{TYPE:"define",NAME:"SOFT_LIGHT",TOKENS:["14"]},{TYPE:"define",NAME:"LINEAR_LIGHT",TOKENS:["15"]},{TYPE:"define",NAME:"REFL_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"REFL_MIRRORMAP",TOKENS:["1"]},{TYPE:"define",NAME:"REFL_PLANE",TOKENS:["2"]},{TYPE:"define",NAME:"REFL_CUBE",TOKENS:["3"]},{TYPE:"define",NAME:"INVERSE_QUADRATIC",TOKENS:["0"]},{TYPE:"define",NAME:"LINEAR",TOKENS:["1"]},{TYPE:"define",NAME:"QUADRATIC",TOKENS:["2"]},{TYPE:"define",NAME:"HEMI",TOKENS:["1"]},{TYPE:"define",NAME:"SPOT",TOKENS:["2"]},{TYPE:"define",NAME:"POINT",TOKENS:["3"]},{TYPE:"define",NAME:"SUN",TOKENS:["4"]},{TYPE:"define",NAME:"DOF_SIMPLE",TOKENS:["0"]},{TYPE:"define",NAME:"DOF_BOKEH",TOKENS:["1"]},{TYPE:"define",NAME:"COC_ALL",TOKENS:["0"]},{TYPE:"define",NAME:"COC_FOREGROUND",TOKENS:["1"]},{TYPE:"define",NAME:"COC_COMBINE",TOKENS:["2"]},{TYPE:"define",NAME:"VT_WORLD_TO_WORLD",TOKENS:["0"]},{TYPE:"define",NAME:"VT_WORLD_TO_OBJECT",TOKENS:["1"]},{TYPE:"define",NAME:"VT_WORLD_TO_CAMERA",TOKENS:["2"]},{TYPE:"define",NAME:"VT_OBJECT_TO_WORLD",TOKENS:["3"]},{TYPE:"define",NAME:"VT_OBJECT_TO_OBJECT",TOKENS:["4"]},{TYPE:"define",NAME:"VT_OBJECT_TO_CAMERA",TOKENS:["5"]},{TYPE:"define",NAME:"VT_CAMERA_TO_WORLD",TOKENS:["6"]},{TYPE:"define",NAME:"VT_CAMERA_TO_OBJECT",TOKENS:["7"]},{TYPE:"define",NAME:"VT_CAMERA_TO_CAMERA",TOKENS:["8"]},{TYPE:"define",NAME:"VT_POINT",TOKENS:["0"]},{TYPE:"define",NAME:"VT_VECTOR",TOKENS:["1"]},{TYPE:"define",NAME:"VT_NORMAL",TOKENS:["2"]},{TYPE:"define",NAME:"NM_TANGENT",TOKENS:["0"]},{TYPE:"define",NAME:"NM_OBJECT",TOKENS:["1"]},{TYPE:"define",NAME:"NM_WORLD",TOKENS:["2"]},{TYPE:"define",NAME:"NM_BLENDER_OBJECT",TOKENS:["3"]},{TYPE:"define",NAME:"NM_BLENDER_WORLD",TOKENS:["4"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_VIEW",TOKENS:["1"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_XY",TOKENS:["2"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_YZ",TOKENS:["3"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_ZX",TOKENS:["4"]},{TYPE:"define",NAME:"POST_EFFECT_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"POST_EFFECT_GRAYSCALE",TOKENS:["2"]},{TYPE:"define",NAME:"POST_EFFECT_BLUR",TOKENS:["3"]},{TYPE:"define",NAME:"POST_EFFECT_GLOW_BLUR",TOKENS:["4"]},{TYPE:"define",NAME:"POST_EFFECT_DOF_BLUR",TOKENS:["5"]},{TYPE:"define",NAME:"POST_EFFECT_ALPHA_BLUR",TOKENS:["6"]},{TYPE:"define",NAME:"POST_EFFECT_EXTEND",TOKENS:["7"]},{TYPE:"define",NAME:"FLIP_CUBEMAP_COORDS",TOKENS:["8"]},{TYPE:"define",NAME:"DV_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"DV_OPAQUE_WIREFRAME",TOKENS:["1"]},{TYPE:"define",NAME:"DV_TRANSPARENT_WIREFRAME",TOKENS:["2"]},{TYPE:"define",NAME:"DV_FRONT_BACK_VIEW",TOKENS:["3"]},{TYPE:"define",NAME:"DV_BOUNDINGS",TOKENS:["4"]},{TYPE:"define",NAME:"DV_CLUSTERS_VIEW",TOKENS:["5"]},{TYPE:"define",NAME:"DV_BATCHES_VIEW",TOKENS:["6"]},{TYPE:"define",NAME:"DV_RENDER_TIME",TOKENS:["7"]},{TYPE:"define",NAME:"SSAO_QUALITY_8",TOKENS:["1"]},{TYPE:"define",NAME:"SSAO_QUALITY_16",TOKENS:["2"]},{TYPE:"define",NAME:"SSAO_QUALITY_24",TOKENS:["3"]},{TYPE:"define",NAME:"SSAO_QUALITY_32",TOKENS:["4"]},{TYPE:"define",NAME:"AA_METHOD_FXAA_LIGHT",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_FXAA_QUALITY",TOKENS:["2"]},{TYPE:"define",NAME:"AA_QUALITY_LOW",TOKENS:["0"]},{TYPE:"define",NAME:"AA_QUALITY_MEDIUM",TOKENS:["1"]},{TYPE:"define",NAME:"AA_QUALITY_HIGH",TOKENS:["2"]},{TYPE:"define",NAME:"SMAA_RESOLVE",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_EDGE_DETECTION",TOKENS:["2"]},{TYPE:"define",NAME:"SMAA_BLENDING_WEIGHT_CALCULATION",TOKENS:["3"]},{TYPE:"define",NAME:"SMAA_NEIGHBORHOOD_BLENDING",TOKENS:["4"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_LOW",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_MEDIUM",TOKENS:["2"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_HIGH",TOKENS:["3"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_ULTRA",TOKENS:["4"]},{TYPE:"define",NAME:"REFL_PASS_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"REFL_PASS_PLANE",TOKENS:["1"]},{TYPE:"define",NAME:"REFL_PASS_CUBE",TOKENS:["2"]},{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"define",NAME:"M_PI_4",TOKENS:["0.785398163"]},{TYPE:"define",NAME:"INV_PI",TOKENS:["0.318309886"]},{TYPE:"define",NAME:"UP_VECTOR",TOKENS:["vec3","(","0.0",",","0.0",",","1.0",")"]},{TYPE:"define",NAME:"RIGHT_VECTOR",TOKENS:["vec3","(","1.0",",","0.0",",","0.0",")"]},{TYPE:"define",NAME:"TOWARD_VECTOR",TOKENS:["vec3","(","0.0",",","-","1.0",",","0.0",")"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CONSTANTS_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","_0_0","=","0.0",";","float","_0_5","=","0.5",";","float","_1_0","=","1.0",";","float","_255_0","=","255.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"_0_0",TOKENS:["0.0"]},{TYPE:"define",NAME:"_0_5",TOKENS:["0.5"]},{TYPE:"define",NAME:"_1_0",TOKENS:["1.0"]},{TYPE:"define",NAME:"_255_0",TOKENS:["255.0"]}]}}]}]}}]}]},exports["include/to_world.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"TO_WORLD_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"TO_WORLD_GLSLV",TOKENS:[""]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"var",NAME:"BILLBOARD_ALIGN",TOKENS:["BILLBOARD_ALIGN_VIEW"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_SPHERICAL",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_RANDOM",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"define",NAME:"MAX_BILLBOARD_ANGLE",TOKENS:["M_PI_4"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_SPHERICAL","BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bc","(","vec3","ES",",","mat3","N",")","{","vec4","ET","=","vec4","(","N","[","1","]","[","1","]",",","N","[","1","]","[","2","]",",","N","[","2","]","[","0","]",",","N","[","2","]","[","1","]",")",";","vec4","EU","=","cI","(","RIGHT_VECTOR",",","M_PI","/","2.0",")",";","ET","=","pP","(","EU",",","ET",")",";","ET","=","kn","(","ET",")",";","mat3","bd","=","cG","(",")",";","bd","[","0","]","=","ES",";","bd","=","cK","(","ET",",","bd",")",";","return","bd",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","EW","(","vec3","kP",",","vec3","ES",")","{","vec3","EV","=","kP","-","ES",";","EV",".","z","=","0.0",";","EV","=","normalize","(","EV",")",";","vec4","ET","=","pU","(","EV",",","TOWARD_VECTOR",")",";","mat3","bd","=","cG","(",")",";","bd","[","0","]","=","ES",";","bd","=","cK","(","ET",",","bd",")",";","return","bd",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","aj","(","in","vec3","EX",",","float","EY",",","float","EZ",",","float","E_",",","vec3","aU",",","mat3","T",")","{","float","Fa","=","fract","(","length","(","aU",")","/","0.17",")",";","float","Fb","=","E_","+","Fa","/","10.0",";","float","Fc","=","Fa",";","if","(","E_","!=","0.0",")","Fc","/=","E_",";","EX","*=","1.0","+","0.5","*","sin","(","EY",")",";","float","Fd","=","length","(","EX",")","*","EZ","*","sin","(","2.0","*","3.14","*","EY","*","Fb","+","Fc",")",";","vec4","Fe","=","cI","(","TOWARD_VECTOR",",","Fd",")",";","vec4","Ff","=","vec4","(","T","[","1","]","[","1","]",",","T","[","1","]","[","2","]",",","T","[","2","]","[","0","]",",","T","[","2","]","[","1","]",")",";","Ff","=","pP","(","Ff",",","Fe",")",";","T","=","cK","(","Ff",",","T",")",";","return","T",";","}"]}]}}]},{TYPE:"txt",TOKENS:["mat3","ai","(","in","vec3","kP",",","in","vec3","af",",","in","mat3","N",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_SPHERICAL","BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","ld","=","bc","(","af",",","N",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BILLBOARD_RANDOM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Fa","=","fract","(","(","af",".","x","*","1.43","-","af",".","z","*","0.123","+","af",".","y","*","6.1",")",")",";","float","Fg","=","2.0","*","M_PI","*","Fa",";","vec4","Fh","=","vec4","(","N","[","1","]","[","1","]",",","N","[","1","]","[","2","]",",","N","[","2","]","[","0","]",",","N","[","2","]","[","1","]",")",";","float","Fi","=","asin","(","2.0","*","(","Fh",".","x","*","Fh",".","y","-","Fh",".","z","*","Fh",".","w",")",")",";","float","hB","=","Fi","-","Fg",";","if","(","hB","<","0.0",")","hB","=","2.0","*","M_PI","+","hB",";","float","Fj","=","Fg",";","if","(","hB","<=","MAX_BILLBOARD_ANGLE",")","Fj","+=","hB",";","else","if","(","hB","<=","M_PI","-","MAX_BILLBOARD_ANGLE",")","Fj","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","hB","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")",";","else","if","(","hB","<=","M_PI","+","MAX_BILLBOARD_ANGLE",")","Fj","+=","hB","-","M_PI",";","else","if","(","hB","<=","2.0","*","M_PI","-","MAX_BILLBOARD_ANGLE",")","Fj","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","hB","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")","+","M_PI",";","else","Fj","+=","hB","-","2.0","*","M_PI",";","vec4","Fk","=","cI","(","UP_VECTOR",",","Fj",")",";","mat3","ld",";","ld","[","0","]","=","af",";","ld","[","1","]","[","0","]","=","1.0",";","ld","=","cK","(","Fk",",","ld",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","ld","=","EW","(","kP",",","af",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","ld",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","ah","(","in","vec3","kP",",","in","vec3","af",",","in","mat3","N",",","in","mat3","T",")","{","mat3","ld","=","ai","(","kP",",","af",",","N",")",";","T","[","0","]","=","vec3","(","0.0",",","0.0",",","0.0",")",";","ld","=","aS","(","ld",",","T",")",";","return","ld",";","}"]}]}}]},{TYPE:"txt",TOKENS:["ak","al","(","in","vec3","fj",",","in","vec3","Fl",",","in","vec3","Fm",",","in","vec3","Fn",",","in","vec3","Fo",",","in","vec3","Fp",",","in","mat3","T",")","{","fj","=","ae","(","T",",","fj",")",";","Fl","=","ae","(","T",",","Fl",")",";","Fm","=","U","(","T",",","Fm",")",";","Fn","=","U","(","T",",","Fn",")",";","Fo","=","U","(","T",",","Fo",")",";","Fp","=","U","(","T",",","Fp",")",";","return","le","(","ak","(","fj",",","Fl",",","Fm",",","Fn",",","Fo",",","Fp",",","vec3","(","0.0",")",")",")",";","}"]}]}}]}]},exports["include/wind_bending.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"WIND_BENDING_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"WIND_BENDING_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","FC","(","inout","vec3","bi",",","in","vec3","Fq",",","in","float","Fr",",","in","float","Fs",",","in","float","fq",",","in","vec3","EX",",","in","float","Ft",",","in","mat4","bx",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Fu","=","(","bx","*","vec4","(","bi",",","1.0",")",")",".","xyz",";","vec3","Fv","=","(","bx","*","vec4","(","Fq",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Fu","=","bi",";","vec3","Fv","=","Fq",";"]}]}}]},{TYPE:"txt",TOKENS:["float","dh","=","length","(","Fv",")",";","float","Fw","=","Fs","*","(","1.0","+","0.1","*","fract","(","dh",")",")",";","float","Fx","=","Fr","*","Ft","*","(","1.0","+","sin","(","2.0","*","3.14","*","fq","*","Fw","+","dh",")",")",";","float","Fy","=","(","Fu",".","z","-","Fv",".","z",")","*","abs","(","Fx",")",";","Fy","+=","1.0",";","Fy","*=","Fy",";","Fy","=","Fy","*","Fy","-","Fy",";","vec3","Fz","=","Fu",";","Fz",".","x","+=","EX",".","x","*","Fy","*","sign","(","Fx",")",";","Fz",".","y","-=","EX",".","y","*","Fy","*","sign","(","Fx",")",";","vec3","FA","=","Fz","-","Fv",";","if","(","all","(","equal","(","FA",",","vec3","(","0.0",")",")",")",")","bi","=","Fq",";","else","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FA","=","(","bx","*","vec4","(","FA",",","0.0",")",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["float","FB","=","length","(","Fu","-","Fv",")",";","bi","=","Fq","+","normalize","(","FA",")","*","FB",";","}","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","FD","(","vec4","x",")","{","return","x","*","x","*","(","3.0","-","2.0","*","x",")",";","}","vec4","FE","(","vec4","x",")","{","return","abs","(","fract","(","x","+","0.5",")","*","2.0","-","1.0",")",";","}","vec4","FF","(","vec4","x",")","{","return","FD","(","FE","(","x",")",")",";","}","void","FR","(","inout","vec3","bi",",","in","float","fq",",","in","vec3","Q",",","in","vec3","EX",",","in","vec3","Fq",",","in","float","FG",",","in","float","FH",",","in","float","FI",",","in","vec3","FJ",",","in","mat4","bx",")","{","float","FK",";","float","FL",";","float","FM",";","vec2","FN",";","vec4","FO",";","vec2","FP",";","vec3","FQ",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Fu","=","(","bx","*","vec4","(","bi",",","1.0",")",")",".","xyz",";","vec3","Fv","=","(","bx","*","vec4","(","Fq",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Fu","=","bi",";","vec3","Fv","=","Fq",";"]}]}}]},{TYPE:"txt",TOKENS:["FK","=","dot","(","Fv",",","vec3","(","1.0",")",")",";","FL","=","FK","+","FJ",".","g",";","FM","=","dot","(","Fu",",","vec3","(","FJ",".","g",")",")",";","FN","=","(","fq","+","vec2","(","FM",",","FL",")",")",";","FO","=","(","(","fract","(","(","FN",".","xxyy","*","vec4","(","1.975",",","0.793",",","0.375",",","0.193",")",")",")","*","2.0",")","-","1.0",")","*","length","(","EX",")","*","FG",";","FO","=","FF","(","FO",")",";","FP","=","FO",".","xz","+","FO",".","yw",";","FP",".","y","=","0.5","-","FP",".","y",";","FQ","=","FP",".","xxy","*","FJ",".","rrb","*","vec3","(","FH","*","Q",".","x",",","FH","*","Q",".","y",",","FI",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FQ","=","(","bx","*","vec4","(","FQ",",","0.0",")",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["bi","+=","FQ",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","an","(","inout","vec3","O",",","inout","vec3","ad",",","in","vec3","Q",",","in","mat4","bx",")","{","vec3","FS","=","u_wind","*","1.0","+","0.7","*","sin","(","u_time",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","FT","=","ad",";","vec3","FU","=","a_emitter_center",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FU","=","(","bx","*","vec4","(","FU",",","1.0",")",")",".","xyz",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","FT","=","O",";","vec3","FU","=","ad",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FR","(","FT",",","u_time",",","Q",",","FS",",","FU",",","au_detail_bending_freq",",","au_detail_bending_amp",",","au_branch_bending_amp",",","a_bending_col_detail",",","bx",")",";"]}]}}]},{TYPE:"txt",TOKENS:["FC","(","FT",",","FU",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","FS",",","a_bending_col_main",",","bx",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FC","(","FT",",","FU",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","FS",",","1.0",",","bx",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","+=","FT","-","ad",";","ad","=","FT",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","FT",";","ad","=","FU",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]}}