/**
 * Copyright (C) 2014-2016 Triumph LLC
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

b4w.module["shader_texts"] = function(exports, require) {exports["anchors.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"textline",tokens:["void","main","(",")","{","gl_FragColor","=","vec4","(","1.0",")",";","}"]}]},exports["anchors.glslv"] = {type:"group",parts:[{type:"var",name:"ANCHOR_NUM",tokens:["0"]},{type:"include",file:"math.glslv"},{type:"textline",tokens:["attribute","float","a_index",";","uniform","vec3","u_position","[","ANCHOR_NUM","]",";","uniform","mat4","u_view_proj_matrix",";","void","main","(",")","{","gl_Position","=","u_view_proj_matrix","*","vec4","(","u_position","[","int","(","a_index",")","]",",","1.0",")",";","gl_PointSize","=","4.0",";","}"]}]},exports["color_id.glslf"] = {type:"group",parts:[{type:"var",name:"WATER_LEVEL",tokens:["0.0"]},{type:"var",name:"WAVES_HEIGHT",tokens:["0.0"]},{type:"var",name:"NUM_LAMP_LIGHTS",tokens:["0"]},{type:"var",name:"NUM_VALUES",tokens:["0"]},{type:"var",name:"NUM_RGBS",tokens:["0"]},{type:"var",name:"MAPPING_TRS_MATRIX",tokens:["mat4","(","0.0",")"]},{type:"var",name:"MAPPING_SCALE",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_TRANSLATION",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_MIN_CLIP",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_MAX_CLIP",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_IS_NORMAL",tokens:["0.0"]},{type:"var",name:"RGB_IND",tokens:["0"]},{type:"var",name:"VALUE_IND",tokens:["0"]},{type:"var",name:"LAMP_INDEX",tokens:["0"]},{type:"var",name:"NUM_LIGHTS",tokens:["0"]},{type:"var",name:"LAMP_IND",tokens:["0"]},{type:"var",name:"LAMP_SPOT_SIZE",tokens:["0"]},{type:"var",name:"LAMP_SPOT_BLEND",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_DIST",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_FACT_IND",tokens:["0"]},{type:"var",name:"LAMP_FAC_CHANNELS",tokens:["rgb"]},{type:"var",name:"LAMP_SHADOW_MAP_IND",tokens:["0"]},{type:"var",name:"NUM_LFACTORS",tokens:["0"]},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"std_enums.glsl"},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"include",file:"pack.glslf"},{type:"include",file:"procedural.glslf"},{type:"condition",parts:[{type:"if",expression:["CAUSTICS"],group:{type:"group",parts:[{type:"include",file:"caustics.glslf"}]}}]},{type:"include",file:"color_util.glslf"},{type:"include",file:"math.glslv"}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_LIGHTS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{type:"textline",tokens:["uniform","vec3","u_camera_eye_frag",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_GEOMETRY_VW",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_zup_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_zup_tsr_inverse",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_zup_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_zup_tsr_inverse",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_sky_texture",";"]}]}},{type:"elif",expression:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_diffuse_color",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_sampler",";","uniform","float","u_alpha_factor",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_OUTLINE",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_color_id",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_plane_reflection",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_CUBE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_cube_reflection",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_refractmap",";"]},{type:"condition",parts:[{type:"if",expression:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{type:"textline",tokens:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_mirror_factor",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_refl_plane",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_LAMP"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_VALUE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_RGB"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_OUTLINE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_outline_intensity",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bJ",";","varying","vec4","bK",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE",{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bM",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","bO",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bP",";","varying","vec4","bQ",";","varying","vec4","bR",";","varying","vec4","bS",";","uniform","vec4","u_pcf_blur_radii",";","uniform","vec4","u_csm_center_dists",";","uniform","sampler2D","u_shadow_map0",";","uniform","sampler2D","u_shadow_map1",";","uniform","sampler2D","u_shadow_map2",";","uniform","sampler2D","u_shadow_map3",";","uniform","sampler2D","u_shadow_mask",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"include",file:"shadow.glslf"},{type:"include",file:"mirror.glslf"},{type:"include",file:"environment.glslf"},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_REFRACTION"],group:{type:"group",parts:[{type:"include",file:"refraction.glslf"}]}}]}]}}]},{type:"include",file:"nodes.glslf"}]}}]},{type:"textline",tokens:["void","main","(",")","{","mat4","q_",",","ra",",","rb",",","rc",",","rd",";","float","re",",","rf",";","vec4","rg",";","vec3","rh",",","ri",",","rj",",","rk",";"]},{type:"condition",parts:[{type:"if",expression:["ALPHA"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NODES"],group:{type:"group",parts:[{type:"textline",tokens:["rh","=","u_camera_eye_frag","-","bJ",";","rh","=","normalize","(","rh",")",";","q_","=","mat4","(","0.0",")",";","ra","=","mat4","(","0.0",")",";","rb","=","mat4","(","0.0",")",";","rc","=","mat4","(","0.0",")",";","rd","=","mat4","(","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_GEOMETRY_VW",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["q_","=","O","(","u_view_tsr_frag",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["ra","=","O","(","u_view_zup_tsr",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["rb","=","O","(","u_view_zup_tsr_inverse",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["rc","=","O","(","u_model_zup_tsr",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["rd","=","O","(","u_model_zup_tsr_inverse",")",";"]}]}}]},{type:"textline",tokens:["qZ","(","rh",",","q_",",","ra",",","rb",",","rc",",","rd",",","ri",",","rj",",","rk",",","rg",",","re",")",";","re","=","re",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["re","=","(","texture2D","(","u_sampler",",","bT",")",")",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["rf","=","u_alpha_factor","*","re",";","rf","+=","(","1.0","-","step","(","0.0",",","rf",")",")",";","re","=","mix","(","rf",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["re","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["ALPHA_CLIP"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","re","<","0.5",")","discard",";","re","=","1.0",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_OUTLINE"],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","1.0",",","1.0",",","1.0",",","u_outline_intensity",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","u_color_id",",","1.0",")",";"]}]}}]},{type:"textline",tokens:["}"]}]},exports["color_id.glslv"] = {type:"group",parts:[{type:"var",name:"AU_QUALIFIER",tokens:["uniform"]},{type:"var",name:"MAX_BONES",tokens:["0"]},{type:"var",name:"VERTEX_ANIM_MIX_NORMALS_FACTOR",tokens:["u_va_frame_factor"]},{type:"include",file:"std_enums.glsl"},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"math.glslv"},{type:"include",file:"to_world.glslv"},{type:"include",file:"scale_texcoord.glslv"},{type:"textline",tokens:["attribute","vec3","a_position",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},{type:"logical_or_expr",places:5}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_normal",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_tangent",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_influence",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MAIN_BEND_COL"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","float","a_bending_col_main",";"]},{type:"condition",parts:[{type:"if",expression:["DETAIL_BEND"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{type:"textline",tokens:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{type:"condition",parts:[{type:"if",expression:["BEND_CENTER_ONLY"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_emitter_center",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","BILLBOARD",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_position_next",";"]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE",{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_normal_next",";"]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_tangent_next",";"]}]}}]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec2","a_texcoord",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["STATIC_BATCH"],group:{type:"group",parts:[{type:"textline",tokens:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_tsr",";"]}]}}]},{type:"textline",tokens:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD","DYNAMIC_GRASS",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_camera_eye",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["SMAA_JITTER"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{type:"condition",parts:[{type:"if",expression:["FRAMES_BLENDING"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["BILLBOARD_JITTERED"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{type:"textline",tokens:["uniform","vec3","u_wind",";","uniform","float","u_time",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_va_frame_factor",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_texture_scale",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bJ",";","varying","vec4","bK",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},{type:"logical_or_expr",places:5}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bM",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","bO",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]}]}}]},{type:"include",file:"skin.glslv"},{type:"include",file:"wind_bending.glslv"},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"include",file:"nodes.glslv"}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec4","tI",";","float","tJ",",","tK",",","tL",";","vec3","tM",",","tN",",","tO",",","tP",",","tQ",",","tR",";","mat4","tS",",","tT",",","tU",";","tS","=","O","(","u_view_tsr",")",";","tM","=","a_position",";"]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA","CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},{type:"logical_or_expr",places:5},{type:"logical_and_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["tN","=","a_normal",";"]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["tO","=","vec3","(","a_tangent",")",";","tP","=","a_tangent","[","3","]","*","cross","(","tN",",","tO",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["tO","=","vec3","(","0.0",")",";","tP","=","vec3","(","0.0",")",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["tN","=","vec3","(","0.0",")",";","tO","=","vec3","(","0.0",")",";","tP","=","vec3","(","0.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["tM","=","mix","(","tM",",","a_position_next",",","u_va_frame_factor",")",";"]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE",{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["tN","=","mix","(","tN",",","a_normal_next",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["tQ","=","vec3","(","a_tangent",")",";","tR","=","a_tangent_next","[","3","]","*","cross","(","a_normal_next",",","tQ",")",";","tO","=","mix","(","tO",",","tQ",",","u_va_frame_factor",")",";","tP","=","mix","(","tP",",","tR",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["sO","(","tM",",","tO",",","tP",",","tN",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","BILLBOARD",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["tP","=","au_center_pos",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["tP","=","vec3","(","0.0",")",";"]}]}}]},{type:"textline",tokens:["tT","=","O","(","u_model_tsr",")",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD"],group:{type:"group",parts:[{type:"textline",tokens:["tO","=","(","tT","*","vec4","(","tP",",","1.0",")",")",".","xyz",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["tU","=","rH","(","u_camera_eye",",","tO",",","tS",",","tT",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["tU","=","rB","(","u_camera_eye",",","tO",",","tS",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","BILLBOARD_JITTERED",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["tU","=","tU","*","rt","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","tO",")",";"]}]}}]},{type:"textline",tokens:["c","tV","=","rO","(","tM","-","tP",",","tP",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","tU",")",";","tV",".","b","=","tO",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["c","tV","=","rO","(","tM",",","tP",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","tT",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["tC","(","tV",".","a",",","tV",".","b",",","tN",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["tN","=","a_normal",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["tN","=","vec3","(","0.0",")",";"]}]}}]},{type:"textline",tokens:["tC","(","tV",".","a",",","tV",".","b",",","tN",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2},{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["bT","=","rR","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bJ","=","tV",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},{type:"logical_or_expr",places:5}],group:{type:"group",parts:[{type:"textline",tokens:["bL","=","tV",".","e",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["tJ","=","(","dot","(","cross","(","tV",".","e",",","tV",".","c",")",",","tV",".","d",")","<","0.0",")","?","-","1.0",":","1.0",";","bM","=","vec4","(","tV",".","c",",","tJ",")",";"]}]}}]},{type:"textline",tokens:["bK","=","tS","*","vec4","(","tV",".","a",",","1.0",")",";","tI","=","u_proj_matrix","*","bK",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_JITTER"],group:{type:"group",parts:[{type:"textline",tokens:["tI",".","xy","+=","u_subpixel_jitter","*","tI",".","w",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["tJ","=","tI",".","x",";","tK","=","tI",".","y",";","tL","=","tI",".","w",";","bN",".","x","=","(","tJ","+","tL",")","/","2.0",";","bN",".","y","=","(","tK","+","tL",")","/","2.0",";","bN",".","z","=","tL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bO","=","-","bK",".","z","/","u_view_max_depth",";"]}]}}]},{type:"textline",tokens:["tH","(",")",";"]}]}}]},{type:"textline",tokens:["gl_Position","=","u_proj_matrix","*","tS","*","vec4","(","tV",".","a",",","1.0",")",";","}"]}]},exports["debug_view.glslf"] = {type:"group",parts:[{type:"define",name:"DV_NONE",tokens:["0"]},{type:"define",name:"DV_OPAQUE_WIREFRAME",tokens:["1"]},{type:"define",name:"DV_TRANSPARENT_WIREFRAME",tokens:["2"]},{type:"define",name:"DV_FRONT_BACK_VIEW",tokens:["3"]},{type:"define",name:"DV_DEBUG_SPHERES",tokens:["4"]},{type:"define",name:"DV_CLUSTERS_VIEW",tokens:["5"]},{type:"define",name:"DV_BATCHES_VIEW",tokens:["6"]},{type:"define",name:"DV_RENDER_TIME",tokens:["7"]},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"condition",parts:[{type:"if",expression:["DEBUG_SPHERE",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","int","u_debug_view_mode",";","uniform","float","u_cluster_id",";","uniform","float","u_batch_debug_id_color",";","uniform","float","u_batch_debug_main_render_time",";","uniform","float","u_debug_colors_seed",";","uniform","float","u_debug_render_time_threshold",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{type:"textline",tokens:["varying","vec3","tI",";","const","float","tJ","=","1.0",";"]},{type:"condition",parts:[{type:"if",expression:["DEBUG_SPHERE"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DEBUG_SPHERE_DYNAMIC"],group:{type:"group",parts:[{type:"textline",tokens:["const","vec3","tK","=","vec3","(","1.0",",","0.05",",","0.05",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["const","vec3","tK","=","vec3","(","0.05",",","0.05",",","1.0",")",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["const","vec3","tL","=","vec3","(","0.4",",","0.4",",","1.0",")",";","const","vec3","tM","=","vec3","(","1.0",",","0.4",",","0.4",")",";","const","vec3","tN","=","vec3","(","1.0",",","1.0",",","1.0",")",";","const","vec3","tO","=","vec3","(","0.0",",","133.0","/","255.0",",","66.0","/","255.0",")",";","const","vec3","tP","=","vec3","(","160.0","/","255.0",",","38.0","/","255.0",",","33.0","/","255.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DEBUG_SPHERE",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["float","tS","(",")","{","vec3","tQ",";","float","tR",";","tR","=","1.0",";"]},{type:"condition",parts:[{type:"if",expression:["WIREFRAME_QUALITY",0,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["tQ","=","sign","(","tI","-","vec3","(","0.02","*","tJ",")",")",";","if","(","tQ",".","x","<","0.0","||","tQ",".","y","<","0.0","||","tQ",".","z","<","0.0",")","tR","=","0.0",";"]}]}},{type:"elif",expression:["WIREFRAME_QUALITY",1,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"extension",tokens:["GL_OES_standard_derivatives",":","enable"]},{type:"textline",tokens:["tQ","=","fwidth","(","tI",")",";","tQ","=","smoothstep","(","vec3","(","0.0",")",",","tQ","*","tJ",",","tI",")",";","tR","=","min","(","min","(","tQ",".","x",",","tQ",".","y",")",",","tQ",".","z",")",";","tR","=","clamp","(","tR",",","0.0",",","1.0",")",";"]}]}}]},{type:"textline",tokens:["return","tR",";","}"]}]}}]},{type:"textline",tokens:["void","main","(",")","{","float","tT",",","tU",",","tV",",","tW",";","vec3","tX",",","tY",";","tX","=","vec3","(","0.0",")",";","tT","=","0.0",";"]},{type:"condition",parts:[{type:"if",expression:["DEBUG_SPHERE"],group:{type:"group",parts:[{type:"textline",tokens:["tY","=","sign","(","tI","-","vec3","(","0.02","*","tJ",")",")",";","if","(","tY",".","x","<","0.0","||","tY",".","y","<","0.0","||","tY",".","z","<","0.0",")","{","tX","=","tK",";","tT","=","1.0",";","}","else","discard",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["if","(","u_debug_view_mode","==","DV_OPAQUE_WIREFRAME",")","{","tU","=","tS","(",")",";","tX","=","vec3","(","mix","(","u_wireframe_edge_color",",","tN",",","tU",")",")",";","tT","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_TRANSPARENT_WIREFRAME",")","{","tU","=","tS","(",")",";","tX","=","u_wireframe_edge_color",";","tT","=","mix","(","1.0",",","0.0",",","tU",")",";","}","else","if","(","u_debug_view_mode","==","DV_FRONT_BACK_VIEW",")","{","tU","=","tS","(",")",";","if","(","gl_FrontFacing",")","tX","=","mix","(","u_wireframe_edge_color",",","tL",",","tU",")",";","else","tX","=","mix","(","u_wireframe_edge_color",",","tM",",","tU",")",";","tT","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_CLUSTERS_VIEW",")","{","tU","=","u_cluster_id","+","u_debug_colors_seed","+","2.0",";","tX","=","vec3","(","fract","(","tU","*","19.73",")",",","fract","(","tU","*","6.34",")",",","fract","(","tU","*","1.56",")",")",";","tT","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_BATCHES_VIEW",")","{","tU","=","u_batch_debug_id_color","+","u_debug_colors_seed",";","tX","=","vec3","(","fract","(","tU","*","19.73",")",",","fract","(","tU","*","6.34",")",",","fract","(","tU","*","1.56",")",")",";","tT","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_RENDER_TIME",")","{",";","if","(","u_debug_render_time_threshold",">","0.0",")","tU","=","clamp","(","u_batch_debug_main_render_time",",","0.0",",","u_debug_render_time_threshold",")","/","u_debug_render_time_threshold",";","else","tU","=","1.0",";","tV","=","clamp","(","2.0","*","tU",",","0.0",",","1.0",")",";","tW","=","clamp","(","2.0","*","tU","-","1.0",",","0.0",",","1.0",")",";","tU","=","tU",";","tX","=","mix","(","tO",",","tP",",","vec3","(","tV",",","tW",",","tU",")",")",";","tT","=","1.0",";","}"]}]}}]},{type:"textline",tokens:["bB","(","tX",")",";"]},{type:"condition",parts:[{type:"if",expression:["ALPHA"],group:{type:"group",parts:[{type:"textline",tokens:["bE","(","tX",",","tT",")",";"]}]}}]},{type:"textline",tokens:["gl_FragColor","=","vec4","(","tX",",","tT",")",";","}"]}]},exports["debug_view.glslv"] = {type:"group",parts:[{type:"var",name:"AU_QUALIFIER",tokens:["uniform"]},{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"var",name:"MAX_BONES",tokens:["0"]},{type:"include",file:"math.glslv"},{type:"include",file:"to_world.glslv"},{type:"textline",tokens:["attribute","vec3","a_position",";","attribute","vec3","a_normal",";","attribute","float","a_polyindex",";"]},{type:"condition",parts:[{type:"if",expression:["USE_INSTANCED_PARTCLS"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_part_ts",";","attribute","vec4","a_part_r",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DEBUG_SPHERE",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MAIN_BEND_COL"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","float","a_bending_col_main",";"]},{type:"condition",parts:[{type:"if",expression:["DETAIL_BEND"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{type:"textline",tokens:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{type:"condition",parts:[{type:"if",expression:["BEND_CENTER_ONLY"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_emitter_center",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{type:"logical_or_expr",places:3},"USE_INSTANCED_PARTCLS",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_position_next",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_influence",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["STATIC_BATCH"],group:{type:"group",parts:[{type:"textline",tokens:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_tsr",";"]}]}}]},{type:"textline",tokens:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{type:"condition",parts:[{type:"if",expression:["DEBUG_SPHERE",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD","BILLBOARD_JITTERED",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS","BILLBOARD",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_camera_eye",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_va_frame_factor",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{type:"condition",parts:[{type:"if",expression:["FRAMES_BLENDING"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]}]}}]},{type:"textline",tokens:["varying","vec3","tI",";"]},{type:"condition",parts:[{type:"if",expression:["DEBUG_SPHERE",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"skin.glslv"},{type:"include",file:"wind_bending.glslv"},{type:"include",file:"dynamic_grass.glslv"}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec3","uo",",","up",",","uq",",","ur",",","us",";","mat4","ut",",","uu",",","uv",";","mat3","uw",";","if","(","a_polyindex","==","0.0",")","tI","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","tI","=","vec3","(","0.0",",","1.0",",","0.0",")",";","else","if","(","a_polyindex","==","2.0",")","tI","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["DEBUG_VIEW_SPECIAL_SKYDOME"],group:{type:"group",parts:[{type:"textline",tokens:["gl_Position","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_INSTANCED_PARTCLS"],group:{type:"group",parts:[{type:"textline",tokens:["uw","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["STATIC_BATCH"],group:{type:"group",parts:[{type:"textline",tokens:["ut","=","O","(","uw",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ut","=","O","(","V","(","u_model_tsr",",","uw",")",")",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ut","=","O","(","u_model_tsr",")",";"]}]}}]},{type:"textline",tokens:["uu","=","O","(","u_view_tsr",")",";","uo","=","a_position",";","up","=","a_normal",";"]},{type:"condition",parts:[{type:"if",expression:["DEBUG_SPHERE"],group:{type:"group",parts:[{type:"textline",tokens:["c","ux","=","rO","(","uo",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","ut",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["uo","=","mix","(","uo",",","a_position_next",",","u_va_frame_factor",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["uq","=","vec3","(","0.0",")",";","ur","=","vec3","(","0.0",")",";","sO","(","uo",",","uq",",","ur",",","up",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{type:"logical_or_expr",places:3},"USE_INSTANCED_PARTCLS",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["ur","=","au_center_pos",";"]}]}},{type:"elif",expression:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["ur","=","a_part_ts",".","xyz",";","uo","=","(","ut","*","vec4","(","uo",",","1.0",")",")",".","xyz",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ur","=","vec3","(","0.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS"],group:{type:"group",parts:[{type:"textline",tokens:["c","ux","=","un","(","uo",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","ur",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","uu",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["BILLBOARD"],group:{type:"group",parts:[{type:"textline",tokens:["uq","=","(","ut","*","vec4","(","ur",",","1.0",")",")",".","xyz",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2},"USE_INSTANCED_PARTCLS",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uv","=","rH","(","u_camera_eye",",","uq",",","uu",",","ut",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uv","=","rB","(","u_camera_eye",",","uq",",","uu",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","BILLBOARD_JITTERED",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["us","=","(","ut","*","vec4","(","ur",",","1.0",")",")",".","xyz",";","uv","=","uv","*","rt","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","us",")",";"]}]}}]},{type:"textline",tokens:["c","ux","=","rO","(","uo","-","ur",",","ur",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","uv",")",";","ux",".","b","=","uq",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["c","ux","=","rO","(","uo",",","ur",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","ut",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"textline",tokens:["tC","(","ux",".","a",",","ux",".","b",",","up",")",";"]}]}}]}]}}]},{type:"textline",tokens:["gl_Position","=","u_proj_matrix","*","uu","*","vec4","(","ux",".","a",",","1.0",")",";"]}]}}]},{type:"textline",tokens:["}"]}]},exports["grass_map.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_SIZE"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","uo",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["varying","float","uo",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","uo",";"]}]}}]}]}}]},{type:"textline",tokens:["void","main","(",")","{"]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_SIZE"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","uo",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","uo",",","vec3","(","1.0",")",")",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","1.0",",","uo",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","1.0",")",";"]}]}}]}]}}]},{type:"textline",tokens:["}"]}]},exports["grass_map.glslv"] = {type:"group",parts:[{type:"include",file:"math.glslv"},{type:"include",file:"to_world.glslv"},{type:"textline",tokens:["attribute","vec3","a_position",";"]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_SIZE"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","float","a_grass_size",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_grass_color",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["STATIC_BATCH"],group:{type:"group",parts:[{type:"textline",tokens:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_tsr",";"]}]}}]},{type:"textline",tokens:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_camera_eye",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","BILLBOARD_JITTERED",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_wind",";","uniform","float","u_time",";","uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_SIZE"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","uo",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["varying","float","uo",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","uo",";"]}]}}]}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec4","up",";","vec3","uq",";","mat4","ur",",","us",",","ut",";","ur","=","O","(","u_view_tsr",")",";","us","=","O","(","u_model_tsr",")",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD"],group:{type:"group",parts:[{type:"textline",tokens:["uq","=","(","us","*","vec4","(","vec3","(","0.0",")",",","1.0",")",")",".","xyz",";","ut","=","rB","(","u_camera_eye",",","uq",",","ur",")",";"]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","BILLBOARD_JITTERED",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["ut","=","ut","*","rt","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","vec3","(","0.0",")",")",";"]}]}}]},{type:"textline",tokens:["c","uu","=","rO","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","ut",")",";","uu",".","b","=","uq",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["c","uu","=","rO","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","us",")",";"]}]}}]},{type:"textline",tokens:["up","=","u_proj_matrix","*","ur","*","vec4","(","uu",".","a",",","1.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_SIZE"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["uo","=","vec4","(","a_grass_size",",","a_grass_color",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uo","=","a_grass_size",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["uo","=","a_grass_color",";"]}]}}]}]}}]},{type:"textline",tokens:["gl_Position","=","up",";","}"]}]},exports["halo.glslf"] = {type:"group",parts:[{type:"var",name:"NUM_LINES",tokens:["0"]},{type:"var",name:"NUM_RINGS",tokens:["0"]},{type:"var",name:"NUM_STARS",tokens:["0"]},{type:"var",name:"WAVES_HEIGHT",tokens:["0.0"]},{type:"include",file:"precision_statement.glslf"},{type:"textline",tokens:["uniform","vec4","u_diffuse_color",";","uniform","vec3","u_halo_rings_color",";","uniform","vec3","u_halo_lines_color",";","uniform","float","u_halo_hardness",";","uniform","float","u_halo_size",";"]},{type:"condition",parts:[{type:"if",expression:["SKY_STARS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_sun_intensity",";"]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";","uniform","float","u_cam_water_depth",";","varying","vec4","up",";"]}]}}]}]}}]},{type:"textline",tokens:["varying","vec2","bT",";","varying","float","uq",";"]},{type:"include",file:"color_util.glslf"},{type:"include",file:"halo_color.glslf"},{type:"textline",tokens:["void","main","(",")","{","float","vb",";","vec3","vc",";","vec4","vd",";","vd","=","va","(",")",";","vc","=","vd",".","rgb",";","vb","=","vd",".","a",";","bB","(","vc",")",";","bE","(","vc",",","vb",")",";","gl_FragColor","=","vec4","(","vc",",","vb",")",";","}"]}]},exports["halo.glslv"] = {type:"group",parts:[{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"include",file:"math.glslv"},{type:"include",file:"to_world.glslv"},{type:"textline",tokens:["attribute","vec3","a_position",";","attribute","vec2","a_halo_bb_vertex",";","attribute","float","a_random_vals",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","PRECISION","float","u_halo_size",";","varying","vec2","bT",";","varying","float","uq",";"]},{type:"condition",parts:[{type:"if",expression:["STATIC_BATCH"],group:{type:"group",parts:[{type:"textline",tokens:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","up",";"]}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec4","vb",",","vc",";","vec3","vd",";","mat4","ve",",","vf",",","vg",";","ve","=","O","(","u_view_tsr",")",";","vf","=","O","(","u_model_tsr",")",";","vd","=","(","vf","*","vec4","(","a_position",",","1.0",")",")",".","xyz",";","bT","=","a_halo_bb_vertex","*","2.0",";","uq","=","a_random_vals",";"]},{type:"condition",parts:[{type:"if",expression:["SKY_STARS"],group:{type:"group",parts:[{type:"textline",tokens:["vf","=","rf","(","vd",",","ve",")",";","vg","=","ve",";","vg","[","3","]","[","0","]","=","0.0",";","vg","[","3","]","[","1","]","=","0.0",";","vg","[","3","]","[","2","]","=","0.0",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vf","=","rf","(","vd",",","ve",")",";"]}]}}]},{type:"textline",tokens:["vb","=","vec4","(","a_halo_bb_vertex","*","2.0","*","u_halo_size",",","0.0",",","1.0",")",";","vb","=","vf","*","vb",";"]},{type:"condition",parts:[{type:"if",expression:["SKY_STARS"],group:{type:"group",parts:[{type:"textline",tokens:["vc","=","u_proj_matrix","*","vg","*","vb",";","vc",".","z","=","0.99999","*","vc",".","w",";"]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["up","=","vb",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vc","=","u_proj_matrix","*","ve","*","vb",";"]}]}}]},{type:"textline",tokens:["gl_Position","=","vc",";","}"]}]},exports["line.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"textline",tokens:["uniform","vec4","u_diffuse_color",";","void","main","(",")","{","float","vb",";","vec3","vc",";","vc","=","u_diffuse_color",".","xyz",";","vb","=","u_diffuse_color",".","a",";","bB","(","vc",")",";"]},{type:"condition",parts:[{type:"if",expression:["ALPHA"],group:{type:"group",parts:[{type:"textline",tokens:["bE","(","vc",",","vb",")",";"]}]}}]},{type:"textline",tokens:["gl_FragColor","=","vec4","(","vc",",","vb",")",";","}"]}]},exports["line.glslv"] = {type:"group",parts:[{type:"var",name:"AU_QUALIFIER",tokens:["uniform"]},{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"var",name:"MAX_BONES",tokens:["0"]},{type:"include",file:"math.glslv"},{type:"include",file:"to_world.glslv"},{type:"textline",tokens:["attribute","vec3","a_position",";","attribute","vec3","a_direction",";","uniform","mat3","u_model_tsr",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","float","u_height",";","uniform","float","u_line_width",";"]},{type:"define",name:"M_PI",tokens:["3.14159265359"]},{type:"textline",tokens:["void","main","(",")","{","mat2","vb",";","float","vc",";","vec2","vd",",","ve",";","vec4","vf",";","mat4","vg",",","vh",";","vg","=","O","(","u_view_tsr",")",";","vh","=","O","(","u_model_tsr",")",";","c","vi","=","rO","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","normalize","(","a_direction",")",",","vh",")",";","vf","=","u_proj_matrix","*","vg","*","vec4","(","vi",".","a",",","1.0",")",";","vf",".","xyz","/=","vf",".","w",";","vd","=","(","u_proj_matrix","*","vg","*","vec4","(","vi",".","e",",","0.0",")",")",".","xy",";","vc","=","M_PI","/","2.0",";","vb","=","mat2","(","cos","(","vc",")",",","sin","(","vc",")",",","-","sin","(","vc",")",",","cos","(","vc",")",")",";","vd","=","vb","*","normalize","(","vd",")",";","ve","=","(","u_line_width","/","u_height",")","*","vec2","(","u_proj_matrix","[","0","]","[","0","]","/","u_proj_matrix","[","1","]","[","1","]",",","1.0",")",";","gl_Position","=","vec4","(","vf",".","xy","+","vd",".","xy","*","ve","/","2.0",",","vf",".","z",",","1.0",")",";","gl_Position","*=","vf",".","w",";","}"]}]},exports["main.glslf"] = {type:"group",parts:[{type:"var",name:"WATER_LEVEL",tokens:["0.0"]},{type:"var",name:"WAVES_HEIGHT",tokens:["0.0"]},{type:"var",name:"NUM_LAMP_LIGHTS",tokens:["0"]},{type:"var",name:"NUM_VALUES",tokens:["0"]},{type:"var",name:"NUM_RGBS",tokens:["0"]},{type:"var",name:"PARALLAX_STEPS",tokens:["0.0"]},{type:"var",name:"PARALLAX_LOD_DIST",tokens:["0.0"]},{type:"var",name:"WATER_LEVEL",tokens:["0.0"]},{type:"var",name:"WAVES_HEIGHT",tokens:["0.0"]},{type:"var",name:"NUM_LIGHTS",tokens:["0"]},{type:"var",name:"LAMP_IND",tokens:["0"]},{type:"var",name:"LAMP_SPOT_SIZE",tokens:["0"]},{type:"var",name:"LAMP_SPOT_BLEND",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_DIST",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_FACT_IND",tokens:["0"]},{type:"var",name:"LAMP_FAC_CHANNELS",tokens:["rgb"]},{type:"var",name:"LAMP_SHADOW_MAP_IND",tokens:["0"]},{type:"var",name:"NUM_LFACTORS",tokens:["0"]},{type:"include",file:"std_enums.glsl"},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"pack.glslf"},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"procedural.glslf"},{type:"condition",parts:[{type:"if",expression:["CAUSTICS"],group:{type:"group",parts:[{type:"include",file:"caustics.glslf"}]}}]}]}}]},{type:"include",file:"color_util.glslf"},{type:"include",file:"math.glslv"},{type:"textline",tokens:["uniform","float","u_time",";"]},{type:"condition",parts:[{type:"if",expression:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_sky_texture",";"]}]}},{type:"elif",expression:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{type:"textline",tokens:["uniform","float","u_environment_energy",";"]},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NUM_LIGHTS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_sun_quaternion",";"]}]}}]}]}}]},{type:"textline",tokens:["uniform","vec3","u_camera_eye_frag",";"]},{type:"condition",parts:[{type:"if",expression:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_GEOMETRY_VW",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_zup_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_zup_tsr_inverse",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_zup_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_zup_tsr_inverse",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_fog_color_density",";"]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_cube_fog",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_sun_intensity",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_sun_direction",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_plane_reflection",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_CUBE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_cube_reflection",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_shadow_mask",";"]}]}},{type:"elif",expression:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_pcf_blur_radii",";","uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","sampler2D","u_shadow_map0",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_shadow_map1",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_shadow_map2",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_shadow_map3",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_refractmap",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION","USE_REFRACTION","REFRACTIVE","USE_REFRACTION_CORRECTION",{type:"logical_and_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{type:"textline",tokens:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFLECTION_TYPE","REFL_CUBE",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_mirror_factor",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_refl_plane",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_LAMP"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_VALUE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_RGB"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{type:"textline",tokens:["varying","vec3","bJ",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},"USE_NODE_TEX_COORD_NO",{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"TEXTURE_NORM_CO","PARALLAX",{type:"logical_and_expr",places:2},"WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bK",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bM",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bP",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bQ",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bR",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bS",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{type:"equal_expr",places:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","bO",";"]}]}}]},{type:"include",file:"mirror.glslf"},{type:"include",file:"environment.glslf"},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"shadow.glslf"}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"include",file:"refraction.glslf"}]}}]},{type:"include",file:"nodes.glslf"},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"fog.glslf"}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec2","vI",";","mat4","vJ",",","vK",",","vL",",","vM",",","vN",";","vec4","vO",";","vec3","vP",",","vQ",",","vR",",","vS",",","vT",";","float","vU",",","vV",",","vW",";"]},{type:"condition",parts:[{type:"if",expression:["NODES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"TEXTURE_NORM_CO","PARALLAX",{type:"logical_and_expr",places:2},"WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["vU","=","length","(","bK",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["vV","=","bJ",".","y","-","WATER_LEVEL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},"CAUSTICS","WATER_EFFECTS",{type:"logical_and_expr",places:2},{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["vP","=","u_sun_intensity",";"]}]}}]},{type:"textline",tokens:["vQ","=","normalize","(","u_camera_eye_frag","-","bJ",")",";","vJ","=","mat4","(","0.0",")",";","vK","=","mat4","(","0.0",")",";","vL","=","mat4","(","0.0",")",";","vM","=","mat4","(","0.0",")",";","vN","=","mat4","(","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_GEOMETRY_VW",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vJ","=","O","(","u_view_tsr_frag",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["vK","=","O","(","u_view_zup_tsr",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["vL","=","O","(","u_view_zup_tsr_inverse",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["vM","=","O","(","u_model_zup_tsr",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["vN","=","O","(","u_model_zup_tsr_inverse",")",";"]}]}}]},{type:"textline",tokens:["qZ","(","vQ",",","vJ",",","vK",",","vL",",","vM",",","vN",",","vR",",","vS",",","vT",",","vO",",","vW",")",";","vR","=","vR",";","vW","=","vW",";","vT","=","vT",";","vO","=","vO",";"]},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WETTABLE"],group:{type:"group",parts:[{type:"textline",tokens:["vR","=","max","(","vR","-","sqrt","(","0.01","*","-","min","(","vV",",","0.0",")",")",",","0.5","*","vR",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CAUSTICS"],group:{type:"group",parts:[{type:"textline",tokens:["bw","(","vR",",","vV",",","u_time",",","vO",",","vT",",","u_sun_direction",",","vP",",","u_sun_quaternion",",","bJ",",","vU",")",";"]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["ALPHA"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["ALPHA_CLIP"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","vW","<","0.5",")","discard",";","vW","=","1.0",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vW","=","1.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["vH","(","vR",",","length","(","bK",")",",","vQ",",","vV",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vH","(","vR",",","length","(","bK",")",",","vQ",",","1.0",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SSAO_ONLY","SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{type:"equal_expr",places:2},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vI","=","texture2DProj","(","u_shadow_mask",",","bN",")",".","rg",";","vV","=","vI",".","g",";","vR","=","vec3","(","vV",")",";"]}]}}]},{type:"textline",tokens:["bB","(","vR",")",";"]},{type:"condition",parts:[{type:"if",expression:["ALPHA","ALPHA_CLIP",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bE","(","vR",",","vW",")",";"]}]}}]},{type:"textline",tokens:["gl_FragColor","=","vec4","(","vR",",","vW",")",";","}"]}]},exports["main.glslv"] = {type:"group",parts:[{type:"var",name:"AU_QUALIFIER",tokens:["uniform"]},{type:"var",name:"MAX_BONES",tokens:["0"]},{type:"var",name:"NUM_CAST_LAMPS",tokens:["0"]},{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"var",name:"VERTEX_ANIM_MIX_NORMALS_FACTOR",tokens:["u_va_frame_factor"]},{type:"include",file:"std_enums.glsl"},{type:"include",file:"math.glslv"},{type:"include",file:"to_world.glslv"},{type:"include",file:"scale_texcoord.glslv"},{type:"textline",tokens:["attribute","vec3","a_position",";"]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},"USE_NODE_TEX_COORD_NO",{type:"logical_or_expr",places:7}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_normal",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_INSTANCED_PARTCLS"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_part_ts",";","attribute","vec4","a_part_r",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_tangent",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_influence",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{type:"logical_or_expr",places:3},"USE_INSTANCED_PARTCLS",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MAIN_BEND_COL"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","float","a_bending_col_main",";"]},{type:"condition",parts:[{type:"if",expression:["DETAIL_BEND"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{type:"textline",tokens:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{type:"condition",parts:[{type:"if",expression:["BEND_CENTER_ONLY"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_emitter_center",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_position_next",";"]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO",{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_normal_next",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_tangent_next",";"]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec2","a_texcoord",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_color",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["STATIC_BATCH"],group:{type:"group",parts:[{type:"textline",tokens:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_PASS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_view_matrix",";","uniform","mat3","u_view_tsr",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_tsr",";"]}]}}]},{type:"textline",tokens:["uniform","mat4","u_proj_matrix",";"]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1},"BILLBOARD","DYNAMIC_GRASS",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_camera_eye",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_JITTER"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{type:"condition",parts:[{type:"if",expression:["FRAMES_BLENDING"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["BILLBOARD_JITTERED"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{type:"textline",tokens:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_va_frame_factor",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_texture_scale",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_normal_offset",";"]},{type:"condition",parts:[{type:"if",expression:["MAC_OS_SHADOW_HACK"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{type:"textline",tokens:["uniform","mat4","u_p_light_matrix0",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{type:"textline",tokens:["varying","vec3","bJ",";"]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},"USE_NODE_TEX_COORD_NO",{type:"logical_or_expr",places:7}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"TEXTURE_NORM_CO","PARALLAX",{type:"logical_and_expr",places:2},"WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bK",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bM",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","vI",";"]},{type:"condition",parts:[{type:"if",expression:["TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_COLOR","DYNAMIC_GRASS",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","vJ",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bP",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bQ",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bR",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bS",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{type:"equal_expr",places:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE","NODES",{type:"logic_negative_expr",places:1},"USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:2},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","bO",";"]}]}}]},{type:"include",file:"dynamic_grass.glslv"},{type:"include",file:"shadow.glslv"},{type:"include",file:"skin.glslv"},{type:"include",file:"wind_bending.glslv"},{type:"condition",parts:[{type:"if",expression:["NODES"],group:{type:"group",parts:[{type:"include",file:"nodes.glslv"}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec4","vW",",","vX",";","float","vY",";","vec3","vZ",",","v_",",","wa",",","wb",",","wc",",","wd",",","we",";","mat3","wf",";","mat4","wg",",","wh",",","wi",",","wj",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_PASS"],group:{type:"group",parts:[{type:"textline",tokens:["wg","=","u_view_matrix",";"]},{type:"condition",parts:[{type:"if",expression:["NODES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"TEXTURE_NORM_CO","PARALLAX",{type:"logical_and_expr",places:2},"WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["wh","=","O","(","u_view_tsr",")",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["wg","=","O","(","u_view_tsr",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_INSTANCED_PARTCLS"],group:{type:"group",parts:[{type:"textline",tokens:["wf","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["STATIC_BATCH"],group:{type:"group",parts:[{type:"textline",tokens:["wi","=","O","(","wf",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["wi","=","O","(","V","(","u_model_tsr",",","wf",")",")",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["wi","=","O","(","u_model_tsr",")",";"]}]}}]},{type:"textline",tokens:["vZ","=","a_position",";"]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},"NODES",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["v_","=","a_normal",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["v_","=","vec3","(","0.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE","NODES",{type:"logic_negative_expr",places:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{type:"equal_expr",places:2},{type:"logical_and_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["wa","=","vec3","(","a_tangent",")",";","wb","=","a_tangent","[","3","]","*","cross","(","v_",",","wa",")",";"]}]}},{type:"elif",expression:["NODES",{type:"logic_negative_expr",places:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{type:"equal_expr",places:2},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["wc","=","(","wi","*","vec4","(","vZ",",","1.0",")",")",".","xyz",";","wd","=","normalize","(","(","wi","*","vec4","(","a_normal",",","0.0",")",")",".","xyz",")",";","wc","=","wc","-","u_camera_eye",";","wb","=","cross","(","wc",",","wd",")",";","wa","=","cross","(","wd",",","wb",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["wa","=","vec3","(","0.0",")",";","wb","=","vec3","(","0.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["vZ","=","mix","(","vZ",",","a_position_next",",","u_va_frame_factor",")",";"]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE",{type:"logical_or_expr",places:5}],group:{type:"group",parts:[{type:"textline",tokens:["v_","=","mix","(","v_",",","a_normal_next",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO"],group:{type:"group",parts:[{type:"textline",tokens:["wd","=","vec3","(","a_tangent",")",";","wc","=","a_tangent_next","[","3","]","*","cross","(","a_normal_next",",","wd",")",";","wa","=","mix","(","wa",",","wd",",","u_va_frame_factor",")",";","wb","=","mix","(","wb",",","wc",",","u_va_frame_factor",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["sO","(","vZ",",","wa",",","wb",",","v_",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{type:"logical_or_expr",places:3},"USE_INSTANCED_PARTCLS",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["wc","=","au_center_pos",";"]}]}},{type:"elif",expression:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["wc","=","a_part_ts",".","xyz",";","vZ","=","(","wi","*","vec4","(","vZ",",","1.0",")",")",".","xyz",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["wc","=","vec3","(","0.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS"],group:{type:"group",parts:[{type:"textline",tokens:["c","wk","=","un","(","vZ",",","wa",",","wb",",","v_",",","wc",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","wg",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["BILLBOARD"],group:{type:"group",parts:[{type:"textline",tokens:["wd","=","(","wi","*","vec4","(","wc",",","1.0",")",")",".","xyz",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2},"USE_INSTANCED_PARTCLS",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["wj","=","rH","(","u_camera_eye",",","wd",",","wg",",","wi",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["wj","=","rB","(","u_camera_eye",",","wd",",","wg",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","BILLBOARD_JITTERED",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["we","=","(","wi","*","vec4","(","wc",",","1.0",")",")",".","xyz",";","wj","=","wj","*","rt","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","we",")",";"]}]}}]},{type:"textline",tokens:["c","wk","=","rO","(","vZ","-","wc",",","wc",",","wa",",","wb",",","v_",",","wj",")",";","wk",".","b","=","wd",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["c","wk","=","rO","(","vZ",",","wc",",","wa",",","wb",",","v_",",","wi",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vY","=","(","dot","(","cross","(","wk",".","e",",","wk",".","c",")",",","wk",".","d",")","<","0.0",")","?","-","1.0",":","1.0",";","bM","=","vec4","(","wk",".","c",",","vY",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"textline",tokens:["tC","(","wk",".","a",",","wk",".","b",",","v_",")",";"]}]}}]},{type:"textline",tokens:["bJ","=","wk",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["bL","=","wk",".","e",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["vI","=","u_camera_eye","-","wk",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["bT","=","rR","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS"],group:{type:"group",parts:[{type:"textline",tokens:["vJ","=","wk",".","f",";"]}]}},{type:"elif",expression:["VERTEX_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["vJ","=","a_color",";"]}]}}]}]}}]},{type:"textline",tokens:["vW","=","wg","*","vec4","(","wk",".","a",",","1.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["NODES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"TEXTURE_NORM_CO","PARALLAX",{type:"logical_and_expr",places:2},"WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["REFLECTION_PASS"],group:{type:"group",parts:[{type:"textline",tokens:["vX","=","wh","*","vec4","(","wk",".","a",",","1.0",")",";","bK","=","vX",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["bK","=","vW",";"]}]}}]}]}}]},{type:"textline",tokens:["vX","=","u_proj_matrix","*","vW",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_JITTER"],group:{type:"group",parts:[{type:"textline",tokens:["vX",".","xy","+=","u_subpixel_jitter","*","vX",".","w",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{type:"equal_expr",places:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["bN","=","L","(","vX",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vV","(","wk",".","a",",","wk",".","e",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE","NODES",{type:"logic_negative_expr",places:1},"USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:2},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bO","=","-","vW",".","z","/","u_view_max_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES"],group:{type:"group",parts:[{type:"textline",tokens:["tH","(",")",";"]}]}}]},{type:"textline",tokens:["gl_Position","=","vX",";","}"]}]},exports["main_stack.glslf"] = {type:"group",parts:[{type:"var",name:"WATER_LEVEL",tokens:["0.0"]},{type:"var",name:"WAVES_HEIGHT",tokens:["0.0"]},{type:"var",name:"NUM_LAMP_LIGHTS",tokens:["0"]},{type:"var",name:"NUM_VALUES",tokens:["0"]},{type:"var",name:"NUM_RGBS",tokens:["0"]},{type:"var",name:"PARALLAX_STEPS",tokens:["0.0"]},{type:"var",name:"PARALLAX_LOD_DIST",tokens:["0.0"]},{type:"var",name:"WATER_LEVEL",tokens:["0.0"]},{type:"var",name:"WAVES_HEIGHT",tokens:["0.0"]},{type:"var",name:"NUM_LIGHTS",tokens:["0"]},{type:"var",name:"LAMP_IND",tokens:["0"]},{type:"var",name:"LAMP_SPOT_SIZE",tokens:["0"]},{type:"var",name:"LAMP_SPOT_BLEND",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_DIST",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_FACT_IND",tokens:["0"]},{type:"var",name:"LAMP_FAC_CHANNELS",tokens:["rgb"]},{type:"var",name:"LAMP_SHADOW_MAP_IND",tokens:["0"]},{type:"var",name:"NUM_LFACTORS",tokens:["0"]},{type:"include",file:"std_enums.glsl"},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"pack.glslf"},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"procedural.glslf"},{type:"condition",parts:[{type:"if",expression:["CAUSTICS"],group:{type:"group",parts:[{type:"include",file:"caustics.glslf"}]}}]}]}}]},{type:"include",file:"color_util.glslf"},{type:"include",file:"math.glslv"},{type:"textline",tokens:["uniform","float","u_time",";"]},{type:"condition",parts:[{type:"if",expression:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_sky_texture",";"]}]}},{type:"elif",expression:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{type:"textline",tokens:["uniform","float","u_environment_energy",";"]},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NUM_LIGHTS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_sun_quaternion",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFRACTIVE",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_fog_color_density",";"]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_cube_fog",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_sun_intensity",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_sun_direction",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR0_CO"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_colormap0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_SPEC","ALPHA_AS_SPEC",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_specmap0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_STENCIL_ALPHA_MASK"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_colormap1",";","uniform","sampler2D","u_stencil0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_plane_reflection",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_CUBE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_cube_reflection",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_shadow_mask",";"]}]}},{type:"elif",expression:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_pcf_blur_radii",";","uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","sampler2D","u_shadow_map0",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_shadow_map1",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_shadow_map2",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_shadow_map3",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_refractmap",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE","USE_REFRACTION_CORRECTION",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{type:"textline",tokens:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";","uniform","float","u_specular_alpha",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFLECTION_TYPE","REFL_CUBE",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_reflect_factor",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_mirror_factor",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_refl_plane",";"]}]}}]},{type:"textline",tokens:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_normal_factor",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR0_CO"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_diffuse_color_factor",";","uniform","float","u_alpha_factor",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_SPEC"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_specular_color_factor",";"]}]}}]},{type:"textline",tokens:["uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","PARALLAX",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_parallax_scale",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_refr_bump",";"]}]}}]},{type:"textline",tokens:["varying","vec3","bJ",";","varying","vec3","bL",";"]},{type:"condition",parts:[{type:"if",expression:["NODES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"TEXTURE_NORM_CO","PARALLAX",{type:"logical_and_expr",places:2},"WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bK",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bM",";"]}]}}]},{type:"textline",tokens:["varying","vec3","vI",";"]},{type:"condition",parts:[{type:"if",expression:["TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_COLOR","DYNAMIC_GRASS",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","vJ",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bP",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bQ",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bR",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bS",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{type:"equal_expr",places:2},"REFRACTIVE",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","bO",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"shadow.glslf"}]}}]},{type:"include",file:"mirror.glslf"},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"include",file:"refraction.glslf"}]}}]},{type:"include",file:"environment.glslf"},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"lighting_nodes.glslf"}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"fog.glslf"}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec4","ya",",","yb",",","yc",",","yd",";","mat4","ye",";","mat3","yf",";","vec2","yg",",","yh",",","yi",",","yj",";","vec3","yk",",","yl",",","ym",",","yn",",","yo",",","yp",",","yq",",","yr",",","ys",";","float","yt",",","yu",",","yv",",","yw",",","yx",";"]},{type:"condition",parts:[{type:"if",expression:["NODES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"TEXTURE_NORM_CO","PARALLAX",{type:"logical_and_expr",places:2},"WATER_EFFECTS","CAUSTICS",{type:"logical_and_expr",places:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["yt","=","length","(","bK",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["yu","=","bJ",".","y","-","WATER_LEVEL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},"CAUSTICS","WATER_EFFECTS",{type:"logical_and_expr",places:2},{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["yk","=","u_sun_intensity",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["yg","=","bT",";"]}]}}]},{type:"textline",tokens:["yl","=","normalize","(","bL",")",";"]},{type:"condition",parts:[{type:"if",expression:["DOUBLE_SIDED_LIGHTING"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["INVERT_FRONTFACING"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","!","gl_FrontFacing",")"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["if","(","gl_FrontFacing",")"]}]}}]},{type:"textline",tokens:["yl","=","yl",";","else","yl","=","-","yl",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO"],group:{type:"group",parts:[{type:"textline",tokens:["ym","=","cross","(","yl",",","bM",".","xyz",")","*","bM",".","w",";","yf","=","mat3","(","bM",".","xyz",",","ym",",","yl",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NORMAL_TEXCOORD","REFRACTIVE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["ye","=","O","(","u_view_tsr_frag",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NORMAL_TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["yh","=","normalize","(","ye","*","vec4","(","bL",",","0.0",")",")",".","st",";","yh","=","yh","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","PARALLAX",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","yt","<","PARALLAX_LOD_DIST",")","{","yv","=","clamp","(","0.5","*","(","PARALLAX_LOD_DIST","-","yt",")",",","0.0",",","1.0",")",";","yv","=","u_parallax_scale","*","yv",";","ym","=","normalize","(","vI","*","yf",")",";","yw","=","1.0","/","PARALLAX_STEPS",";","yi","=","ym",".","xy","*","yv","/","(","PARALLAX_STEPS","*","ym",".","z",")",";","yv","=","1.0",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["yj","=","yh",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["yj","=","yg",";"]}]}}]},{type:"textline",tokens:["yx","=","texture2D","(","u_normalmap0",",","yj",")",".","a",";","for","(","float","yy","=","1.0",";","yy","<=","PARALLAX_STEPS",";","yy","++",")","{","if","(","yx","<","yv",")","{","yv","-=","yw",";","yj","-=","yi",";","yx","=","texture2D","(","u_normalmap0",",","yj",")",".","a",";","}","}","yi","=","yj","+","yi",";","yw","=","texture2D","(","u_normalmap0",",","yi",")",".","a","-","(","yv","+","yw",")",";","yv","=","yx","-","yv",";","yw","=","yv","/","(","yv","-","yw",")",";","yj","=","yw","*","yi","+","(","1.0","-","yw",")","*","yj",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["yg","+=","yj","-","yh",";"]}]}}]},{type:"textline",tokens:["yh","=","yj",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NORMAL_TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["yh","+=","yj","-","yg",";"]}]}}]},{type:"textline",tokens:["yg","=","yj",";"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO"],group:{type:"group",parts:[{type:"textline",tokens:[";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["ya","=","texture2D","(","u_normalmap0",",","yh",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ya","=","texture2D","(","u_normalmap0",",","yg",")",";"]}]}}]},{type:"textline",tokens:["ym","=","ya",".","rgb","-","0.5",";","ym","=","mix","(","vec3","(","0.0",",","0.0",",","1.0",")",",","ym",",","u_normal_factor",")",";","ym","=","yf","*","ym",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ym","=","yl",";"]}]}}]},{type:"textline",tokens:["ym","=","normalize","(","ym",")",";"]},{type:"condition",parts:[{type:"if",expression:["NORMAL_TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["yh","=","normalize","(","ye","*","vec4","(","ym",",","0.0",")",")",".","st",";","yh","=","yh","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{type:"textline",tokens:["yl","=","normalize","(","vI",")",";"]},{type:"condition",parts:[{type:"if",expression:["VERTEX_COLOR","DYNAMIC_GRASS",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["yn","=","vJ",";","by","(","yn",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_COLOR","DYNAMIC_GRASS",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["ya","=","vec4","(","yn",",","1.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ya","=","u_diffuse_color",";"]}]}}]},{type:"textline",tokens:["yw","=","1.0",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NORMAL",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["yb","=","texture2D","(","u_colormap0",",","yh",")",";"]}]}},{type:"elif",expression:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_UV_ORCO",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["yb","=","texture2D","(","u_colormap0",",","yg",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR0_CO"],group:{type:"group",parts:[{type:"textline",tokens:["by","(","yb",".","rgb",")",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_STENCIL_ALPHA_MASK"],group:{type:"group",parts:[{type:"textline",tokens:[";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR1_CO","TEXTURE_COORDS_NORMAL",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["yc","=","texture2D","(","u_colormap1",",","yh",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["yc","=","texture2D","(","u_colormap1",",","yg",")",";"]}]}}]},{type:"textline",tokens:["by","(","yc",".","rgb",")",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_STENCIL_ALPHA_MASK_CO","TEXTURE_COORDS_NORMAL",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["yd","=","texture2D","(","u_stencil0",",","yh",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["yd","=","texture2D","(","u_stencil0",",","yg",")",";"]}]}}]},{type:"textline",tokens:["yb","=","mix","(","yb",",","yc",",","yd",".","r",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["ya",".","rgb","=","mix","(","ya",".","rgb",",","yb",".","rgb",",","u_diffuse_color_factor",")",";","yv","=","u_alpha_factor","*","yb",".","a",";","yv","+=","(","1.0","-","step","(","0.0",",","yv",")",")",";","ya",".","a","=","mix","(","yv",",","1.0",",","u_diffuse_color",".","a",")",";","yw","=","yb",".","a",";"]}]}},{type:"elif",expression:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["ya",".","rgb","*=","mix","(","vec3","(","1.0",")",",","yb",".","rgb",",","u_diffuse_color_factor",")",";","ya",".","a","=","yb",".","a",";","yw","=","yb",".","a",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADELESS"],group:{type:"group",parts:[{type:"textline",tokens:["yn","=","ya",".","rgb",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["yo","=","u_diffuse_intensity","*","ya",".","rgb",";","yp","=","u_environment_energy","*","dZ","(","ym",")",";","yp","=","u_ambient","*","yp",";","yb","=","dB","(","yo",")",";","yq","=","u_emit","*","ya",".","rgb",";","yr","=","u_specular_color",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_SPEC"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["ALPHA_AS_SPEC"],group:{type:"group",parts:[{type:"textline",tokens:["ys","=","vec3","(","yw",")",";"]}]}},{type:"elif",expression:["TEXTURE_SPEC_CO","TEXTURE_COORDS_NORMAL",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["ys","=","texture2D","(","u_specmap0",",","yh",")",".","rgb",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ys","=","texture2D","(","u_specmap0",",","yg",")",".","rgb",";"]}]}}]},{type:"textline",tokens:["by","(","ys",".","rgb",")",";","yr","=","mix","(","yr",",","ys",",","u_specular_color_factor",")",";"]}]}}]},{type:"textline",tokens:["yw","=","u_specular_params","[","0","]",";","yg","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","yr","=","yw","*","yr",";","x_","(","yq",",","yp",",","yo",",","yr",",","bJ",",","ym",",","yl",",","yg",",","u_diffuse_params",",","yb",",","0.0",",","vec4","(","0.0",")",",","yn",",","ys",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFLECTION_TYPE","REFL_CUBE",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NORMAL_TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["dW","(","yn",",","yl",",","ym",",","u_reflect_factor",",","ye",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["dW","(","yn",",","yl",",","ym",",","u_reflect_factor",",","mat4","(","0.0",")",")",";"]}]}}]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NORMAL_TEXCOORD"],group:{type:"group",parts:[{type:"textline",tokens:["dW","(","yn",",","yl",",","ym",",","0.0",",","ye",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["dW","(","yn",",","yl",",","ym",",","0.0",",","mat4","(","0.0",")",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["yn","+=","ys",";"]}]}}]},{type:"textline",tokens:["yw","=","ya",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WETTABLE"],group:{type:"group",parts:[{type:"textline",tokens:["yn","=","max","(","yn","-","sqrt","(","0.01","*","-","min","(","yu",",","0.0",")",")",",","0.5","*","yn",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CAUSTICS"],group:{type:"group",parts:[{type:"textline",tokens:["bw","(","yn",",","yu",",","u_time",",","yb",",","ym",",","u_sun_direction",",","yk",",","u_sun_quaternion",",","bJ",",","yt",")",";"]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["ALPHA"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["ALPHA_CLIP"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","yw","<","0.5",")","discard",";","yw","=","1.0",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["yv","=","max","(","max","(","ys",".","r",",","ys",".","g",")",",","ys",".","b",")","*","u_specular_alpha",";","yw","=","ya",".","a","*","(","1.0","-","yv",")","+","yv",";"]}]}}]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["yw","=","1.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["yg","=","-","(","ye","*","vec4","(","ym",",","0.0",")",")",".","xy",";","yn","=","mix","(","em","(","bN",",","yg","*","u_refr_bump",")",",","yn",",","yw",")",";","yw","=","1.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["vH","(","yn",",","yt",",","yl",",","yu",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vH","(","yn",",","yt",",","yl",",","1.0",")",";"]}]}}]}]}}]},{type:"textline",tokens:["bB","(","yn",")",";"]},{type:"condition",parts:[{type:"if",expression:["ALPHA","ALPHA_CLIP",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bE","(","yn",",","yw",")",";"]}]}}]},{type:"textline",tokens:["gl_FragColor","=","vec4","(","yn",",","yw",")",";","}"]}]},exports["particle_system.glslf"] = {type:"group",parts:[{type:"var",name:"NUM_LIGHTS",tokens:["0"]},{type:"var",name:"LAMP_IND",tokens:["0"]},{type:"var",name:"LAMP_SPOT_SIZE",tokens:["0"]},{type:"var",name:"LAMP_SPOT_BLEND",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_DIST",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_FACT_IND",tokens:["0"]},{type:"var",name:"LAMP_FAC_CHANNELS",tokens:["rgb"]},{type:"var",name:"LAMP_SHADOW_MAP_IND",tokens:["0"]},{type:"var",name:"NUM_LFACTORS",tokens:["0"]},{type:"var",name:"NUM_VALUES",tokens:["0"]},{type:"var",name:"NUM_RGBS",tokens:["0"]},{type:"var",name:"NUM_LAMP_LIGHTS",tokens:["0"]},{type:"include",file:"std_enums.glsl"},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES","NODES",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"include",file:"pack.glslf"}]}}]},{type:"var",name:"PARTICLES_SHADELESS",tokens:["0"]},{type:"var",name:"SOFT_STRENGTH",tokens:["1.0"]},{type:"textline",tokens:["uniform","float","u_environment_energy",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_LIGHTS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_fog_color_density",";"]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_cube_fog",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_sky_texture",";"]}]}},{type:"elif",expression:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{type:"textline",tokens:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","float","u_time",";","uniform","vec3","u_camera_eye_frag",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_LAMP"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_VALUE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_RGB"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_GEOMETRY_VW",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_zup_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_zup_tsr_inverse",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_zup_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_zup_tsr_inverse",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bM",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{type:"logical_or_expr",places:7}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]},{type:"textline",tokens:["varying","vec3","bJ",";"]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"NODES",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bK",";"]}]}}]},{type:"textline",tokens:["varying","vec3","bL",";"]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"fog.glslf"}]}}]},{type:"include",file:"environment.glslf"},{type:"include",file:"math.glslv"},{type:"include",file:"particles_nodes.glslf"},{type:"textline",tokens:["void","main","(",")","{","mat4","KC",",","KD",",","KE",",","KF",",","KG",";","float","KH",",","KI",",","KJ",";","vec4","KK",";","vec3","KL",",","KM",",","KN",",","KO",";","KL","=","normalize","(","u_camera_eye_frag","-","bJ",")",";","KC","=","mat4","(","0.0",")",";","KD","=","mat4","(","0.0",")",";","KE","=","mat4","(","0.0",")",";","KF","=","mat4","(","0.0",")",";","KG","=","mat4","(","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_GEOMETRY_VW",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["KC","=","O","(","u_view_tsr_frag",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["KD","=","O","(","u_view_zup_tsr",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["KE","=","O","(","u_view_zup_tsr_inverse",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["KF","=","O","(","u_model_zup_tsr",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["KG","=","O","(","u_model_zup_tsr_inverse",")",";"]}]}}]},{type:"textline",tokens:["KB","(","KL",",","KC",",","KD",",","KE",",","KF",",","KG",",","KM",",","KN",",","KO",",","KK",",","KH",")",";","KM","=","KM",";","KH","=","KH",";"]},{type:"condition",parts:[{type:"if",expression:["ALPHA"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["ALPHA_CLIP"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","KH","<","0.5",")","discard",";","KH","=","1.0",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["KH","=","1.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["vH","(","KM",",","length","(","bK",")",",","KL",",","1.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["KI","=","-","bK",".","z","/","u_view_max_depth",";","KK","=","texture2DProj","(","u_scene_depth",",","bN",")",";","KJ","=","af","(","KK",")",";","KI","=","KJ","-","KI",";","KI","=","u_view_max_depth","/","SOFT_STRENGTH","*","KI",";","KH","=","KH","*","min","(","KI",",","1.0",")",";"]}]}}]},{type:"textline",tokens:["bB","(","KM",")",";"]},{type:"condition",parts:[{type:"if",expression:["ALPHA","ALPHA_CLIP",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bE","(","KM",",","KH",")",";"]}]}}]},{type:"textline",tokens:["gl_FragColor","=","vec4","(","KM",",","KH",")",";","}"]}]},exports["particle_system.glslv"] = {type:"group",parts:[{type:"var",name:"BILLBOARD_ALIGN",tokens:["0"]},{type:"var",name:"COLOR_RAMP_LENGTH",tokens:["0"]},{type:"var",name:"SIZE_RAMP_LENGTH",tokens:["0"]},{type:"define",name:"BILLBOARD_ALIGN_VIEW",tokens:["1"]},{type:"define",name:"BILLBOARD_ALIGN_XY",tokens:["2"]},{type:"define",name:"BILLBOARD_ALIGN_YZ",tokens:["3"]},{type:"define",name:"BILLBOARD_ALIGN_ZX",tokens:["4"]},{type:"define",name:"M_PI",tokens:["3.14159265359"]},{type:"textline",tokens:["attribute","vec3","a_position",";","attribute","vec3","a_normal",";","attribute","vec3","a_p_data",";","attribute","vec4","a_p_vels",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_tangent",";"]}]}}]},{type:"textline",tokens:["attribute","vec2","a_p_bb_vertex",";"]},{type:"condition",parts:[{type:"if",expression:["COLOR_RAMP_LENGTH",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_p_color_ramp","[","COLOR_RAMP_LENGTH","]",";"]}]}}]},{type:"textline",tokens:["uniform","float","u_p_time",";","uniform","float","u_p_length",";","uniform","int","u_p_cyclic",";","uniform","float","u_p_fade_in",";","uniform","float","u_p_fade_out",";","uniform","float","u_p_nfactor",";","uniform","float","u_p_gravity",";","uniform","float","u_p_mass",";","uniform","float","u_p_wind_fac",";","uniform","float","u_p_max_lifetime",";","uniform","float","u_p_tilt",";","uniform","float","u_p_tilt_rand",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_PASS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_view_matrix",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_tsr",";"]}]}}]},{type:"textline",tokens:["uniform","mat4","u_proj_matrix",";","uniform","vec3","u_wind",";","uniform","float","u_p_size",";","uniform","vec3","u_camera_eye",";"]},{type:"condition",parts:[{type:"if",expression:["WORLD_SPACE",{type:"logic_negative_expr",places:1},"NODES","HALO_PARTICLES",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_COLOR_RAMP"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_color_ramp_tex",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["HALO_PARTICLES",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","KC",";"]}]}}]},{type:"textline",tokens:["varying","vec3","vJ",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bM",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{type:"logical_or_expr",places:8}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]},{type:"textline",tokens:["varying","vec3","bJ",";"]},{type:"condition",parts:[{type:"if",expression:["PARTICLES_SHADELESS",{type:"logic_negative_expr",places:1},"DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","vI",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"NODES",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bK",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["HALO_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","uq",";"]}]}}]},{type:"include",file:"math.glslv"},{type:"include",file:"to_world.glslv"},{type:"include",file:"particles.glslv"},{type:"condition",parts:[{type:"if",expression:["NODES"],group:{type:"group",parts:[{type:"include",file:"std_enums.glsl"},{type:"include",file:"particles_nodes.glslv"}]}}]},{type:"textline",tokens:["float","Lp","(","vec2","Ln",",","vec2","Lo",")","{","return","(","atan","(","Lo",".","y",",","Lo",".","x",")","-","atan","(","Ln",".","y",",","Ln",".","x",")",")",";","}","void","main","(",")","{","vec3","Lq",",","Lr",";","vec4","Ls",",","Lt",",","Lu",";","float","Lv",",","Lw",",","Lx",";","mat4","Ly",",","Lz",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_PASS"],group:{type:"group",parts:[{type:"textline",tokens:["Ly","=","u_view_matrix",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Ly","=","O","(","u_view_tsr",")",";"]}]}}]},{type:"textline",tokens:["KD","LA",";","LA","=","Le","(",")",";","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_VIEW",")","{","Lv","=","LA",".","e",";","Lz","=","rf","(","LA",".","b",",","Ly",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_XY",")","{","Lv","=","LA",".","e",";","Lz","=","w","(",")",";","Lz","[","3","]","=","vec4","(","LA",".","b",",","1.0",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_YZ",")","{","Lv","=","LA",".","e",";","Lz","=","A","(","radians","(","90.0",")",")",";","Lz","[","3","]","=","vec4","(","LA",".","b",",","1.0",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_ZX",")","{","Lv","=","Lp","(","vec2","(","EPSILON",",","1.0",")",",","vec2","(","a_normal",".","x",",","a_normal",".","z",")",")","+","LA",".","e",";","Lz","=","y","(","radians","(","-","90.0",")",")",";","Lz","[","3","]","=","vec4","(","LA",".","b",",","1.0",")",";","}","Ls","=","vec4","(","a_p_bb_vertex","*","2.0","*","LA",".","a","*","u_p_size",",","0.0",",","1.0",")",";","Lw","=","a_p_data","[","2","]",";","Lx","=","u_p_tilt","*","u_p_tilt_rand","*","(","2.0","*","Lw","-","1.0",")",";","Lx","=","(","Lx","+","u_p_tilt",")","*","M_PI",";","Ls","=","Lz","*","C","(","Lx","+","Lv",")","*","Ls",";","Lt","=","Ly","*","Ls",";","Lu","=","u_proj_matrix","*","Lt",";"]},{type:"condition",parts:[{type:"if",expression:["HALO_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["uq","=","Lw",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE","NODES",{type:"logic_negative_expr",places:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{type:"equal_expr",places:2},{type:"logical_and_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lq","=","vec3","(","a_tangent",")",";","Lr","=","a_tangent","[","3","]","*","cross","(","a_normal",",","Lq",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Lq","=","vec3","(","0.0",")",";","Lr","=","vec3","(","0.0",")",";"]}]}}]},{type:"textline",tokens:["c","LB","=","rO","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Lq",",","Lr",",","vec3","(","0.0",")",",","Lz","*","C","(","Lv",")",")",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lv","=","(","dot","(","cross","(","a_normal",",","LB",".","c",")",",","LB",".","d",")","<","0.0",")","?","-","1.0",":","1.0",";","bM","=","vec4","(","LB",".","c",",","Lv",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["bL","=","a_normal",";"]}]}}]},{type:"textline",tokens:["Lm","(","LA",".","b",",","LA",".","f",",","LA",".","g",",","LA",".","h",",","LA",".","a",",","a_p_bb_vertex",",","a_p_data","[","0","]",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["bT","=","a_p_bb_vertex","+","0.5",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["HALO_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["bT","=","a_p_bb_vertex","*","2.0",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["KC","=","LA",".","c",";"]}]}}]},{type:"textline",tokens:["vJ","=","LA",".","d",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["Lv","=","Lu",".","x",";","Lw","=","Lu",".","y",";","Lx","=","Lu",".","w",";","bN",".","x","=","(","Lv","+","Lx",")","/","2.0",";","bN",".","y","=","(","Lw","+","Lx",")","/","2.0",";","bN",".","z","=","Lx",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"NODES",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["bK","=","Lt",";"]}]}}]},{type:"textline",tokens:["gl_Position","=","Lu",";","bJ","=","Ls",".","xyz",";"]},{type:"condition",parts:[{type:"if",expression:["PARTICLES_SHADELESS",{type:"logic_negative_expr",places:1},"DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vI","=","u_camera_eye","-","Ls",".","xyz",";"]}]}}]},{type:"textline",tokens:["}"]}]},exports["particle_system_stack.glslf"] = {type:"group",parts:[{type:"var",name:"NUM_LIGHTS",tokens:["0"]},{type:"var",name:"LAMP_IND",tokens:["0"]},{type:"var",name:"LAMP_SPOT_SIZE",tokens:["0"]},{type:"var",name:"LAMP_SPOT_BLEND",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_DIST",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_FACT_IND",tokens:["0"]},{type:"var",name:"LAMP_FAC_CHANNELS",tokens:["rgb"]},{type:"var",name:"LAMP_SHADOW_MAP_IND",tokens:["0"]},{type:"var",name:"NUM_LFACTORS",tokens:["0"]},{type:"var",name:"NUM_VALUES",tokens:["0"]},{type:"var",name:"NUM_RGBS",tokens:["0"]},{type:"var",name:"NUM_LAMP_LIGHTS",tokens:["0"]},{type:"include",file:"std_enums.glsl"},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES","NODES",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"include",file:"pack.glslf"}]}}]},{type:"var",name:"PARTICLES_SHADELESS",tokens:["0"]},{type:"var",name:"SOFT_STRENGTH",tokens:["1.0"]},{type:"condition",parts:[{type:"if",expression:["HALO_PARTICLES",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_sampler",";"]}]}}]},{type:"textline",tokens:["uniform","float","u_environment_energy",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_LIGHTS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_diffuse_color_factor",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_sky_texture",";"]}]}},{type:"elif",expression:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{type:"textline",tokens:["uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_halo_size",";","uniform","vec3","u_halo_rings_color",";","uniform","float","u_halo_hardness",";","uniform","vec3","u_halo_lines_color",";"]},{type:"condition",parts:[{type:"if",expression:["SKY_STARS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_sun_intensity",";","uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";"]}]}}]},{type:"textline",tokens:["uniform","float","u_p_alpha_start",";","uniform","float","u_p_alpha_end",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_fog_color_density",";"]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_cube_fog",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{type:"textline",tokens:["uniform","vec4","u_diffuse_color",";"]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{type:"logical_or_expr",places:8}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]},{type:"textline",tokens:["varying","vec3","bJ",";"]},{type:"condition",parts:[{type:"if",expression:["NODES",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["HALO_PARTICLES",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","KC",";"]}]}}]},{type:"textline",tokens:["varying","vec3","vJ",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["PARTICLES_SHADELESS",{type:"logic_negative_expr",places:1},"DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","vI",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES","DISABLE_FOG",{type:"logic_negative_expr",places:1},"NODES",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bK",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["HALO_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","uq",";"]},{type:"condition",parts:[{type:"if",expression:["SKY_STARS"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","up",";"]}]}}]}]}}]},{type:"include",file:"lighting_nodes.glslf"},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"fog.glslf"}]}}]},{type:"condition",parts:[{type:"if",expression:["HALO_PARTICLES",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"environment.glslf"}]}}]},{type:"condition",parts:[{type:"if",expression:["HALO_PARTICLES"],group:{type:"group",parts:[{type:"include",file:"halo_color.glslf"}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec2","Ln",";","float","Lo",",","Lp",",","Lq",";","vec4","Lr",",","Ls",";","vec3","Lt",",","Lu",",","Lv",",","Lw",",","Lx",",","Ly",",","Lz",",","LA",";"]},{type:"condition",parts:[{type:"if",expression:["PARTICLES_SHADELESS",{type:"logic_negative_expr",places:1},"DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lt","=","normalize","(","vI",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["HALO_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["Lr","=","va","(",")",";","Lu","=","Lr",".","rgb","*","vJ",";","Lo","=","0.9","*","length","(","bT",")",";","Lo","=","smoothstep","(","u_p_alpha_start",",","u_p_alpha_end",",","Lo",")",";","Lo","=","Lr",".","a","*","(","1.0","-","Lo",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Lr","=","u_diffuse_color",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["Ls","=","texture2D","(","u_sampler",",","bT",")",";","by","(","Ls",".","rgb",")",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lr",".","rgb","=","mix","(","Lr",".","rgb",",","Ls",".","rgb",",","u_diffuse_color_factor",")",";"]}]}},{type:"elif",expression:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lr",".","rgb","*=","mix","(","vec3","(","1.0",")",",","Ls",".","rgb",",","u_diffuse_color_factor",")",";"]}]}}]},{type:"textline",tokens:["Lr",".","a","=","Ls",".","a",";"]}]}}]},{type:"textline",tokens:["Lr",".","rgb","*=","vJ",";"]},{type:"condition",parts:[{type:"if",expression:["PARTICLES_SHADELESS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["Lv","=","u_diffuse_intensity","*","Lr",".","rgb",";","Lw","=","u_emit","*","Lr",".","rgb",";","Lx","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{type:"logic_negative_expr",places:1},"SKY_COLOR",{type:"logical_and_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["Ly","=","u_environment_energy","*","dZ","(","vec3","(","0.0",")",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Ly","=","u_environment_energy","*","dZ","(","Lx",")",";"]}]}}]},{type:"textline",tokens:["Ly","=","u_ambient","*","Ly",";","Lp","=","u_specular_params","[","0","]",";","Ln","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","Lz","=","Lp","*","u_specular_color",";","x_","(","Lw",",","Ly",",","Lv",",","Lz",",","bJ",",","Lx",",","Lt",",","Ln",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","Lu",",","LA",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Lu","=","Lr",".","rgb",";"]}]}}]},{type:"textline",tokens:["Lo","=","Lr",".","a","*","KC",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["ALPHA"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["ALPHA_CLIP"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Lo","<","0.5",")","discard",";","Lo","=","1.0",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Lo","=","1.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["vH","(","Lu",",","length","(","bK",")",",","Lt",",","1.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SOFT_PARTICLES"],group:{type:"group",parts:[{type:"textline",tokens:["Lp","=","-","bK",".","z","/","u_view_max_depth",";","Lr","=","texture2DProj","(","u_scene_depth",",","bN",")",";","Lq","=","af","(","Lr",")",";","Lp","=","Lq","-","Lp",";","Lp","=","u_view_max_depth","/","SOFT_STRENGTH","*","Lp",";","Lo","=","Lo","*","min","(","Lp",",","1.0",")",";"]}]}}]},{type:"textline",tokens:["bB","(","Lu",")",";"]},{type:"condition",parts:[{type:"if",expression:["ALPHA","ALPHA_CLIP",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bE","(","Lu",",","Lo",")",";"]}]}}]},{type:"textline",tokens:["gl_FragColor","=","vec4","(","Lu",",","Lo",")",";","}"]}]},exports["procedural_skydome.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"textline",tokens:["uniform","vec3","u_sky_color",";","uniform","vec3","u_sun_direction",";","uniform","float","u_rayleigh_brightness",";","uniform","float","u_mie_brightness",";","uniform","float","u_spot_brightness",";","uniform","float","u_scatter_strength",";","uniform","float","u_rayleigh_strength",";","uniform","float","u_mie_strength",";","uniform","float","u_rayleigh_collection_power",";","uniform","float","u_mie_collection_power",";","uniform","float","u_mie_distribution",";","varying","vec3","Ln",";","const","float","Lo","=","0.99",";","const","float","Lp","=","1.8",";","const","int","Lq","=","8",";","float","Lw","(","vec3","Lr",",","vec3","Ls",")","{","float","Lt",",","Lu",",","Lv",";","Lt","=","dot","(","Ls",",","Ls",")",";","Lu","=","2.0","*","dot","(","Ls",",","Lr",")",";","Lv","=","dot","(","Lr",",","Lr",")","-","1.0",";","Lt","=","Lu","*","Lu","-","4.0","*","Lt","*","Lv",";","Lt","=","sqrt","(","Lt",")",";","Lt","=","(","-","Lu","-","Lt",")","/","2.0",";","Lt","=","Lv","/","Lt",";","return","Lt",";","}","float","LD","(","float","Lx",",","float","Ly",")","{","float","Lz",",","LA",",","LB",",","LC",";","Lz","=","3.0","*","(","1.0","-","Ly","*","Ly",")",";","LA","=","2.0","*","(","2.0","+","Ly","*","Ly",")",";","LB","=","1.0","+","Lx","*","Lx",";","LC","=","pow","(","1.0","+","Ly","*","Ly","-","2.0","*","Ly","*","Lx",",","1.5",")",";","LC","=","max","(","LC",",","0.00001",")",";","return","(","Lz","/","LA",")","*","(","LB","/","LC",")",";","}","float","LJ","(","vec3","LE",",","vec3","LF",",","float","LG",")","{","vec3","LH",";","float","LI",";","LI","=","dot","(","LF",",","-","LE",")",";","if","(","LI","<","0.0",")","{","return","1.0",";","}","LH","=","LE","+","LI","*","LF",";","if","(","length","(","LH",")","<","LG",")","{","return","0.0",";","}","else","if","(","length","(","LH",")",">=","LG",")","{","LH","=","normalize","(","LH",")","*","LG","-","LE",";","LI","=","acos","(","dot","(","normalize","(","LH",")",",","LF",")",")",";","return","smoothstep","(","0.0",",","1.0",",","pow","(","LI","*","2.0",",","3.0",")",")",";","}","else","return","1.0",";","}","vec3","LN","(","float","LK",",","vec3","LL",",","float","LM",")","{","return","LL","-","LL","*","pow","(","u_sky_color",",","vec3","(","LM","/","LK",")",")",";","}","void","main","(",")","{","float","LO",",","LP",",","LQ",",","LR",",","LS",",","LT",",","LU",",","LV",",","LW",";","vec3","LX",",","LY",",","LZ",",","L_",",","Ma",",","Mb",",","Mc",";","LX","=","normalize","(","Ln",")",";","LY","=","u_sun_direction",";","LO","=","dot","(","LX",",","LY",")",";","LP","=","LD","(","LO",",","-","0.01",")","*","u_rayleigh_brightness","*","LY",".","y",";","LQ","=","LD","(","LO","-","0.5",",","u_mie_distribution",")","*","u_mie_brightness","*","(","1.0","-","LY",".","y",")",";","LO","=","smoothstep","(","0.0",",","100.0",",","LD","(","LO",",","0.9995",")",")","*","u_spot_brightness",";","LZ","=","vec3","(","0.0",",","Lo",",","0.0",")",";","LR","=","Lw","(","LZ",",","LX",")",";","LS","=","LR","/","float","(","Lq",")",";","LT","=","LJ","(","LZ",",","LX",",","Lo","-","0.3",")",";","L_","=","vec3","(","0.0",",","0.0",",","0.0",")",";","Ma","=","vec3","(","0.0",",","0.0",",","0.0",")",";","for","(","int","Md","=","0",";","Md","<","Lq",";","Md","++",")","{","LU","=","LS","*","float","(","Md",")",";","Mb","=","LZ","+","LX","*","LU",";","LV","=","LJ","(","Mb",",","LY",",","Lo","-","0.2",")",";","LW","=","Lw","(","Mb",",","LY",")",";","Mc","=","LN","(","LW",",","vec3","(","Lp",")",",","u_scatter_strength",")","*","LV",";","L_","+=","LN","(","sqrt","(","LU",")",",","u_sky_color","*","Mc",",","u_rayleigh_strength",")",";","Ma","+=","LN","(","LU",",","Mc",",","u_mie_strength",")",";","}","L_","=","L_","*","LT","*","pow","(","LR",",","u_rayleigh_collection_power",")","/","float","(","Lq",")",";","Ma","=","(","Ma","*","LT","*","pow","(","LR",",","u_mie_collection_power",")",")","/","float","(","Lq",")",";","L_","=","vec3","(","LO","*","Ma","+","LQ","*","Ma","+","LP","*","L_",")",";","bB","(","L_",")",";","gl_FragColor","=","vec4","(","L_",",","1.0",")",";","}"]}]},exports["procedural_skydome.glslv"] = {type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_position",";","uniform","mat4","u_cube_view_matrix",";","varying","vec3","Ln",";","void","main","(",")","{","vec4","Lo",",","Lp",";","Lo","=","vec4","(","a_position",".","xy",",","0.999999",",","1.0",")",";","Lp","=","u_cube_view_matrix","*","Lo",";","Ln","=","Lp",".","xyz",";","gl_Position","=","Lo",";","}"]}]},exports["shadow.glslf"] = {type:"group",parts:[{type:"var",name:"WATER_LEVEL",tokens:["0.0"]},{type:"var",name:"WAVES_HEIGHT",tokens:["0.0"]},{type:"var",name:"NUM_LAMP_LIGHTS",tokens:["0"]},{type:"var",name:"NUM_VALUES",tokens:["0"]},{type:"var",name:"NUM_RGBS",tokens:["0"]},{type:"var",name:"MAPPING_TRS_MATRIX",tokens:["mat4","(","0.0",")"]},{type:"var",name:"MAPPING_SCALE",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_TRANSLATION",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_MIN_CLIP",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_MAX_CLIP",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_IS_NORMAL",tokens:["0.0"]},{type:"var",name:"RGB_IND",tokens:["0"]},{type:"var",name:"VALUE_IND",tokens:["0"]},{type:"var",name:"LAMP_INDEX",tokens:["0"]},{type:"var",name:"NUM_LIGHTS",tokens:["0"]},{type:"var",name:"LAMP_IND",tokens:["0"]},{type:"var",name:"LAMP_SPOT_SIZE",tokens:["0"]},{type:"var",name:"LAMP_SPOT_BLEND",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_DIST",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_FACT_IND",tokens:["0"]},{type:"var",name:"LAMP_FAC_CHANNELS",tokens:["rgb"]},{type:"var",name:"LAMP_SHADOW_MAP_IND",tokens:["0"]},{type:"var",name:"NUM_LFACTORS",tokens:["0"]},{type:"include",file:"std_enums.glsl"},{type:"include",file:"precision_statement.glslf"},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1},"NODES","ALPHA",{type:"logical_and_expr",places:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"include",file:"procedural.glslf"}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"include",file:"pack.glslf"},{type:"condition",parts:[{type:"if",expression:["CAUSTICS"],group:{type:"group",parts:[{type:"include",file:"caustics.glslf"}]}}]},{type:"include",file:"color_util.glslf"},{type:"include",file:"math.glslv"}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_LIGHTS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{type:"textline",tokens:["uniform","vec3","u_camera_eye_frag",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_GEOMETRY_VW",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_zup_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_view_zup_tsr_inverse",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_zup_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_zup_tsr_inverse",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_sky_texture",";"]}]}},{type:"elif",expression:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_plane_reflection",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_CUBE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_cube_reflection",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{type:"textline",tokens:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_mirror_factor",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_refl_plane",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_LAMP"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_VALUE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_RGB"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_colormap0",";","uniform","float","u_alpha_factor",";"]}]}}]},{type:"textline",tokens:["uniform","vec4","u_diffuse_color",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_pcf_blur_radii",";","uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","sampler2D","u_shadow_map0",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_shadow_map1",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_shadow_map2",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_shadow_map3",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_shadow_mask",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_refractmap",";"]},{type:"condition",parts:[{type:"if",expression:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bJ",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE",{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bM",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"NODES","ALPHA",{type:"logical_and_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bK",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bP",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bQ",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bR",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bS",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","bO",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADELESS",{type:"logic_negative_expr",places:1},"NODES","ALPHA",{type:"logical_and_expr",places:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"include",file:"shadow.glslf"}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"include",file:"mirror.glslf"},{type:"include",file:"environment.glslf"},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_REFRACTION"],group:{type:"group",parts:[{type:"include",file:"refraction.glslf"}]}}]}]}}]},{type:"include",file:"nodes.glslf"}]}}]},{type:"textline",tokens:["void","main","(",")","{","mat4","Lo",",","Lp",",","Lq",",","Lr",",","Ls",";","float","Lt",",","Lu",";","vec4","Lv",";","vec3","Lw",",","Lx",",","Ly",",","Lz",";"]},{type:"condition",parts:[{type:"if",expression:["ALPHA"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NODES"],group:{type:"group",parts:[{type:"textline",tokens:["Lw","=","u_camera_eye_frag","-","bJ",";","Lw","=","normalize","(","Lw",")",";","Lo","=","mat4","(","0.0",")",";","Lp","=","mat4","(","0.0",")",";","Lq","=","mat4","(","0.0",")",";","Lr","=","mat4","(","0.0",")",";","Ls","=","mat4","(","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_GEOMETRY_VW",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lo","=","O","(","u_view_tsr_frag",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["Lp","=","O","(","u_view_zup_tsr",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_VIEW_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["Lq","=","O","(","u_view_zup_tsr_inverse",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX"],group:{type:"group",parts:[{type:"textline",tokens:["Lr","=","O","(","u_model_zup_tsr",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_ZUP_MODEL_MATRIX_INVERSE"],group:{type:"group",parts:[{type:"textline",tokens:["Ls","=","O","(","u_model_zup_tsr_inverse",")",";"]}]}}]},{type:"textline",tokens:["qZ","(","Lw",",","Lo",",","Lp",",","Lq",",","Lr",",","Ls",",","Lx",",","Ly",",","Lz",",","Lv",",","Lt",")",";","Lt","=","Lt",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["Lt","=","(","texture2D","(","u_colormap0",",","bT",")",")",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lu","=","u_alpha_factor","*","Lt",";","Lu","+=","(","1.0","-","step","(","0.0",",","Lu",")",")",";","Lt","=","mix","(","Lu",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Lt","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{type:"textline",tokens:["if","(","Lt","<","0.5",")","discard",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","NO_SHADOWS",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_CASTING",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","1.0",")",";"]}]}},{type:"elif",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","dy","(","bK",".","z",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor",".","a","*=","clamp","(","bM",".","r",",","0.999999999",",","1.0",")",";"]}]}}]}]}}]},{type:"textline",tokens:["}"]}]},exports["shadow.glslv"] = {type:"group",parts:[{type:"var",name:"AU_QUALIFIER",tokens:["uniform"]},{type:"var",name:"MAX_BONES",tokens:["0"]},{type:"var",name:"NUM_CAST_LAMPS",tokens:["0"]},{type:"var",name:"SHADOW_TEX_RES",tokens:["0.0"]},{type:"var",name:"VERTEX_ANIM_MIX_NORMALS_FACTOR",tokens:["u_va_frame_factor"]},{type:"include",file:"std_enums.glsl"},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"math.glslv"},{type:"include",file:"to_world.glslv"},{type:"include",file:"scale_texcoord.glslv"},{type:"textline",tokens:["attribute","vec3","a_position",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_normal",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_INSTANCED_PARTCLS"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_part_ts",";","attribute","vec4","a_part_r",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA","CALC_TBN_SPACE",{type:"logical_and_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_tangent",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_influence",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{type:"logical_or_expr",places:3},"USE_INSTANCED_PARTCLS",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MAIN_BEND_COL"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","float","a_bending_col_main",";"]},{type:"condition",parts:[{type:"if",expression:["DETAIL_BEND"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{type:"textline",tokens:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{type:"condition",parts:[{type:"if",expression:["BEND_CENTER_ONLY"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_emitter_center",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_position_next",";"]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE",{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_normal_next",";"]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec4","a_tangent_next",";"]}]}}]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2},{type:"logic_negative_expr",places:1},"TEXTURE_COLOR",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec2","a_texcoord",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["STATIC_BATCH"],group:{type:"group",parts:[{type:"textline",tokens:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_JITTER"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{type:"textline",tokens:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS","BILLBOARD",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_camera_eye",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD","SHADOW_USAGE","SHADOW_CASTING",{type:"equal_expr",places:2},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_shadow_cast_billboard_view_tsr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{type:"condition",parts:[{type:"if",expression:["FRAMES_BLENDING"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["BILLBOARD_JITTERED"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{type:"textline",tokens:["uniform","vec3","u_wind",";","uniform","float","u_time",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_va_frame_factor",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2},{type:"logic_negative_expr",places:1},"TEXTURE_COLOR",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_texture_scale",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_normal_offset",";"]},{type:"condition",parts:[{type:"if",expression:["MAC_OS_SHADOW_HACK"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{type:"textline",tokens:["uniform","mat4","u_p_light_matrix0",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bJ",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},{type:"logical_or_expr",places:5}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bM",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"NODES","ALPHA",{type:"logical_and_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bK",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bP",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bQ",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bR",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","bS",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","bO",";"]}]}}]}]}}]},{type:"include",file:"dynamic_grass.glslv"},{type:"include",file:"shadow.glslv"},{type:"include",file:"skin.glslv"},{type:"include",file:"wind_bending.glslv"},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"include",file:"nodes.glslv"}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec2","Lo",";","vec4","Lp",",","Lq",";","float","Lr",";","mat3","Ls",";","vec3","Lt",",","Lu",",","Lv",",","Lw",",","Lx",",","Ly",";","mat4","Lz",",","LA",",","LB",",","LC",";","Lz","=","O","(","u_view_tsr",")",";","Lt","=","a_position",";"]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["Lu","=","a_normal",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Lu","=","vec3","(","0.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA","CALC_TBN_SPACE",{type:"logical_and_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["Lv","=","vec3","(","a_tangent",")",";","Lw","=","a_tangent","[","3","]","*","cross","(","Lu",",","Lv",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Lv","=","vec3","(","0.0",")",";","Lw","=","vec3","(","0.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["VERTEX_ANIM"],group:{type:"group",parts:[{type:"textline",tokens:["Lt","=","mix","(","Lt",",","a_position_next",",","u_va_frame_factor",")",";"]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE",{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["Lu","=","mix","(","Lu",",","a_normal_next",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["Lx","=","vec3","(","a_tangent",")",";","Ly","=","a_tangent_next","[","3","]","*","cross","(","a_normal_next",",","Lx",")",";","Lv","=","mix","(","Lv",",","Lx",",","u_va_frame_factor",")",";","Lw","=","mix","(","Lw",",","Ly",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"textline",tokens:["sO","(","Lt",",","Lv",",","Lw",",","Lu",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_INSTANCED_PARTCLS"],group:{type:"group",parts:[{type:"textline",tokens:["Ls","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["STATIC_BATCH"],group:{type:"group",parts:[{type:"textline",tokens:["LA","=","O","(","Ls",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["LA","=","O","(","V","(","u_model_tsr",",","Ls",")",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{type:"logical_or_expr",places:3},"USE_INSTANCED_PARTCLS",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lw","=","au_center_pos",";"]}]}},{type:"elif",expression:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lw","=","a_part_ts",".","xyz",";","Lt","=","(","LA","*","vec4","(","Lt",",","1.0",")",")",".","xyz",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Lw","=","vec3","(","0.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS"],group:{type:"group",parts:[{type:"textline",tokens:["c","LD","=","un","(","Lt",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Lu",",","Lw",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","Lz",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_INSTANCED_PARTCLS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["LA","=","O","(","u_model_tsr",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD"],group:{type:"group",parts:[{type:"textline",tokens:["Lv","=","(","LA","*","vec4","(","Lw",",","1.0",")",")",".","xyz",";"]},{type:"condition",parts:[{type:"if",expression:["HAIR_BILLBOARD",{type:"logic_negative_expr",places:1},"SHADOW_USAGE","SHADOW_CASTING",{type:"equal_expr",places:2},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["LB","=","O","(","u_shadow_cast_billboard_view_tsr",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["LB","=","Lz",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2},"USE_INSTANCED_PARTCLS",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["LC","=","rH","(","u_camera_eye",",","Lv",",","LB",",","LA",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["LC","=","rB","(","u_camera_eye",",","Lv",",","LB",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND","BILLBOARD_JITTERED",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["LC","=","LC","*","rt","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","Lv",")",";"]}]}}]},{type:"textline",tokens:["c","LD","=","rO","(","Lt","-","Lw",",","Lw",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Lu",",","LC",")",";","LD",".","b","=","Lv",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["c","LD","=","rO","(","Lt",",","Lw",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Lu",",","LA",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lu","=","a_normal",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Lu","=","vec3","(","0.0",")",";"]}]}}]},{type:"textline",tokens:["tC","(","LD",".","a",",","LD",".","b",",","Lu",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bJ","=","LD",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{type:"logical_and_expr",places:3},{type:"logical_or_expr",places:5}],group:{type:"group",parts:[{type:"textline",tokens:["bL","=","LD",".","e",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["Lr","=","(","dot","(","cross","(","LD",".","e",",","LD",".","c",")",",","LD",".","d",")","<","0.0",")","?","-","1.0",":","1.0",";","bM","=","vec4","(","LD",".","c",",","Lr",")",";"]}]}}]}]}}]},{type:"textline",tokens:["Lp","=","Lz","*","vec4","(","LD",".","a",",","1.0",")",";","Lq","=","u_proj_matrix","*","Lp",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_JITTER"],group:{type:"group",parts:[{type:"textline",tokens:["Lq",".","xy","+=","u_subpixel_jitter","*","Lq",".","w",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NODES","ALPHA",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bN","=","L","(","Lq",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bO","=","-","Lp",".","z","/","u_view_max_depth",";"]}]}}]},{type:"textline",tokens:["tH","(",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["TEXTURE_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["bT","=","rR","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vV","(","LD",".","a",",","LD",".","e",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"NODES","ALPHA",{type:"logical_and_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bK","=","Lp",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_CASTING",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Lo","=","(","u_proj_matrix","*","Lz","[","3","]",")",".","xy",";","Lr","=","SHADOW_TEX_RES","/","2.0",";","Lo","=","floor","(","Lo","*","Lr","+","0.5",")","/","Lr","-","Lo",";","Lq",".","xy","+=","Lo",";"]}]}}]},{type:"textline",tokens:["gl_Position","=","Lq",";","}"]}]},exports["special_lens_flares.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_sampler",";","varying","vec2","bT",";","void","main","(",")","{","vec4","Lo",";","Lo","=","texture2D","(","u_sampler",",","bT",")",";","bB","(","Lo",".","rgb",")",";","bE","(","Lo",".","rgb",",","Lo",".","a",")",";","gl_FragColor","=","Lo",";","}"]}]},exports["special_lens_flares.glslv"] = {type:"group",parts:[{type:"var",name:"NUM_LIGHTS",tokens:["0"]},{type:"define",name:"LIGHT_INDEX",tokens:["0"]},{type:"include",file:"math.glslv"},{type:"textline",tokens:["attribute","float","a_lf_dist",";","attribute","vec2","a_lf_bb_vertex",";","attribute","vec2","a_texcoord",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","varying","vec2","bT",";","void","main","(",")","{","vec2","Lo",";","float","Lp",";","vec4","Lq",";","vec3","Lr",";","mat4","Ls",";","Ls","=","O","(","u_view_tsr",")",";","bT","=","a_texcoord",";","Lr","=","normalize","(","u_light_directions","[","LIGHT_INDEX","]",")",";","Lq","=","u_proj_matrix","*","Ls","*","vec4","(","Lr",",","0.0",")",";","Lq",".","x","/=","Lq",".","w",";","Lq",".","y","/=","Lq",".","w",";","Lq","+=","99999.0","*","step","(","Lq",".","z",",","0.0",")",";","Lq","+=","100.0","*","(","step","(","1.0",",","abs","(","Lq",".","x",")",")","+","step","(","1.0",",","abs","(","Lq",".","y",")",")",")",";","Lq",".","x","=","-","a_lf_dist","*","Lq",".","x",";","Lq",".","y","=","-","a_lf_dist","*","Lq",".","y",";","Lp","=","u_proj_matrix","[","1","]","[","1","]","/","u_proj_matrix","[","0","]","[","0","]",";","Lo","=","vec2","(","a_lf_bb_vertex",".","x","/","Lp",",","a_lf_bb_vertex",".","y",")",";","if","(","a_lf_dist",">","-","0.999",")","{","const","float","Lt","=","1.9",";","Lo","*=","(","1.0","+","Lt","*","length","(","Lq",".","xy",")",")",";","}","gl_Position","=","vec4","(","Lq",".","xy","+","Lo",",","0.999999",",","1.0",")",";","}"]}]},exports["special_skydome.glslf"] = {type:"group",parts:[{type:"var",name:"WATER_LEVEL",tokens:["0.0"]},{type:"define",name:"INV_PI",tokens:["0.318309886"]},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"condition",parts:[{type:"if",expression:["WO_SKYTEX","PROCEDURAL_SKYDOME",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_sky",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_SKYDOME",{type:"logic_negative_expr",places:1},"WO_SKYTEX",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"include",file:"std_enums.glsl"},{type:"include",file:"blending.glslf"},{type:"textline",tokens:["uniform","vec4","u_sky_tex_fac",";","uniform","vec3","u_sky_tex_color",";","uniform","float","u_sky_tex_dvar",";","vec3","Ns","(","vec3","Nn",",","vec3","No",",","float","Np",",","float","Nq",")","{","float","Nr",";","Nr","=","Np","*","Nq",";"]},{type:"condition",parts:[{type:"if",expression:["BLENDTYPE","MIX",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","LC","(","No",",","Nn",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","ADD",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","LG","(","Nn",",","No",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","SUBTRACT",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","LK","(","Nn",",","No",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","MULTIPLY",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","LP","(","Nn",",","No",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","SCREEN",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","LU","(","Nn",",","No",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","OVERLAY",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","LZ","(","Nn",",","No",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","DIFFERENCE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Mc","(","Nn",",","No",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","DIVIDE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Mg","(","Nn",",","No",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","DARKEN",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Mk","(","Nn",",","No",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","LIGHTEN",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Mo","(","Nn",",","No",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","HUE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Mu","(","No",",","Nn",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","SATURATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","MA","(","No",",","Nn",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","VALUE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","MG","(","No",",","Nn",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","COLOR",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","MM","(","No",",","Nn",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","SOFT_LIGHT",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","MR","(","No",",","Nn",",","Nr",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","LINEAR_LIGHT",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","MV","(","No",",","Nn",",","Nr",")",";"]}]}}]},{type:"textline",tokens:["return","vec3","(","1.0",",","0.0",",","1.0",")",";","}","float","NA","(","float","Nt",",","float","Nu",",","float","Nv",",","float","Nw",")","{","float","Nx",";","vec3","Ny",",","Nz",";","Ny","=","vec3","(","Nt",")",",","Nz","=","vec3","(","Nu",")",";","Nx","=","Nv","*","Nw",";"]},{type:"condition",parts:[{type:"if",expression:["BLENDTYPE","MIX",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","LC","(","Nz",",","Ny",",","Nx",")",".","x",";"]}]}},{type:"elif",expression:["BLENDTYPE","ADD",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","LG","(","Ny",",","Nz",",","Nx",")",".","x",";"]}]}},{type:"elif",expression:["BLENDTYPE","SUBTRACT",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","LK","(","Ny",",","Nz",",","Nx",")",".","x",";"]}]}},{type:"elif",expression:["BLENDTYPE","MULTIPLY",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Na","(","Nt",",","Nu",",","Nx",",","Nw",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","SCREEN",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Ng","(","Nt",",","Nu",",","Nx",",","Nw",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","OVERLAY",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Nm","(","Nt",",","Nu",",","Nx",",","Nw",")",";"]}]}},{type:"elif",expression:["BLENDTYPE","DIFFERENCE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Mc","(","Ny",",","Nz",",","Nx",")",".","x",";"]}]}},{type:"elif",expression:["BLENDTYPE","DIVIDE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Mg","(","Ny",",","Nz",",","Nx",")",".","x",";"]}]}},{type:"elif",expression:["BLENDTYPE","DARKEN",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Mk","(","Ny",",","Nz",",","Nx",")",".","x",";"]}]}},{type:"elif",expression:["BLENDTYPE","LIGHTEN",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","Mo","(","Ny",",","Nz",",","Nx",")",".","x",";"]}]}},{type:"elif",expression:["BLENDTYPE","SOFT_LIGHT",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","MR","(","Nz",",","Ny",",","Nx",")",".","x",";"]}]}},{type:"elif",expression:["BLENDTYPE","LINEAR_LIGHT",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","MV","(","Nz",",","Ny",",","Nx",")",".","x",";"]}]}}]},{type:"textline",tokens:["return","0.0",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_SKYDOME",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},"REFLECTION_PASS",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_camera_eye_frag",";","uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{type:"textline",tokens:["varying","vec3","Ln",";"]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_SKYDOME",{type:"logic_negative_expr",places:1},"WO_SKYTEX","WO_SKYBLEND",{type:"logical_or_expr",places:2},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec4","NB",";","float","NC",",","ND",",","NE",";","vec3","NF",",","NG",",","NH",",","NI",",","NJ",";","NG","=","normalize","(","Ln",")",";"]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_SKYDOME"],group:{type:"group",parts:[{type:"textline",tokens:["NF","=","textureCube","(","u_sky",",","NG",")",".","rgb",";"]}]}},{type:"elif",expression:["WO_SKYTEX","WO_SKYBLEND",{type:"logical_or_expr",places:2},{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["NF","=","u_horizon_color",";","bB","(","NF",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:[";"]},{type:"condition",parts:[{type:"if",expression:["WO_SKYPAPER"],group:{type:"group",parts:[{type:"textline",tokens:["NH","=","vec3","(","bT",",","0.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NH","=","vec3","(","Ln",".","xy",",","0.0",")",";"]}]}}]},{type:"textline",tokens:["NC","=","0.0",";"]},{type:"condition",parts:[{type:"if",expression:["WO_SKYBLEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WO_SKYPAPER"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WO_SKYREAL"],group:{type:"group",parts:[{type:"textline",tokens:["NC","=","abs","(","bT",".","y",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NC","=","(","bT",".","y","+","1.0",")","*","0.5",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ND","=","acos","(","NG",".","y",")",";"]},{type:"condition",parts:[{type:"if",expression:["WO_SKYREAL"],group:{type:"group",parts:[{type:"textline",tokens:["NC","=","abs","(","ND","*","INV_PI","-","0.5",")","*","2.0",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NC","=","1.0","-","ND","*","INV_PI",";"]}]}}]}]}}]}]}}]},{type:"textline",tokens:["NI","=","u_horizon_color",";","NJ","=","u_zenith_color",";"]},{type:"condition",parts:[{type:"if",expression:["WO_SKYTEX"],group:{type:"group",parts:[{type:"textline",tokens:["ND","=","1.0",";","NB","=","textureCube","(","u_sky",",","NG",")",";","by","(","NB",".","rgb",")",";","ND","=","NB",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["MTEX_RGBTOINT"],group:{type:"group",parts:[{type:"textline",tokens:["ND","=","bI","(","NB",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["MTEX_NEGATIVE"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MTEX_RGBTOINT",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["NB","=","vec4","(","vec3","(","1.0",")","-","NB",".","rgb",",","NB",".","a",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ND","=","1.0","-","ND",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WOMAP_HORIZ","WOMAP_ZENUP","WOMAP_ZENDOWN",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MTEX_RGBTOINT"],group:{type:"group",parts:[{type:"textline",tokens:["NB","=","vec4","(","u_sky_tex_color",",","1.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ND","=","NB",".","a",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WOMAP_HORIZ"],group:{type:"group",parts:[{type:"textline",tokens:["NI","=","Ns","(","NB",".","rgb",",","NI",",","ND",",","u_sky_tex_fac","[","1","]",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WOMAP_ZENUP","WOMAP_ZENDOWN",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NE","=","0.0",";"]},{type:"condition",parts:[{type:"if",expression:["WO_SKYREAL"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","dot","(","NH",",","vec3","(","0.0",",","1.0",",","0.0",")",")",">=","0.0",")","{"]},{type:"condition",parts:[{type:"if",expression:["WOMAP_ZENUP"],group:{type:"group",parts:[{type:"textline",tokens:["NE","=","u_sky_tex_fac","[","2","]",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:[";"]}]}}]},{type:"textline",tokens:["}"]},{type:"condition",parts:[{type:"if",expression:["WOMAP_ZENDOWN"],group:{type:"group",parts:[{type:"textline",tokens:["else","NE","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WOMAP_ZENUP"],group:{type:"group",parts:[{type:"textline",tokens:["NE","=","u_sky_tex_fac","[","2","]",";"]}]}},{type:"elif",expression:["WOMAP_ZENDOWN"],group:{type:"group",parts:[{type:"textline",tokens:["NE","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}}]},{type:"textline",tokens:["if","(","NE","!=","0.0",")","NJ","=","Ns","(","NB",".","rgb",",","NJ",",","ND",",","NE",")",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WOMAP_BLEND"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MTEX_RGBTOINT",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["ND","=","dot","(","NB",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";"]}]}}]},{type:"textline",tokens:["NC","=","NA","(","u_sky_tex_dvar",",","NC",",","ND",",","u_sky_tex_fac","[","0","]",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WO_SKYBLEND"],group:{type:"group",parts:[{type:"textline",tokens:["NF","=","mix","(","NI",",","NJ",",","NC",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NF","=","NI",";"]}]}}]},{type:"textline",tokens:["bB","(","NF",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["bB","(","NI",")",";","bB","(","NJ",")",";"]},{type:"condition",parts:[{type:"if",expression:["WO_SKYBLEND"],group:{type:"group",parts:[{type:"textline",tokens:["NF","=","mix","(","NI",",","NJ",",","NC",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NF","=","NI",";"]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},"REFLECTION_PASS",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["by","(","NF",")",";","NC","=","WATER_LEVEL","-","u_camera_eye_frag",".","y",";","NI","=","vec3","(","0.0",")",";","NI","=","mix","(","u_underwater_fog_color_density",".","rgb",",","NI",",","min","(","-","NG",".","y",",","1.0",")",")",";","NI","*=","min","(","1.0","-","min","(","0.03","*","NC",",","0.8",")",",","1.0",")",";","NC","=","clamp","(","sign","(","0.01","*","NC","-","NG",".","y",")",",","0.0",",","1.0",")",";","NF","=","mix","(","NF",",","NI",",","NC",")",";","bB","(","NF",")",";"]}]}}]},{type:"textline",tokens:["gl_FragColor","=","vec4","(","NF",",","1.0",")",";","}"]}]},exports["special_skydome.glslv"] = {type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_position",";","uniform","mat4","u_sky_vp_inverse",";","varying","vec3","Ln",";"]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_SKYDOME",{type:"logic_negative_expr",places:1},"WO_SKYTEX","WO_SKYBLEND",{type:"logical_or_expr",places:2},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec4","Nn",",","No",";","Nn","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";","No","=","u_sky_vp_inverse","*","Nn",";","Ln","=","No",".","xyz",";"]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_SKYDOME",{type:"logic_negative_expr",places:1},"WO_SKYTEX","WO_SKYBLEND",{type:"logical_or_expr",places:2},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bT","=","a_position",".","xy",";"]}]}}]},{type:"textline",tokens:["gl_Position","=","Nn",";","}"]}]},exports["special_water.glslf"] = {type:"group",parts:[{type:"var",name:"ABSORB",tokens:["0.0"]},{type:"var",name:"WATER_LEVEL",tokens:["0.0"]},{type:"var",name:"SSS_STRENGTH",tokens:["6.0"]},{type:"var",name:"SSS_WIDTH",tokens:["0.0"]},{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"var",name:"NUM_LIGHTS",tokens:["0"]},{type:"var",name:"LAMP_IND",tokens:["0"]},{type:"var",name:"LAMP_SPOT_SIZE",tokens:["0"]},{type:"var",name:"LAMP_SPOT_BLEND",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_DIST",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_FACT_IND",tokens:["0"]},{type:"var",name:"LAMP_FAC_CHANNELS",tokens:["rgb"]},{type:"var",name:"LAMP_SHADOW_MAP_IND",tokens:["0"]},{type:"var",name:"NUM_LFACTORS",tokens:["0"]},{type:"include",file:"std_enums.glsl"},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"procedural.glslf"},{type:"include",file:"pack.glslf"},{type:"include",file:"color_util.glslf"},{type:"include",file:"math.glslv"},{type:"define",name:"REFL_BUMP",tokens:["0.001"]},{type:"define",name:"REFR_BUMP",tokens:["0.0005"]},{type:"textline",tokens:["uniform","float","u_time",";"]},{type:"condition",parts:[{type:"if",expression:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_sky_texture",";"]}]}},{type:"elif",expression:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{type:"textline",tokens:["uniform","float","u_environment_energy",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_LIGHTS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{type:"textline",tokens:["uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"SHORE_SMOOTHING","WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2},{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_cam_water_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_fog_color_density",";"]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat4","u_cube_fog",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_refractmap",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_plane_reflection",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FOAM"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_foam",";"]}]}}]},{type:"textline",tokens:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";","uniform","vec3","u_shallow_water_col",";","uniform","vec3","u_shore_water_col",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_water_norm_uv_velocity",";","uniform","vec2","u_normalmap0_scale",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",1,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec2","u_normalmap1_scale",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",2,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec2","u_normalmap2_scale",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",3,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec2","u_normalmap3_scale",";"]}]}}]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_mirror_factor",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_reflect_factor",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_view_max_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_water_shallow_col_fac",";","uniform","float","u_water_shore_col_fac",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FOAM"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_foam_factor",";","uniform","vec2","u_foam_uv_freq",";","uniform","vec2","u_foam_mag",";","uniform","vec2","u_foam_scale",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","float","u_refr_bump",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DEBUG_WIREFRAME"],group:{type:"group",parts:[{type:"textline",tokens:["const","float","Nn","=","1.0",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{type:"textline",tokens:["varying","vec3","vI",";","varying","vec3","bJ",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2},"FOAM",{type:"logical_or_expr",places:2},"GENERATED_MESH",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bM",";","varying","vec3","No",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC","NUM_NORMALMAPS",0,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2},"FOAM",{type:"logical_or_expr",places:2},"GENERATED_MESH","DYNAMIC",{type:"logical_and_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","Np",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","Nq",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFRACTIVE",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFRACTIVE","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","bO",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DEBUG_WIREFRAME"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","tI",";"]}]}}]},{type:"include",file:"environment.glslf"},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE","SHORE_SMOOTHING","USE_REFRACTION_CORRECTION",{type:"logical_and_expr",places:3}],group:{type:"group",parts:[{type:"include",file:"refraction.glslf"}]}}]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"include",file:"fog.glslf"}]}}]},{type:"textline",tokens:["vec3","NC","(","in","vec2","Nr",",","in","vec3","Ns",",","in","vec3","Nt",",","in","vec3","Nu",",","out","float","Nv",")","{","float","Nw",",","Nx",",","Ny",";","vec2","Nz",";","vec3","NA",",","NB",";","Nv","=","0.0",";","NA","=","reflect","(","-","Nt",",","Ns",")",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nz","=","Nr",".","xy","+","Ns",".","xz","*","REFL_BUMP","/","bO",";","Nv","=","u_reflect_factor",";","if","(","u_cam_water_depth","<","0.0",")","{"]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1},"WATER_EFFECTS",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NB","=","u_underwater_fog_color_density",".","rgb",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NB","=","u_diffuse_color",".","rgb",";"]}]}}]},{type:"textline",tokens:["}","else","{","NB","=","texture2D","(","u_plane_reflection",",","Nz",")",".","rgb",";","by","(","NB",")",";","}"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nv","=","u_mirror_factor",";","NB","=","Nu","*","textureCube","(","u_mirrormap",",","NA",")",".","rgb",";","by","(","NB",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Nv","=","u_reflect_factor",";","NB","=","Nu","*","vec3","(","0.3",",","0.5",",","1.0",")",";","by","(","NB",")",";"]}]}}]},{type:"textline",tokens:["NA","=","normalize","(","NA","+","Nt",")",";","Nw","=","1.0","-","dot","(","Nt",",","NA",")",";","Nx","=","u_fresnel_params","[","3","]",";","Ny","=","u_fresnel_params","[","2","]",";","Ny","=","Nx","+","(","1.0","-","Nx",")","*","pow","(","Nw",",","Ny",")",";","Nv","=","min","(","Nv","*","Ny",",","1.0",")",";","return","NB",";","}"]},{type:"include",file:"lighting_nodes.glslf"},{type:"textline",tokens:["void","main","(",")","{","vec4","ND",";","vec2","NE",",","NF",",","NG",";","float","NH",",","NI",",","NJ",",","NK",",","NL",";","vec3","NM",",","NN",",","NO",",","NP",",","NQ",",","NR",",","NS",",","NT",",","NU",";","mat3","NV",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NV","=","mat3","(","bM",",","No",",","bL",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC"],group:{type:"group",parts:[{type:"textline",tokens:["NM","=","normalize","(","bL",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NM","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC","FOAM",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NH","=","bJ",".","y","-","WATER_LEVEL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2},"FOAM",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["GENERATED_MESH"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DYNAMIC"],group:{type:"group",parts:[{type:"textline",tokens:["NE","=","vec2","(","Np",".","x",",","-","Np",".","z",")","+","0.5",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NE","=","vec2","(","bJ",".","x",",","-","bJ",".","z",")","+","0.5",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NE","=","bT",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NN","=","vec3","(","0.0",")",";","NO","=","texture2D","(","u_normalmap0",",","NE","*","u_normalmap0_scale","+","vec2","(","0.3",",","0.5",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","NN","+=","NO",";"]},{type:"condition",parts:[{type:"if",expression:["FOAM"],group:{type:"group",parts:[{type:"textline",tokens:["NP","=","vec3","(","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["NORM_FOAM0"],group:{type:"group",parts:[{type:"textline",tokens:["NP","+=","NO",";"]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",1,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NO","=","texture2D","(","u_normalmap0",",","NE","*","u_normalmap1_scale","+","vec2","(","-","0.3",",","0.7",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","NN","+=","NO",";"]},{type:"condition",parts:[{type:"if",expression:["FOAM"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NORM_FOAM1"],group:{type:"group",parts:[{type:"textline",tokens:["NP","+=","NO",";"]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",2,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NO","=","texture2D","(","u_normalmap0",",","NE","*","u_normalmap2_scale","+","vec2","(","0.0",",","1.1",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","NN","+=","NO",";"]},{type:"condition",parts:[{type:"if",expression:["FOAM"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NORM_FOAM2"],group:{type:"group",parts:[{type:"textline",tokens:["NP","+=","NO",";"]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",3,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NO","=","texture2D","(","u_normalmap0",",","NE","*","u_normalmap3_scale","+","vec2","(","-","0.66",",","-","0.3",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","NN","+=","NO",";"]},{type:"condition",parts:[{type:"if",expression:["FOAM"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NORM_FOAM3"],group:{type:"group",parts:[{type:"textline",tokens:["NP","+=","NO",";"]}]}}]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["FOAM"],group:{type:"group",parts:[{type:"textline",tokens:["NP","=","NV","*","NP",";","if","(","!","f","(","NP",",","vec3","(","0.0",")",")",")","NP","=","normalize","(","NP",")",";","NP","=","mix","(","NM",",","NP",",","0.2",")",";","NP","=","normalize","(","NP",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC"],group:{type:"group",parts:[{type:"textline",tokens:["NM","=","mix","(","NM",",","normalize","(","NV","*","NN",")",",","0.3",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NM","=","mix","(","NM",",","normalize","(","NV","*","NN",")",",","0.5",")",";"]}]}}]},{type:"textline",tokens:["NM","=","normalize","(","NM",")",";"]}]}}]},{type:"textline",tokens:["NN","=","normalize","(","vI",")",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFRACTIVE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NF","=","bN",".","xy","/","bN",".","z",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["NG","=","NF","+","NM",".","xz","*","u_refr_bump","/","bO",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING"],group:{type:"group",parts:[{type:"textline",tokens:["NI","=","u_diffuse_color",".","a",";","ND","=","texture2DProj","(","u_scene_depth",",","bN",")",";","NJ","=","af","(","ND",")",";","NK","=","max","(","NJ","-","bO",",","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["NJ","=","ee","(","NJ",",","NG",",","NF",")",";","NJ","=","max","(","NJ","-","bO",",","0.0",")",";","NJ","=","u_view_max_depth","/","ABSORB","*","NJ",";","NJ","=","min","(","NI","*","NJ",",","1.0",")",";","NI","=","min","(","15.0","*","NI","*","u_view_max_depth","*","NK",",","1.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NL","=","u_view_max_depth","/","ABSORB","*","NK",";","if","(","u_cam_water_depth",">","0.0",")","NI","=","min","(","NI","*","NL",",","1.0",")",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NI","=","u_diffuse_color",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["NJ","=","NI",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","u_cam_water_depth","<","0.0",")","NJ","=","0.0",";","NO","=","texture2D","(","u_refractmap",",","NG",")",".","rgb",";","by","(","NO",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["NL","=","pow","(","min","(","Nq",".","b","/","u_water_shallow_col_fac",",","1.0",")",",","0.3",")",";","NQ","=","mix","(","u_shallow_water_col",",","u_diffuse_color",".","rgb",",","NL",")",";","NL","=","pow","(","min","(","Nq",".","b","/","u_water_shore_col_fac",",","1.0",")",",","0.3",")",";","NQ","=","mix","(","u_shore_water_col",",","NQ",",","NL",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NQ","=","u_diffuse_color",".","rgb",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FOAM"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING"],group:{type:"group",parts:[{type:"textline",tokens:["NK","=","max","(","1.0","-","u_view_max_depth","*","NK",",","0.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NK","=","1.0","-","NI",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC"],group:{type:"group",parts:[{type:"textline",tokens:["NH","=","max","(","NH","/","WAVES_HEIGHT","+","0.1",",","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["NR","=","normalize","(","vec3","(","Nq",".","r",",","0.0",",","Nq",".","g",")",")",";","NR","=","normalize","(","mix","(","vec3","(","0.0",",","1.0",",","0.0",")",",","NR",",","0.8",")",")",";","NL","=","1.25","*","max","(","dot","(","NP",",","NR",")","-","0.2",",","0.0",")",";","NL","+=","max","(","dot","(","NP",",","vec3","(","0.0",",","-","1.0",",","0.0",")",")",",","0.0",")",";","NK","+=","NL","*","(","1.0","-","Nq",".","b",")",";","NH","*=","(","1.0","-","0.95","*","pow","(","Nq",".","b",",","0.1",")",")",";"]}]}}]},{type:"textline",tokens:["NK","+=","NH",";","NK","=","min","(","u_foam_factor","*","NK",",","1.0",")",";"]}]}}]},{type:"textline",tokens:["ND","=","texture2D","(","u_foam",",","u_foam_mag","*","sin","(","u_foam_uv_freq","*","u_time",")","+","NE","*","u_foam_scale",")",";"]}]}}]},{type:"textline",tokens:["NH","=","u_specular_params","[","0","]",";","NE","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","NP","=","NH","*","u_specular_color",";","NR","=","u_environment_energy","*","dZ","(","NM",")",";","NR","=","u_ambient","*","NR",";","NR","=","NR","+","u_sun_intensity",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NS","=","NC","(","NF",",","NM",",","NN",",","NR",",","NH",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NS","=","NC","(","vec2","(","0.0",")",",","NM",",","NN",",","NR",",","NH",")",";"]}]}}]},{type:"textline",tokens:["NQ","=","u_diffuse_intensity","*","NQ",";","x_","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","NQ",",","NP",",","bJ",",","NM",",","NN",",","NE",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","NT",",","NU",")",";"]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC"],group:{type:"group",parts:[{type:"textline",tokens:["NL","=","max","(","dot","(","u_sun_direction",",","-","bL",")","+","SSS_WIDTH",",","0.0",")","*","max","(","dot","(","-","NN",",","u_sun_direction",")","-","0.5",",","0.0",")","*","max","(","0.0",",","length","(","u_sun_intensity",")","-","0.1",")",";","NL","=","clamp","(","SSS_STRENGTH","*","NL",",","0.0",",","1.0",")",";","NT","=","mix","(","NT",",","u_shallow_water_col",",","NL",")",";","NT","=","mix","(","NT",",","u_shore_water_col",",","NL",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"textline",tokens:["NT","=","mix","(","NO",",","NT",",","NJ",")",";"]}]}}]},{type:"textline",tokens:["NT","=","mix","(","NT",",","NS",",","NH",")",";"]},{type:"condition",parts:[{type:"if",expression:["FOAM"],group:{type:"group",parts:[{type:"textline",tokens:["NH","=","mix","(","ND",".","g",",","ND",".","r",",","max","(","4.0","*","(","NK","-","0.75",")",",","0.0",")",")",";","NH","=","mix","(","ND",".","b",",","NH",",","max","(","2.0","*","NK","-","1.0",",","0.0",")",")",";","NH","=","mix","(","0.0",",","NH",",","NK",")",";","NT","=","mix","(","NT",",","NR",",","NH",")",";"]}]}}]},{type:"textline",tokens:["NT","+=","NU",";"]},{type:"condition",parts:[{type:"if",expression:["DISABLE_FOG",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["NK","=","bO","*","u_view_max_depth",";","NJ","=","1.0",";","if","(","u_cam_water_depth",">","1.0",")","NJ","=","2.0",";","vH","(","NT",",","NK",",","NN",",","NJ",")",";"]}]}}]},{type:"textline",tokens:["bB","(","NT",")",";"]},{type:"condition",parts:[{type:"if",expression:["REFRACTIVE",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["NI","=","max","(","NI",",","NU",".","r",")",";"]},{type:"condition",parts:[{type:"if",expression:["FOAM"],group:{type:"group",parts:[{type:"textline",tokens:["NI","+=","NH",";"]}]}}]}]}},{type:"elif",expression:["SHORE_SMOOTHING",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["NI","=","1.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["ALPHA"],group:{type:"group",parts:[{type:"textline",tokens:["bE","(","NT",",","NI",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DEBUG_WIREFRAME",1,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"extension",tokens:["GL_OES_standard_derivatives",":","enable"]},{type:"textline",tokens:["NU","=","fwidth","(","tI",")",";","NU","=","smoothstep","(","vec3","(","0.0",")",",","NU","*","Nn",",","tI",")",";","NH","=","min","(","min","(","NU",".","x",",","NU",".","y",")",",","NU",".","z",")",";","NH","=","clamp","(","NH",",","0.0",",","1.0",")",";","NT","=","mix","(","u_wireframe_edge_color",",","NT",",","NH",")",";","NI","=","mix","(","1.0",",","NI",",","NH",")",";"]}]}},{type:"elif",expression:["DEBUG_WIREFRAME",2,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["NU","=","sign","(","tI","-","vec3","(","0.02","*","Nn",")",")",";","NH","=","1.0",";","if","(","NU",".","x","<","0.0","||","NU",".","y","<","0.0","||","NU",".","z","<","0.0",")","NH","=","0.0",";","NT","=","mix","(","u_wireframe_edge_color",",","NT",",","NH",")",";","NI","=","mix","(","1.0",",","NI",",","NH",")",";"]}]}}]},{type:"textline",tokens:["gl_FragColor","=","vec4","(","NT",",","NI",")",";","}"]}]},exports["special_water.glslv"] = {type:"group",parts:[{type:"var",name:"DIR_MIN_SHR_FAC",tokens:["0.0"]},{type:"var",name:"DIR_FREQ",tokens:["0.0"]},{type:"var",name:"DIR_NOISE_SCALE",tokens:["0.0"]},{type:"var",name:"DIR_NOISE_FREQ",tokens:["0.0"]},{type:"var",name:"DIR_MIN_NOISE_FAC",tokens:["0.0"]},{type:"var",name:"DST_NOISE_SCALE_0",tokens:["0.0"]},{type:"var",name:"DST_NOISE_FREQ_0",tokens:["0.0"]},{type:"var",name:"DST_NOISE_SCALE_1",tokens:["0.0"]},{type:"var",name:"DST_NOISE_FREQ_1",tokens:["0.0"]},{type:"var",name:"DST_MIN_FAC",tokens:["0.0"]},{type:"var",name:"MAX_SHORE_DIST",tokens:["0.0"]},{type:"var",name:"PRECISION",tokens:["mediump"]},{type:"var",name:"SHORE_MAP_CENTER_X",tokens:["0.0"]},{type:"var",name:"SHORE_MAP_SIZE_X",tokens:["0.0"]},{type:"var",name:"SHORE_MAP_CENTER_Y",tokens:["0.0"]},{type:"var",name:"SHORE_MAP_SIZE_Y",tokens:["0.0"]},{type:"var",name:"WAVES_HOR_FAC",tokens:["0.0"]},{type:"var",name:"WATER_LEVEL",tokens:["0.0"]},{type:"var",name:"WAVES_HEIGHT",tokens:["0.0"]},{type:"var",name:"WAVES_LENGTH",tokens:["0.0"]},{type:"include",file:"std_enums.glsl"},{type:"include",file:"math.glslv"},{type:"include",file:"to_world.glslv"},{type:"include",file:"scale_texcoord.glslv"},{type:"include",file:"procedural.glslf"},{type:"textline",tokens:["attribute","vec3","a_position",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2},"DYNAMIC",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_normal",";","attribute","vec3","a_tangent",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["GENERATED_MESH",{type:"logic_negative_expr",places:1},"NUM_NORMALMAPS",0,{type:"g_expr",places:2},"FOAM",{type:"logical_or_expr",places:2},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec2","a_texcoord",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DEBUG_WIREFRAME"],group:{type:"group",parts:[{type:"textline",tokens:["attribute","float","a_polyindex",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["STATIC_BATCH"],group:{type:"group",parts:[{type:"textline",tokens:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["uniform","mat3","u_model_tsr",";"]}]}}]},{type:"textline",tokens:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_camera_eye",";"]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","float","u_time",";","uniform","vec3","u_wind",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFRACTIVE","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_shore_dist_map",";"]}]}}]},{type:"textline",tokens:["varying","vec3","vI",";","varying","vec3","bJ",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2},"FOAM",{type:"logical_or_expr",places:2},"GENERATED_MESH",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","bT",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bM",";","varying","vec3","No",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC","NUM_NORMALMAPS",0,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2},"FOAM",{type:"logical_or_expr",places:2},"GENERATED_MESH","DYNAMIC",{type:"logical_and_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","Np",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","Nq",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFRACTIVE",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","bN",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFRACTIVE","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","bO",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DEBUG_WIREFRAME"],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","tI",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["vec3","Nv","(","in","vec2","Nn",")","{","float","Nr",";","vec4","Ns",";","vec2","Nt",";","Nt","=","0.5","+","vec2","(","(","Nn",".","x","-","SHORE_MAP_CENTER_X",")","/","SHORE_MAP_SIZE_X",",","-","(","Nn",".","y","+","SHORE_MAP_CENTER_Y",")","/","SHORE_MAP_SIZE_Y",")",";","Ns","=","texture2D","(","u_shore_dist_map",",","Nt",")",";","const","vec2","Nu","=","vec2","(","1.0","/","255.0",",","1.0",")",";","Nr","=","dot","(","Ns",".","ba",",","Nu",")",";","Nt","=","normalize","(","Ns",".","rg","*","2.0","-","1.0",")",";","return","vec3","(","Nt",",","Nr",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC"],group:{type:"group",parts:[{type:"define",name:"M_PI",tokens:["3.14159265359"]},{type:"define",name:"SMALL_WAVES_FAC",tokens:["0.3"]},{type:"textline",tokens:["void","NH","(","inout","vec3","Nw",",","in","float","Nx",",","in","vec3","Ny",")","{","vec2","Nz",",","NA",",","NB",";","float","NC",",","ND",",","NE",",","NF",",","NG",";","NC","=","ba","(","DST_NOISE_SCALE_0","*","(","Nw",".","xz","+","DST_NOISE_FREQ_0","*","Nx",")",")","*","ba","(","DST_NOISE_SCALE_1","*","(","Nw",".","zx","-","DST_NOISE_FREQ_1","*","Nx",")",")",";"]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["ND","=","WAVES_LENGTH","/","MAX_SHORE_DIST","/","M_PI",";","NE","=","Ny",".","b",";","NF","=","sqrt","(","NE",")",";","ND","=","max","(","NE",",","DIR_MIN_SHR_FAC",")","*","sin","(","NF","/","ND","+","DIR_FREQ","*","Nx",")",";","NG","=","max","(","ba","(","DIR_NOISE_SCALE","*","(","Nw",".","xz","+","DIR_NOISE_FREQ","*","Nx",")",")",",","DIR_MIN_NOISE_FAC",")",";","ND","*=","NG",";","NF","=","WAVES_HEIGHT","*","mix","(","ND",",","NC",",","max","(","NF",",","DST_MIN_FAC",")",")",";","Nz","=","Ny",".","rg",";","ND","=","WAVES_HOR_FAC","*","ND","*","max","(","MAX_SHORE_DIST","/","35.0","*","(","0.05","-","NE",")",",","0.0",")",";","Nz","=","ND","*","Nz",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NF","=","WAVES_HEIGHT","*","NC",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["GENERATED_MESH"],group:{type:"group",parts:[{type:"textline",tokens:["NA","=","2.0","*","(","Nw",".","xz","-","0.1","*","Nx",")",";","NB","=","1.3","*","(","Nw",".","zx","+","0.03","*","Nx",")",";","NC","=","aF","(","0.5","*","(","NA","+","NB",")",")",".","x","-","0.5",";"]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["Nw",".","xz","+=","Nz",";","NC","*=","NE",";"]}]}}]},{type:"textline",tokens:["NF","+=","SMALL_WAVES_FAC","*","NC",";"]}]}}]},{type:"textline",tokens:["Nw",".","y","+=","NF",";","}"]}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec4","NI",",","NJ",";","vec2","NK",";","float","NL",",","NM",",","NN",";","vec3","NO",",","NP",",","NQ",",","NR",",","NS",";","mat4","NT",",","NU",";","NT","=","O","(","u_view_tsr",")",";","NU","=","O","(","u_model_tsr",")",";"]},{type:"condition",parts:[{type:"if",expression:["DEBUG_WIREFRAME"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","a_polyindex","==","0.0",")","tI","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","tI","=","vec3","(","0.0",",","1.0",",","0.0",")",";","else","if","(","a_polyindex","==","2.0",")","tI","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["GENERATED_MESH"],group:{type:"group",parts:[{type:"textline",tokens:["NO","=","a_position",";","NL","=","abs","(","NO",".","y",")",";","NK","=","u_camera_eye",".","xz","-","mod","(","u_camera_eye",".","xz",",","NL",")",";","NO",".","y","=","WATER_LEVEL",";","NO",".","xz","+=","NK",";","NO","=","NO",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2},"FOAM",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bT","=","a_texcoord",";"]}]}}]},{type:"textline",tokens:["c","NV","=","rO","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","NU",")",";","NO","=","NV",".","a",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["Nq","=","Nv","(","NO",".","xz",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC"],group:{type:"group",parts:[{type:"textline",tokens:["NM","=","length","(","u_wind",")",";","NN","=","u_time",";","NN","*=","NM",";"]},{type:"condition",parts:[{type:"if",expression:["GENERATED_MESH"],group:{type:"group",parts:[{type:"textline",tokens:["NL","=","NL",";","NP","=","NO","+","vec3","(","NL",",","0.0",",","0.0",")",";","NQ","=","NO","+","vec3","(","0.0",",","0.0",",","NL",")",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2},"FOAM",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Np","=","NO",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NP","=","NO","+","vec3","(","0.05",",","0.0",",","0.0",")",";","NQ","=","NO","+","vec3","(","0.0",",","0.0",",","0.05",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_PARAMS"],group:{type:"group",parts:[{type:"textline",tokens:["NR","=","Nv","(","NP",".","xz",")",";","NS","=","Nv","(","NQ",".","xz",")",";","NH","(","NP",",","NN",",","NR",")",";","NH","(","NQ",",","NN",",","NS",")",";","NH","(","NO",",","NN",",","Nq",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["NH","(","NP",",","NN",",","vec3","(","0.0",")",")",";","NH","(","NQ",",","NN",",","vec3","(","0.0",")",")",";","NH","(","NO",",","NN",",","vec3","(","0.0",")",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["GENERATED_MESH"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","a_position",".","y","<","0.0",")","{","NO",".","y","=","WATER_LEVEL","-","1.0",";","NP",".","y","=","NO",".","y",";","NQ",".","y","=","NO",".","y",";","}"]}]}}]},{type:"textline",tokens:["NP","=","normalize","(","NP","-","NO",")",";","NQ","=","normalize","(","NQ","-","NO",")",";","bL","=","normalize","(","cross","(","NQ",",","NP",")",")",";","NN","=","dot","(","bL",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","NN","=","clamp","(","0.8","-","NN",",","0.0",",","1.0",")",";","bL","=","mix","(","bL",",","vec3","(","0.0",",","1.0",",","0.0",")",",","NN",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_NORMALMAPS",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DYNAMIC",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["NQ","=","a_tangent",";","bL","=","a_normal",";"]}]}}]},{type:"textline",tokens:["bM","=","NQ",";","No","=","cross","(","bL",",","bM",")",";"]}]}}]},{type:"textline",tokens:["bJ","=","NO",";","vI","=","u_camera_eye","-","NO",";","NI","=","NT","*","vec4","(","NO",",","1.0",")",";","NJ","=","u_proj_matrix","*","NI",";"]},{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFRACTIVE",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["NN","=","NJ",".","x",";","NL","=","NJ",".","y",";","NM","=","NJ",".","w",";","bN",".","x","=","(","NN","+","NM",")","/","2.0",";","bN",".","y","=","(","NL","+","NM",")","/","2.0",";","bN",".","z","=","NM",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFRACTIVE","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["bO","=","-","NI",".","z","/","u_view_max_depth",";"]}]}}]},{type:"textline",tokens:["gl_Position","=","NJ",";","}"]}]},exports["postprocessing/antialiasing.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_color",";","uniform","vec2","u_texel_size",";","varying","vec2","bT",";"]},{type:"define",name:"AA_METHOD_FXAA_LIGHT",tokens:["1"]},{type:"define",name:"AA_METHOD_FXAA_QUALITY",tokens:["2"]},{type:"define",name:"AA_QUALITY_LOW",tokens:["0"]},{type:"define",name:"AA_QUALITY_MEDIUM",tokens:["1"]},{type:"define",name:"AA_QUALITY_HIGH",tokens:["2"]},{type:"condition",parts:[{type:"if",expression:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_REDUCE_MIN",tokens:["(","1.0","/","128.0",")"]},{type:"define",name:"FXAA_REDUCE_MUL",tokens:["(","1.0","/","8.0",")"]},{type:"define",name:"FXAA_SPAN_MAX",tokens:["8.0"]},{type:"textline",tokens:["vec4","Nt","(","float","Nn",",","float","Nr",")","{","vec2","Ns",";","Ns","=","bT","+","vec2","(","Nn",",","Nr",")","*","u_texel_size",";","return","texture2D","(","u_color",",","Ns",")",";","}","vec4","NG","(",")","{","vec2","Nu",";","float","Nv",",","Nw",",","Nx",",","Ny",",","Nz",",","NA",";","vec4","NB",",","NC",",","ND",",","NE",",","NF",";","NB","=","Nt","(","-","1.0",",","-","1.0",")",";","NC","=","Nt","(","1.0",",","-","1.0",")",";","ND","=","Nt","(","-","1.0",",","1.0",")",";","NE","=","Nt","(","1.0",",","1.0",")",";","NF","=","Nt","(","0.0",",","0.0",")",";","Nv","=","bI","(","NF",")",";","Nw","=","bI","(","NB",")",";","Nx","=","bI","(","NC",")",";","Ny","=","bI","(","ND",")",";","Nz","=","bI","(","NE",")",";","NA","=","min","(","Nv",",","min","(","min","(","Nw",",","Nx",")",",","min","(","Ny",",","Nz",")",")",")",";","Nv","=","max","(","Nv",",","max","(","max","(","Nw",",","Nx",")",",","max","(","Ny",",","Nz",")",")",")",";","Nu",".","x","=","-","(","(","Nw","+","Nx",")","-","(","Ny","+","Nz",")",")",";","Nu",".","y","=","(","(","Nw","+","Ny",")","-","(","Nx","+","Nz",")",")",";","Nz","=","max","(","(","Nw","+","Nx","+","Ny","+","Nz",")","*","(","0.25","*","FXAA_REDUCE_MUL",")",",","FXAA_REDUCE_MIN",")",";","Nz","=","1.0","/","(","min","(","abs","(","Nu",".","x",")",",","abs","(","Nu",".","y",")",")","+","Nz",")",";","Nu","=","min","(","vec2","(","FXAA_SPAN_MAX",",","FXAA_SPAN_MAX",")",",","max","(","vec2","(","-","FXAA_SPAN_MAX",",","-","FXAA_SPAN_MAX",")",",","Nu","*","Nz",")",")","*","u_texel_size",";","NE","=","0.5","*","(","texture2D","(","u_color",",","bT","+","Nu","*","(","1.0","/","3.0","-","0.5",")",")","+","texture2D","(","u_color",",","bT","+","Nu","*","(","2.0","/","3.0","-","0.5",")",")",")",";","ND","=","NE","*","0.5","+","0.25","*","(","texture2D","(","u_color",",","bT","+","Nu","*","-","0.5",")","+","texture2D","(","u_color",",","bT","+","Nu","*","0.5",")",")",";","Nz","=","bI","(","ND",")",";","if","(","(","Nz","<","NA",")","||","(","Nz",">","Nv",")",")","return","NE",";","else","return","ND",";","}"]}]}},{type:"elif",expression:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_GREEN_AS_LUMA",tokens:["1"]},{type:"define",name:"FXAA_BLEND4WEB",tokens:["1"]},{type:"include",file:"fxaa.glslf"},{type:"condition",parts:[{type:"if",expression:["AA_QUALITY","AA_QUALITY_HIGH",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PRESET",tokens:["39"]},{type:"define",name:"FXAA_QUALITY_SUBPIX",tokens:["1.00"]},{type:"define",name:"FXAA_QUALITY_EDGE_THRESHOLD",tokens:["0.063"]},{type:"define",name:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",tokens:["0.0312"]}]}},{type:"elif",expression:["AA_QUALITY","AA_QUALITY_MEDIUM",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PRESET",tokens:["20"]},{type:"define",name:"FXAA_QUALITY_SUBPIX",tokens:["0.65"]},{type:"define",name:"FXAA_QUALITY_EDGE_THRESHOLD",tokens:["0.166"]},{type:"define",name:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",tokens:["0.0625"]}]}},{type:"elif",expression:["AA_QUALITY","AA_QUALITY_LOW",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PRESET",tokens:["12"]},{type:"define",name:"FXAA_QUALITY_SUBPIX",tokens:["0.50"]},{type:"define",name:"FXAA_QUALITY_EDGE_THRESHOLD",tokens:["0.166"]},{type:"define",name:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",tokens:["0.0833"]}]}}]}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec2","Ox",";"]},{type:"condition",parts:[{type:"if",expression:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","NG","(",")",";"]}]}},{type:"elif",expression:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Ox","=","u_texel_size",";","gl_FragColor","=","Ow","(","bT",",","u_color",",","Ox",",","FXAA_QUALITY_SUBPIX",",","FXAA_QUALITY_EDGE_THRESHOLD",",","FXAA_QUALITY_EDGE_THRESHOLD_MIN",")",";"]}]}}]},{type:"textline",tokens:["}"]}]},exports["postprocessing/bloom_blur.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"textline",tokens:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";","varying","vec2","bT",";","void","main","(",")","{","vec4","Nn",";","vec2","Nr",",","Ns",";","Nr","=","vec2","(","0.0",",","0.0",")",";","Ns","=","u_texel_size",";","Nn","=","texture2D","(","u_color",",","bT",")",";","gl_FragColor","=","Nn","*","0.0875447373698",";","Nr","+=","Ns",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","+","Nr",")","*","0.0858112354248",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","-","Nr",")","*","0.0858112354248",";","Nr","+=","Ns",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","+","Nr",")","*","0.0808139781061",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","-","Nr",")","*","0.0808139781061",";","Nr","+=","Ns",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","+","Nr",")","*","0.0731235112908",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","-","Nr",")","*","0.0731235112908",";","Nr","+=","Ns",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","+","Nr",")","*","0.0635705267419",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","-","Nr",")","*","0.0635705267419",";","Nr","+=","Ns",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","+","Nr",")","*","0.0530985673112",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","-","Nr",")","*","0.0530985673112",";","Nr","+=","Ns",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","+","Nr",")","*","0.0426125984122",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","-","Nr",")","*","0.0426125984122",";","Nr","+=","Ns",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","+","Nr",")","*","0.0328565115809",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","-","Nr",")","*","0.0328565115809",";","Nr","+=","Ns",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","+","Nr",")","*","0.0243407024472",";","gl_FragColor","+=","texture2D","(","u_color",",","bT","-","Nr",")","*","0.0243407024472",";","gl_FragColor","=","max","(","0.7","*","Nn",",","gl_FragColor",")",";","}"]}]},exports["postprocessing/bloom_combine.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_bloom",";","varying","vec2","bT",";","void","main","(",")","{","vec4","Nn",",","Nr",";","Nn","=","texture2D","(","u_main",",","bT",")",";","Nr","=","texture2D","(","u_bloom",",","bT",")",";","gl_FragColor","=","Nn","+","Nr",";","}"]}]},exports["postprocessing/coc.glslf"] = {type:"group",parts:[{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"textline",tokens:["precision","PRECISION","sampler2D",";"]},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"depth_fetch.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";","uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front",";","uniform","float","u_dof_rear",";","uniform","vec2","u_camera_range",";","varying","vec2","bT",";","void","main","(",")","{","float","Nn",",","Nr",";","vec4","Ns",";","Ns","=","texture2D","(","u_color",",","bT",")",";","if","(","u_dof_dist",">","0.0",")","{","Nn","=","OD","(","u_depth",",","bT",",","u_camera_range",")",";","Nn","*=","u_view_max_depth",";","Nr","=","0.0",";","if","(","Nn","<","u_dof_dist",")","Nr","=","(","u_dof_dist","-","Nn",")","/","u_dof_front","/","1.5",";","else","if","(","Nn",">","u_dof_dist",")","Nr","=","(","Nn","-","u_dof_dist",")","/","u_dof_rear","/","4.0",";","Nr","=","clamp","(","Nr",",","0.0",",","1.0",")",";","gl_FragColor","=","vec4","(","Ns",".","xyz",",","Nr",")",";","}","else","gl_FragColor","=","vec4","(","Ns",".","xyz",",","0.0",")",";","}"]}]},exports["postprocessing/compositing.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"define",name:"PI_4",tokens:["0.785398163"]},{type:"textline",tokens:["uniform","sampler2D","u_color",";","uniform","float","u_brightness",";","uniform","float","u_contrast",";","uniform","float","u_exposure",";","uniform","float","u_saturation",";","varying","vec2","bT",";","void","main","(",")","{","float","Nn",";","vec3","Nr",";","vec4","Ns",";","Ns","=","texture2D","(","u_color",",","bT",")",";","Nr","=","Ns",".","rgb",";","if","(","u_brightness","<","0.0",")","Nr","=","Nr","*","(","1.0","+","u_brightness",")",";","else","Nr","=","Nr","+","(","(","1.0","-","Nr",")","*","u_brightness",")",";","Nr","=","(","Nr","-","0.5",")","*","(","tan","(","(","u_contrast","+","1.0",")","*","PI_4",")",")","+","0.5",";","Nr","*=","u_exposure",";","Nn","=","bI","(","vec4","(","Nr",",","0.0",")",")",";","Nr","=","mix","(","vec3","(","Nn",")",",","Nr",",","u_saturation",")",";","gl_FragColor","=","vec4","(","Nr",",","Ns",".","a",")",";","}"]}]},exports["postprocessing/depth_pack.glslf"] = {type:"group",parts:[{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"textline",tokens:["precision","PRECISION","sampler2D",";"]},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"pack.glslf"},{type:"include",file:"depth_fetch.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","varying","vec2","bT",";","void","main","(",")","{","gl_FragColor","=","ab","(","clamp","(","OD","(","u_depth",",","bT",",","u_camera_range",")",",","0.0",",","0.999999",")",")",";","}"]}]},exports["postprocessing/dof.glslf"] = {type:"group",parts:[{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"textline",tokens:["precision","PRECISION","sampler2D",";"]},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"std_enums.glsl"},{type:"condition",parts:[{type:"if",expression:["DOF_TYPE","DOF_BOKEH",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_sharp",";","uniform","sampler2D","u_blurred1",";","uniform","sampler2D","u_blurred2",";","uniform","float","u_dof_dist",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"include",file:"depth_fetch.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_sharp",";","uniform","sampler2D","u_blurred",";","uniform","sampler2D","u_depth",";","uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front",";","uniform","float","u_dof_rear",";","uniform","vec2","u_camera_range",";"]}]}}]},{type:"textline",tokens:["varying","vec2","bT",";","void","main","(",")","{","float","Nn",",","Nr",";","vec4","Ns",",","Nt",",","Nu",";","Ns","=","texture2D","(","u_sharp",",","bT",")",";","if","(","u_dof_dist",">","0.0",")","{"]},{type:"condition",parts:[{type:"if",expression:["DOF_TYPE","DOF_BOKEH",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:[";","Nt","=","texture2D","(","u_blurred1",",","bT",")",";","Nu","=","texture2D","(","u_blurred2",",","bT",")",";","Nn","=","min","(","Nt",".","a",",","Nu",".","a",")",";","if","(","Nn",">","0.0",")","{","Nt",".","xyz","=","min","(","Nt",".","xyz",",","Nu",".","xyz",")",";","gl_FragColor","=","vec4","(","mix","(","Ns",".","xyz",",","Nt",".","xyz",",","Nn",")",",","Ns",".","a",")",";","}","else","gl_FragColor","=","Ns",";"]}]}},{type:"elif",expression:["DOF_TYPE","DOF_SIMPLE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nn","=","OD","(","u_depth",",","bT",",","u_camera_range",")",";","Nn","*=","u_view_max_depth",";","if","(","Nn","<","u_dof_dist",")","Nr","=","(","u_dof_dist","-","Nn",")","/","u_dof_front",";","else","Nr","=","(","Nn","-","u_dof_dist",")","/","u_dof_rear",";","Nr","=","clamp","(","Nr",",","0.0",",","1.0",")",";","Nt","=","texture2D","(","u_blurred",",","bT",")",";","gl_FragColor","=","mix","(","Ns",",","Nt",",","Nr",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","Ns",";"]}]}}]},{type:"textline",tokens:["}","else","gl_FragColor","=","Ns",";","}"]}]},exports["postprocessing/glow.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_src_color",";","uniform","sampler2D","u_glow_mask_small",";","uniform","sampler2D","u_glow_mask_large",";","uniform","float","u_glow_mask_small_coeff",";","uniform","float","u_glow_mask_large_coeff",";","varying","vec2","bT",";","void","main","(",")","{","float","Nn",";","vec4","Nr",",","Ns",",","Nt",";","Nr","=","texture2D","(","u_src_color",",","bT",")",";","Ns","=","texture2D","(","u_glow_mask_small",",","bT",")",";","Nt","=","texture2D","(","u_glow_mask_large",",","bT",")",";","gl_FragColor","=","Nr",";","if","(","Nt",".","a","!=","0.0",")","{","Nn","=","u_glow_mask_large_coeff","*","Nt",".","a",";","Nn","=","clamp","(","Nn",",","0.0",",","1.0",")",";","gl_FragColor",".","rgb","=","mix","(","gl_FragColor",".","rgb",",","Nt",".","rgb","/","Nt",".","a",",","Nn",")",";","gl_FragColor",".","a","=","mix","(","gl_FragColor",".","a",",","1.0",",","Nn",")",";","}","if","(","Ns",".","a","!=","0.0",")","{","Nn","=","u_glow_mask_small_coeff","*","Ns",".","a",";","Nn","=","clamp","(","Nn",",","0.0",",","1.0",")",";","gl_FragColor",".","rgb","=","mix","(","gl_FragColor",".","rgb",",","Ns",".","rgb","/","Ns",".","a",",","Nn",")",";","gl_FragColor",".","a","=","mix","(","gl_FragColor",".","a",",","1.0",",","Nn",")",";","}","}"]}]},exports["postprocessing/god_rays.glslf"] = {type:"group",parts:[{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"textline",tokens:["precision","PRECISION","sampler2D",";"]},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"depth_fetch.glslf"},{type:"include",file:"procedural.glslf"},{type:"include",file:"pack.glslf"},{type:"var",name:"STEPS_PER_PASS",tokens:["0.0"]},{type:"textline",tokens:["uniform","float","u_time",";","uniform","float","u_radial_blur_step",";","uniform","sampler2D","u_input",";"]},{type:"condition",parts:[{type:"if",expression:["DEPTH_RGBA"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec2","u_camera_range",";"]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["varying","float","OE",";","varying","vec2","OF",";"]}]}}]}]}}]},{type:"textline",tokens:["varying","vec2","bT",";","varying","vec4","OG",";","void","main","(",")","{","vec4","OH",";","int","OI",";","float","OJ",",","OK",",","OL",",","OM",";","vec2","ON",",","OO",",","OP",";","ON","=","(","OG",".","xy","-","bT",")",";","OJ","=","length","(","ON",")",";","ON","=","u_radial_blur_step","*","ON","/","OJ",";","OK","=","OJ","/","u_radial_blur_step",";","ON","*=","min","(","OK",",","STEPS_PER_PASS",")","/","STEPS_PER_PASS",";","OK","=","max","(","OK",",","STEPS_PER_PASS",")",";","OO","=","bT",";","OL","=","0.0",";","const","int","OQ","=","int","(","STEPS_PER_PASS",")",";","OI","=","int","(","OK","+","0.5",")",";","for","(","int","OR","=","0",";","OR","<","OQ",";","OR","+=","1",")","{","if","(","OR","<=","OI",")","{"]},{type:"condition",parts:[{type:"if",expression:["DEPTH_RGBA"],group:{type:"group",parts:[{type:"textline",tokens:["OK","=","OD","(","u_input",",","OO",",","u_camera_range",")",";","OL","+=","max","(","(","1.0","-","pow","(","OJ",",","0.3",")",")","*","step","(","0.9",",","OK",")",",","0.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["OH","=","texture2D","(","u_input",",","OO",")",";","OL","+=","af","(","OH",")",";"]}]}}]},{type:"textline",tokens:["}","OO","+=","ON",";","}"]},{type:"condition",parts:[{type:"if",expression:["DEPTH_RGBA","WATER_EFFECTS",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["OP","=","bT","+","OF",";","OM","=","aF","(","vec2","(","2.5","*","(","OP",".","x",")",",","2.5","*","(","OP",".","y",")","+","1.0","*","u_time",")",")",".","x","+","0.75","*","aF","(","vec2","(","5.0","*","(","OP",".","x",")","-","0.66","*","u_time",",","5.0","*","(","OP",".","y",")","+","0.66","*","u_time",")",")",".","x","+","0.5","*","ba","(","vec2","(","7.5","*","(","OP",".","x",")","+","0.33","*","u_time",",","7.5","*","(","OP",".","y",")","-","0.33","*","u_time",")",")",";","OM","*=","clamp","(","1.2","-","sqrt","(","0.2","*","OJ",")",",","0.0",",","1.0",")","*","OE",";","OL","=","max","(","OM",",","OL",")",";"]}]}}]},{type:"textline",tokens:["gl_FragColor","=","ab","(","OL","/","STEPS_PER_PASS",")",";","}"]}]},exports["postprocessing/god_rays.glslv"] = {type:"group",parts:[{type:"include",file:"math.glslv"},{type:"textline",tokens:["attribute","vec2","a_bb_vertex",";","uniform","mat4","u_view_proj_matrix",";","uniform","vec3","u_sun_direction",";"]},{type:"condition",parts:[{type:"if",expression:["DEPTH_RGBA"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","vec4","u_camera_quat",";","uniform","float","u_cam_water_depth",";","varying","float","OE",";","varying","vec2","OF",";"]}]}}]}]}}]},{type:"textline",tokens:["varying","vec2","bT",";","varying","vec4","OG",";","void","main","(",")","{","float","Nn",",","Nr",";","vec3","Ns",";","bT","=","a_bb_vertex","+","0.5",";","Ns","=","normalize","(","u_sun_direction",")",";","OG","=","u_view_proj_matrix","*","vec4","(","Ns",",","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["DEPTH_RGBA","WATER_EFFECTS",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","u_cam_water_depth","<","0.0",")","{","OE","=","1.0",";","Ns","=","vec3","(","0.0",",","1.0",",","0.0",")",";","Ns","=","i","(","u_camera_quat",",","Ns",")",";","Ns","=","normalize","(","Ns",")",";","Nn","=","dot","(","Ns",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","Nr","=","atan","(","Ns",".","x",",","Ns",".","z",")",";","OF","=","vec2","(","-","Nr",",","acos","(","Nn",")",")",";","}","else","{","OE","=","0.0",";","}"]}]}}]},{type:"textline",tokens:["OG",".","xy","=","0.5","*","(","OG",".","xy","/","OG",".","w","+","1.0",")",";","OG","+=","99999.0","*","step","(","OG",".","z",",","0.0",")",";","gl_Position","=","vec4","(","2.0","*","a_bb_vertex",".","xy",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/god_rays_combine.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"include",file:"pack.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_god_rays",";","uniform","float","u_god_rays_intensity",";","uniform","vec3","u_sun_intensity",";","varying","vec2","bT",";","void","main","(",")","{","float","Nn",";","vec3","Nr",";","vec4","Ns",";","Ns","=","texture2D","(","u_main",",","bT",")",";","Nr","=","clamp","(","u_sun_intensity",",","0.4",",","0.8",")",";","by","(","Ns",".","rgb",")",";","Nn","=","af","(","texture2D","(","u_god_rays",",","bT",")",")",";","Nr","=","Ns",".","rgb","+","u_god_rays_intensity","*","vec3","(","Nn",")","*","Nr",";","bB","(","Nr",")",";"]},{type:"condition",parts:[{type:"if",expression:["SAFARI_CANVAS_ALPHA_HACK"],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","Nr",",","max","(","0.01",",","Ns",".","a",")",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","Nr",",","Ns",".","a",")",";"]}]}}]},{type:"textline",tokens:["}"]}]},exports["postprocessing/luminance.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_input",";","varying","vec2","bT",";","void","main","(",")","{","float","Nn",";","vec4","Nr",";","Nr","=","texture2D","(","u_input",",","bT",")",";","Nn","=","dot","(","Nr",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";","gl_FragColor","=","vec4","(","vec3","(","Nn",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_av.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_input",";","void","main","(",")","{","float","Nn",",","Nr",",","Ns",",","Nt",";","Nr","=","0.0",";","Ns","=","0.025",";","Nt","=","0.025",";","for","(","int","Nu","=","0",";","Nu","<","20",";","Nu","+=","1",")","{","Nt","=","0.025",";","for","(","int","Nv","=","0",";","Nv","<","20",";","Nv","+=","1",")","{","Nn","=","max","(","texture2D","(","u_input",",","vec2","(","Ns",",","Nt",")",")",".","r",",","0.01",")",";","Nr","+=","log","(","Nn",")",";","Nt","+=","0.05",";","}","Ns","+=","0.05",";","}","Nr","=","exp","(","Nr","/","400.0",")",";","gl_FragColor","=","vec4","(","vec3","(","Nr",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_trunced.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_luminance",";","uniform","sampler2D","u_average_lum",";","uniform","float","u_bloom_edge_lum",";","varying","vec2","bT",";","varying","float","OH",";","void","main","(",")","{","vec4","OI",";","float","OJ",",","OK",";","OJ","=","texture2D","(","u_average_lum",",","vec2","(","0.5",")",")",".","r",";","OK","=","texture2D","(","u_luminance",",","bT",")",".","r",";","OI","=","texture2D","(","u_main",",","bT",")",";","OJ","=","OK","/","OJ",";","OK","=","u_bloom_edge_lum",";","gl_FragColor","=","OI","*","max","(","OJ","-","OK",",","0.0",")","*","OH",";","}"]}]},exports["postprocessing/luminance_trunced.glslv"] = {type:"group",parts:[{type:"textline",tokens:["attribute","vec2","a_position",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_sun_direction",";","uniform","float","u_bloom_key",";","varying","vec2","bT",";","varying","float","OH",";","const","vec3","Nn","=","vec3","(","0.0",",","1.0",",","0.0",")",";","void","Ny","(","in","vec4","Nr",",","in","vec3","Ns",",","out","vec3","Nt",")","{","float","Nu",",","Nv",",","Nw",",","Nx",";","Nu","=","Nr",".","w","*","Ns",".","x","+","Nr",".","y","*","Ns",".","z","-","Nr",".","z","*","Ns",".","y",";","Nv","=","Nr",".","w","*","Ns",".","y","+","Nr",".","z","*","Ns",".","x","-","Nr",".","x","*","Ns",".","z",";","Nw","=","Nr",".","w","*","Ns",".","z","+","Nr",".","x","*","Ns",".","y","-","Nr",".","y","*","Ns",".","x",";","Nx","=","-","Nr",".","x","*","Ns",".","x","-","Nr",".","y","*","Ns",".","y","-","Nr",".","z","*","Ns",".","z",";","Nt",".","x","=","Nu","*","Nr",".","w","-","Nx","*","Nr",".","x","-","Nv","*","Nr",".","z","+","Nw","*","Nr",".","y",";","Nt",".","y","=","Nv","*","Nr",".","w","-","Nx","*","Nr",".","y","-","Nw","*","Nr",".","x","+","Nu","*","Nr",".","z",";","Nt",".","z","=","Nw","*","Nr",".","w","-","Nx","*","Nr",".","z","-","Nu","*","Nr",".","y","+","Nv","*","Nr",".","x",";","}","void","main","(",")","{","vec3","Nz",";","bT","=","2.0","*","a_position",";","Ny","(","u_camera_quat",",","Nn",",","Nz",")",";","OH","=","dot","(","-","Nz",",","u_sun_direction",")","*","u_bloom_key",";","OH","*=","max","(","sign","(","u_sun_direction",".","y",")",",","0.0",")",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/motion_blur.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_mb_tex_curr",";","uniform","sampler2D","u_mb_tex_accum",";","uniform","float","u_motion_blur_exp",";","uniform","float","u_motion_blur_decay_threshold",";","varying","vec2","bT",";","float","Nn","=","0.0042",";","void","main","(",")","{","vec4","Nr",",","Ns",",","Nt",",","Nu",";","Nr","=","texture2D","(","u_mb_tex_curr",",","bT",")",";","Ns","=","texture2D","(","u_mb_tex_accum",",","bT",")",";","if","(","length","(","Nr","-","Ns",")",">","u_motion_blur_decay_threshold",")","{","Nt","=","(","1.0","-","u_motion_blur_exp",")","*","Nr","+","u_motion_blur_exp","*","Ns",";","Nt","=","Nt","-","Ns",";","Nu","=","Nr","-","Ns",";","Nt","=","min","(","max","(","abs","(","Nt",")",",","vec4","(","Nn",")",")",",","abs","(","Nu",")",")","*","sign","(","Nt",")",";","gl_FragColor","=","Ns","+","Nt",";","}","else","{","gl_FragColor","=","Nr",";","}","}"]}]},exports["postprocessing/outline.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_outline_src",";","uniform","sampler2D","u_outline_mask",";","uniform","sampler2D","u_outline_mask_blurred",";","uniform","vec3","u_outline_color",";","uniform","float","u_draw_outline",";","varying","vec2","bT",";","void","main","(",")","{","vec3","Nn",";","float","Nr",";","vec4","Ns",",","Nt",",","Nu",";","Ns","=","texture2D","(","u_outline_src",",","bT",")",";","gl_FragColor","=","Ns",";","if","(","u_draw_outline","!=","0.0",")","{","Nt","=","texture2D","(","u_outline_mask",",","bT",")",";","Nu","=","texture2D","(","u_outline_mask_blurred",",","bT",")",";","Nr","=","Nu",".","a","-","Nt",".","a",";","if","(","Nr","!=","0.0",")","{","Nr","=","smoothstep","(","0.0",",","1.0",",","Nu",".","a",")",";","if","(","Nt",".","a","==","0.0",")","{","Nn","=","u_outline_color",";","bB","(","Nn",")",";","Nt","=","vec4","(","clamp","(","Nn",",","0.0",",","1.0",")",",","1.0",")",";","gl_FragColor","=","mix","(","Ns",",","Nt",",","Nr",")",";","}","}","}","}"]}]},exports["postprocessing/performance.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_color",";","varying","vec2","bT",";","void","main","(",")","{","vec4","Nn",";","Nn","=","vec4","(","0.0",")",";","for","(","int","Nr","=","0",";","Nr","<","100",";","Nr","++",")","Nn","+=","0.001","*","texture2D","(","u_color",",","bT","+","vec2","(","0.001","*","vec2","(","Nr",")",")",")",";","gl_FragColor","=","Nn",";","}"]}]},exports["postprocessing/postprocessing.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"define",name:"POST_EFFECT_NONE",tokens:["1"]},{type:"define",name:"POST_EFFECT_GRAYSCALE",tokens:["2"]},{type:"define",name:"POST_EFFECT_X_BLUR",tokens:["3"]},{type:"define",name:"POST_EFFECT_Y_BLUR",tokens:["4"]},{type:"define",name:"POST_EFFECT_X_GLOW_BLUR",tokens:["5"]},{type:"define",name:"POST_EFFECT_Y_GLOW_BLUR",tokens:["6"]},{type:"define",name:"POST_EFFECT_X_DOF_BLUR",tokens:["7"]},{type:"define",name:"POST_EFFECT_Y_DOF_BLUR",tokens:["8"]},{type:"define",name:"POST_EFFECT_X_EXTEND",tokens:["9"]},{type:"define",name:"POST_EFFECT_Y_EXTEND",tokens:["10"]},{type:"define",name:"FLIP_CUBEMAP_COORDS",tokens:["11"]},{type:"textline",tokens:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";"]},{type:"condition",parts:[{type:"if",expression:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","int","u_tex_number",";","uniform","vec2","u_delta",";"]}]}}]},{type:"textline",tokens:["varying","vec2","bT",";","void","main","(",")","{","float","Nn",",","Nr",",","Ns",",","Nt",";","vec2","Nu",",","Nv",";","vec4","Nw",",","Nx",",","Ny",";"]},{type:"condition",parts:[{type:"if",expression:["POST_EFFECT","POST_EFFECT_NONE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","texture2D","(","u_color",",","bT",")",";"]}]}},{type:"elif",expression:["POST_EFFECT","POST_EFFECT_GRAYSCALE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nw","=","texture2D","(","u_color",",","bT",")",";","gl_FragColor",".","rgb","=","vec3","(","(","Nw",".","r","+","Nw",".","g","+","Nw",".","b",")","/","3.0",")",";","gl_FragColor",".","a","=","1.0",";"]}]}},{type:"elif",expression:["POST_EFFECT","POST_EFFECT_X_BLUR",{type:"equal_expr",places:2},"POST_EFFECT","POST_EFFECT_Y_BLUR",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nu","=","vec2","(","0.0",",","0.0",")",";","Nv","=","u_texel_size",";","Nw","=","texture2D","(","u_color",",","bT",")",";","gl_FragColor","=","Nw","*","0.2270270270",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","0.1945945946",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","0.1945945946",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","0.1216216216",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","0.1216216216",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","0.0540540541",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","0.0540540541",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","0.0162162162",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","0.0162162162",";"]}]}},{type:"elif",expression:["POST_EFFECT","POST_EFFECT_X_GLOW_BLUR",{type:"equal_expr",places:2},"POST_EFFECT","POST_EFFECT_Y_GLOW_BLUR",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nu","=","vec2","(","0.0",",","0.0",")",";","Nv","=","u_texel_size",";","Nw","=","texture2D","(","u_color",",","bT",")",";","gl_FragColor","=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.152507",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.141763",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.141763",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.113861",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.113861",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.079019",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.079019",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.047383",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.047383",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.024549",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.024549",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.01099",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.01099",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.00425",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.00425",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.00142",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","gl_FragColor","+=","Nw","*","(","1.0","-","step","(","0.0",",","-","Nw",".","a",")",")","*","0.00142",";","gl_FragColor","=","clamp","(","gl_FragColor",",","0.0",",","1.0",")",";"]}]}},{type:"elif",expression:["POST_EFFECT","POST_EFFECT_X_DOF_BLUR",{type:"equal_expr",places:2},"POST_EFFECT","POST_EFFECT_Y_DOF_BLUR",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nu","=","vec2","(","0.0",",","0.0",")",";","Nv","=","u_texel_size",";","Nw","=","texture2D","(","u_color",",","bT",")",";","Nx","=","Nw",";","Ny","=","Nw",";","Nn","=","Nw",".","a",";","Nv","=","Nn","*","Nv",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nu","+=","Nv",";","Nw","=","texture2D","(","u_color",",","bT","+","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nw","=","texture2D","(","u_color",",","bT","-","Nu",")",";","Nx","+=","Nw",";","Ny","=","max","(","Ny",",","Nw",")",";","Nx","/=","13.0",";","gl_FragColor","=","vec4","(","mix","(","Nx",".","xyz",",","Ny",".","xyz",",","0.3",")",",","Nx",".","a",")",";"]}]}},{type:"elif",expression:["POST_EFFECT","POST_EFFECT_X_EXTEND",{type:"equal_expr",places:2},"POST_EFFECT","POST_EFFECT_Y_EXTEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nv","=","u_texel_size",";","Nw","=","texture2D","(","u_color",",","bT",")",";","gl_FragColor","=","Nw",";","if","(","Nw",".","a","==","0.0",")","{","Nw","=","texture2D","(","u_color",",","bT","+","Nv",")",";","if","(","Nw",".","a",">","0.0",")","gl_FragColor","=","vec4","(","1.0",",","1.0",",","1.0",",","Nw",".","a",")",";","else","{","Nw","=","texture2D","(","u_color",",","bT","-","Nv",")",";","if","(","Nw",".","a",">","0.0",")","gl_FragColor","=","vec4","(","1.0",",","1.0",",","1.0",",","Nw",".","a",")",";","}","}"]}]}},{type:"elif",expression:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nn","=","u_delta","[","0","]",";","Nr","=","u_delta","[","1","]",";","Ns","=","1.0","/","3.0",";","Nt","=","0.5",";","Nv","=","vec2","(","Ns",",","Nt",")",";","if","(","u_tex_number","==","0",")","{","Nu","=","bT","*","Nv","+","vec2","(","2.0","*","Ns",",","0.0",")",";","Nu","[","0","]","=","min","(","Nu","[","0","]",",","1.0","-","Nn",")",";","Nu","[","1","]","=","min","(","Nu","[","1","]",",","0.5","-","Nr",")",";","gl_FragColor","=","texture2D","(","u_color",",","vec2","(","5.0","*","Ns","-","Nu","[","0","]",",","Nu","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","1",")","{","Nu","=","bT","*","Nv",";","Nu","[","0","]","=","max","(","Nu","[","0","]",",","Nn",")",";","Nu","[","1","]","=","min","(","Nu","[","1","]",",","0.5","-","Nr",")",";","gl_FragColor","=","texture2D","(","u_color",",","vec2","(","Ns","-","Nu","[","0","]",",","Nu","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","2",")","{","Nu","=","bT","*","Nv","+","vec2","(","Ns",",","Nt",")",";","Nu","[","0","]","=","max","(","Nu","[","0","]",",","Ns","+","Nn",")",";","Nu","[","0","]","=","min","(","Nu","[","0","]",",","2.0","*","Ns","-","Nn",")",";","Nu","[","1","]","=","min","(","Nu","[","1","]",",","1.0","-","Nr",")",";","gl_FragColor","=","texture2D","(","u_color",",","vec2","(","Nu","[","0","]",",","3.0","*","Nt","-","Nu","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","3",")","{","Nu","=","bT","*","Nv","+","vec2","(","0.0",",","Nt",")",";","Nu","[","0","]","=","min","(","Nu","[","0","]",",","Ns","-","Nn",")",";","Nu","[","1","]","=","min","(","Nu","[","1","]",",","1.0","-","Nr",")",";","gl_FragColor","=","texture2D","(","u_color",",","vec2","(","Nu","[","0","]",",","3.0","*","Nt","-","Nu","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","4",")","{","Nu","=","bT","*","Nv","+","vec2","(","Ns",",","0.0",")",";","Nu","[","0","]","=","max","(","Nu","[","0","]",",","Ns","+","Nn",")",";","Nu","[","0","]","=","min","(","Nu","[","0","]",",","2.0","*","Ns","-","Nn",")",";","Nu","[","1","]","=","min","(","Nu","[","1","]",",","0.5","-","Nr",")",";","gl_FragColor","=","texture2D","(","u_color",",","vec2","(","1.0","-","Nu","[","0","]",",","Nu","[","1","]",")",")",";","}","else","{","Nv","=","bT","*","Nv","+","vec2","(","2.0","*","Ns",",","Nt",")",";","Nv","[","0","]","=","min","(","Nv","[","0","]",",","1.0","-","Nn",")",";","Nv","[","1","]","=","max","(","Nv","[","1","]",",","0.5","+","Nr",")",";","gl_FragColor","=","texture2D","(","u_color",",","vec2","(","5.0","*","Ns","-","Nv","[","0","]",",","Nv","[","1","]",")",")",";","}"]}]}}]},{type:"textline",tokens:["}"]}]},exports["postprocessing/postprocessing.glslv"] = {type:"group",parts:[{type:"textline",tokens:["attribute","vec2","a_position",";","varying","vec2","bT",";","void","main","(",")","{","bT","=","2.0","*","a_position",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/smaa.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"include",file:"pack.glslf"},{type:"define",name:"SMAA_RESOLVE",tokens:["1"]},{type:"define",name:"SMAA_EDGE_DETECTION",tokens:["2"]},{type:"define",name:"SMAA_BLENDING_WEIGHT_CALCULATION",tokens:["3"]},{type:"define",name:"SMAA_NEIGHBORHOOD_BLENDING",tokens:["4"]},{type:"define",name:"AA_METHOD_SMAA_LOW",tokens:["1"]},{type:"define",name:"AA_METHOD_SMAA_MEDIUM",tokens:["2"]},{type:"define",name:"AA_METHOD_SMAA_HIGH",tokens:["3"]},{type:"define",name:"AA_METHOD_SMAA_ULTRA",tokens:["4"]},{type:"textline",tokens:["uniform","sampler2D","u_color",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_RESOLVE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_color_prev",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_blend",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_REPROJECTION"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_velocity_tex",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_EDGE_DETECTION",{type:"equal_expr",places:2},"SMAA_PREDICATION",{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_predication_tex",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_search_tex",";","uniform","sampler2D","u_area_tex",";","uniform","vec4","u_subsample_indices",";"]}]}}]},{type:"textline",tokens:["uniform","vec2","u_texel_size",";","varying","vec2","bT",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","OI",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","OJ",";","varying","vec4","OK",";","varying","vec4","OL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","OM",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["AA_METHOD","AA_METHOD_SMAA_LOW",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"SMAA_THRESHOLD",tokens:["0.15"]},{type:"define",name:"SMAA_DISABLE_DIAG_DETECTION",tokens:["1"]},{type:"define",name:"SMAA_DISABLE_CORNER_DETECTION",tokens:["1"]}]}},{type:"elif",expression:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"SMAA_THRESHOLD",tokens:["0.1"]},{type:"define",name:"SMAA_DISABLE_DIAG_DETECTION",tokens:["1"]},{type:"define",name:"SMAA_DISABLE_CORNER_DETECTION",tokens:["1"]}]}},{type:"elif",expression:["AA_METHOD","AA_METHOD_SMAA_HIGH",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"SMAA_THRESHOLD",tokens:["0.1"]},{type:"define",name:"SMAA_DISABLE_DIAG_DETECTION",tokens:["0"]},{type:"define",name:"SMAA_MAX_SEARCH_STEPS_DIAG",tokens:["8"]},{type:"define",name:"SMAA_CORNER_ROUNDING",tokens:["25"]}]}},{type:"elif",expression:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"SMAA_THRESHOLD",tokens:["0.05"]},{type:"define",name:"SMAA_DISABLE_DIAG_DETECTION",tokens:["0"]},{type:"define",name:"SMAA_MAX_SEARCH_STEPS_DIAG",tokens:["16"]},{type:"define",name:"SMAA_CORNER_ROUNDING",tokens:["25"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_THRESHOLD",group:{type:"group",parts:[{type:"define",name:"SMAA_THRESHOLD",tokens:["0.1"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_DEPTH_THRESHOLD",group:{type:"group",parts:[{type:"define",name:"SMAA_DEPTH_THRESHOLD",tokens:["(","0.1","*","SMAA_THRESHOLD",")"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_MAX_SEARCH_STEPS_DIAG",group:{type:"group",parts:[{type:"define",name:"SMAA_MAX_SEARCH_STEPS_DIAG",tokens:["8"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_CORNER_ROUNDING",group:{type:"group",parts:[{type:"define",name:"SMAA_CORNER_ROUNDING",tokens:["25"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",group:{type:"group",parts:[{type:"define",name:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",tokens:["2.0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_PREDICATION",group:{type:"group",parts:[{type:"define",name:"SMAA_PREDICATION",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_PREDICATION_THRESHOLD",group:{type:"group",parts:[{type:"define",name:"SMAA_PREDICATION_THRESHOLD",tokens:["0.01"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_PREDICATION_SCALE",group:{type:"group",parts:[{type:"define",name:"SMAA_PREDICATION_SCALE",tokens:["2.0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_PREDICATION_STRENGTH",group:{type:"group",parts:[{type:"define",name:"SMAA_PREDICATION_STRENGTH",tokens:["0.4"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_REPROJECTION",group:{type:"group",parts:[{type:"define",name:"SMAA_REPROJECTION",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_REPROJECTION_WEIGHT_SCALE",group:{type:"group",parts:[{type:"define",name:"SMAA_REPROJECTION_WEIGHT_SCALE",tokens:["30.0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_MAX_SEARCH_STEPS",group:{type:"group",parts:[{type:"define",name:"SMAA_MAX_SEARCH_STEPS",tokens:["16"]}]}}]},{type:"define",name:"SMAA_AREATEX_MAX_DISTANCE",tokens:["16"]},{type:"define",name:"SMAA_AREATEX_MAX_DISTANCE_DIAG",tokens:["20"]},{type:"define",name:"SMAA_AREATEX_PIXEL_SIZE",tokens:["(","1.0","/","vec2","(","160.0",",","560.0",")",")"]},{type:"define",name:"SMAA_AREATEX_SUBTEX_SIZE",tokens:["(","1.0","/","7.0",")"]},{type:"define",name:"SMAA_SEARCHTEX_SIZE",tokens:["vec2","(","66.0",",","33.0",")"]},{type:"define",name:"SMAA_SEARCHTEX_PACKED_SIZE",tokens:["vec2","(","64.0",",","16.0",")"]},{type:"define",name:"SMAA_CORNER_ROUNDING_NORM",tokens:["(","float","(","SMAA_CORNER_ROUNDING",")","/","100.0",")"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_EDGE_DETECTION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vec3","OS","(","vec2","ON",",","sampler2D","OO",")","{","float","OP",",","OQ",",","OR",";","OP","=","texture2D","(","OO",",","ON",")",".","r",";","OQ","=","texture2D","(","OO",",","OJ",".","xy",")",".","r",";","OR","=","texture2D","(","OO",",","OJ",".","zw",")",".","r",";","return","vec3","(","OP",",","OQ",",","OR",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_EDGE_DETECTION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vec2","OX","(","vec2","OT",",","sampler2D","OU",")","{","vec2","OV",";","vec3","OW",";","OW","=","OS","(","OT",",","OU",")",";","OV","=","abs","(","OW",".","xx","-","OW",".","yz",")",";","OV","=","step","(","SMAA_PREDICATION_THRESHOLD",",","OV",")",";","return","SMAA_PREDICATION_SCALE","*","SMAA_THRESHOLD","*","(","1.0","-","SMAA_PREDICATION_STRENGTH","*","OV",")",";","}"]}]}}]},{type:"textline",tokens:["void","Pa","(","bvec2","OY",",","inout","vec2","OZ",",","vec2","O_",")","{","if","(","OY",".","x",")","OZ",".","x","=","O_",".","x",";","if","(","OY",".","y",")","OZ",".","y","=","O_",".","y",";","}","void","Pa","(","bvec4","Pb",",","inout","vec4","Pc",",","vec4","Pd",")","{","Pa","(","Pb",".","xy",",","Pc",".","xy",",","Pd",".","xy",")",";","Pa","(","Pb",".","zw",",","Pc",".","zw",",","Pd",".","zw",")",";","}","vec2","Pf","(","vec2","Pe",")","{","return","sign","(","Pe",")","*","floor","(","abs","(","Pe",")","+",".5",")",";","}","vec4","Pf","(","vec4","Pg",")","{","return","sign","(","Pg",")","*","floor","(","abs","(","Pg",")","+",".5",")",";","}"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_EDGE_DETECTION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vec2","Pt","(","vec2","Ph",",","sampler2D","Pi"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PREDICATION"],group:{type:"group",parts:[{type:"textline",tokens:[",","sampler2D","Pj"]}]}}]},{type:"textline",tokens:[")","{","vec4","Pk",";","float","Pl",",","Pm",",","Pn",",","Po",",","Pp",";","vec3","Pq",";","vec2","Pr",",","Ps",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PREDICATION"],group:{type:"group",parts:[{type:"textline",tokens:["Pr","=","OX","(","Ph",",","Pj",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Pr","=","vec2","(","SMAA_THRESHOLD",",","SMAA_THRESHOLD",")",";"]}]}}]},{type:"textline",tokens:["Pq","=","vec3","(","0.2126",",","0.7152",",","0.0722",")",";","Pl","=","dot","(","texture2D","(","Pi",",","Ph",")",".","rgb",",","Pq",")",";","Pm","=","dot","(","texture2D","(","Pi",",","OJ",".","xy",")",".","rgb",",","Pq",")",";","Pn","=","dot","(","texture2D","(","Pi",",","OJ",".","zw",")",".","rgb",",","Pq",")",";","Pk",".","xy","=","abs","(","Pl","-","vec2","(","Pm",",","Pn",")",")",";","Pr","=","step","(","Pr",",","Pk",".","xy",")",";","if","(","dot","(","Pr",",","vec2","(","1.0",",","1.0",")",")","==","0.0",")","discard",";","Po","=","dot","(","texture2D","(","Pi",",","OK",".","xy",")",".","rgb",",","Pq",")",";","Pp","=","dot","(","texture2D","(","Pi",",","OK",".","zw",")",".","rgb",",","Pq",")",";","Pk",".","zw","=","abs","(","Pl","-","vec2","(","Po",",","Pp",")",")",";","Ps","=","max","(","Pk",".","xy",",","Pk",".","zw",")",";","Pp","=","dot","(","texture2D","(","Pi",",","OL",".","xy",")",".","rgb",",","Pq",")",";","Po","=","dot","(","texture2D","(","Pi",",","OL",".","zw",")",".","rgb",",","Pq",")",";","Pk",".","zw","=","abs","(","vec2","(","Pm",",","Pn",")","-","vec2","(","Pp",",","Po",")",")",";","Ps","=","max","(","Ps",".","xy",",","Pk",".","zw",")",";","Po","=","max","(","Ps",".","x",",","Ps",".","y",")",";","Pr",".","xy","*=","step","(","Po",",","SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR","*","Pk",".","xy",")",";","return","Pr",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_DISABLE_DIAG_DETECTION",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["vec2","Pv","(","vec2","Pu",")","{","Pu",".","r","=","Pu",".","r","*","abs","(","5.0","*","Pu",".","r","-","5.0","*","0.75",")",";","return","Pf","(","Pu",")",";","}","vec4","Pv","(","vec4","Pw",")","{","Pw",".","rb","=","Pw",".","rb","*","abs","(","5.0","*","Pw",".","rb","-","5.0","*","0.75",")",";","return","Pf","(","Pw",")",";","}","vec2","PE","(","sampler2D","Px",",","vec2","Py",",","vec2","Pz",",","out","vec2","PA",")","{","vec3","PB",";","vec4","PC",";","PC","=","vec4","(","Py",",","-","1.0",",","1.0",")",";","PB","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","PD","=","0",";","PD","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","PD","++",")","{","if","(","PC",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","PC",".","w",">","0.9",")","{","PC",".","xyz","+=","PB","*","vec3","(","Pz",",","1.0",")",";","PA","=","texture2D","(","Px",",","PC",".","xy",",","0.0",")",".","rg",";","PC",".","w","=","dot","(","PA",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","PC",".","zw",";","}","vec2","PM","(","sampler2D","PF",",","vec2","PG",",","vec2","PH",",","out","vec2","PI",")","{","vec3","PJ",";","vec4","PK",";","PK","=","vec4","(","PG",",","-","1.0",",","1.0",")",";","PK",".","x","+=","0.25","*","u_texel_size",".","x",";","PJ","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","PL","=","0",";","PL","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","PL","++",")","{","if","(","PK",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","PK",".","w",">","0.9",")","{","PK",".","xyz","=","PJ","*","vec3","(","PH",",","1.0",")","+","PK",".","xyz",";","PI","=","texture2D","(","PF",",","PK",".","xy",",","0.0",")",".","rg",";","PI","=","Pv","(","PI",")",";","PK",".","w","=","dot","(","PI",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","PK",".","zw",";","}","vec2","PS","(","sampler2D","PN",",","vec2","PO",",","vec2","PP",",","float","PQ",")","{","vec2","PR",";","PR","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE_DIAG",",","SMAA_AREATEX_MAX_DISTANCE_DIAG",")","*","PP","+","PO",";","PR","=","SMAA_AREATEX_PIXEL_SIZE","*","PR","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","PR",".","x","+=","0.5",";","PR",".","y","+=","SMAA_AREATEX_SUBTEX_SIZE","*","PQ",";","return","texture2D","(","PN",",","PR",",","0.0",")",".","rg",";","}","vec2","Qd","(","sampler2D","PT",",","sampler2D","PU",",","vec2","PV",",","vec2","PW",",","vec4","PX",")","{","vec4","PY",",","PZ",",","P_",";","vec2","Qa",",","Qb",",","Qc",";","Qa","=","vec2","(","0.0",",","0.0",")",";","if","(","PW",".","r",">","0.0",")","{","PY",".","xz","=","PE","(","PT",",","PV",",","vec2","(","-","1.0",",","1.0",")",",","Qb",")",";","PY",".","x","+=","float","(","Qb",".","y",">","0.9",")",";","}","else","PY",".","xz","=","vec2","(","0.0",",","0.0",")",";","PY",".","yw","=","PE","(","PT",",","PV",",","vec2","(","1.0",",","-","1.0",")",",","Qb",")",";","if","(","PY",".","x","+","PY",".","y",">","2.0",")","{","PZ","=","vec4","(","-","PY",".","x","+","0.25",",","PY",".","x",",","PY",".","y",",","-","PY",".","y","-","0.25",")","*","u_texel_size",".","xyxy","+","PV",".","xyxy",";","P_",".","xy","=","texture2D","(","PT",",","PZ",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","rg",";","P_",".","zw","=","texture2D","(","PT",",","PZ",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","rg",";","P_",".","yxwz","=","Pv","(","P_",".","xyzw",")",";","Qc","=","vec2","(","2.0",",","2.0",")","*","P_",".","xz","+","P_",".","yw",";","Pa","(","bvec2","(","step","(","0.9",",","PY",".","zw",")",")",",","Qc",",","vec2","(","0.0",",","0.0",")",")",";","Qa","+=","PS","(","PU",",","PY",".","xy",",","Qc",",","PX",".","z",")",";","}","PY",".","xz","=","PM","(","PT",",","PV",",","vec2","(","-","1",",","-","1",")",",","Qb",")",";","if","(","texture2D","(","PT",",","PV","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",">","0.0",")","{","PY",".","yw","=","PM","(","PT",",","PV",",","vec2","(","1",",","1",")",",","Qb",")",";","PY",".","y","+=","float","(","Qb",".","y",">","0.9",")",";","}","else","PY",".","yw","=","vec2","(","0.0",",","0.0",")",";","if","(","PY",".","x","+","PY",".","y",">","2.0",")","{","P_","=","vec4","(","-","PY",".","x",",","-","PY",".","x",",","PY",".","y",",","PY",".","y",")","*","u_texel_size",".","xyxy","+","PV",".","xyxy",";","PZ",".","x","=","texture2D","(","PT",",","P_",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","g",";","PZ",".","y","=","texture2D","(","PT",",","P_",".","xy","+","u_texel_size","*","vec2","(","0",",","-","1",")",",","0.0",")",".","r",";","PZ",".","zw","=","texture2D","(","PT",",","P_",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","gr",";","Qb","=","vec2","(","2.0",",","2.0",")","*","PZ",".","xz","+","PZ",".","yw",";","Pa","(","bvec2","(","step","(","0.9",",","PY",".","zw",")",")",",","Qb",",","vec2","(","0",",","0",")",")",";","Qa","+=","PS","(","PU",",","PY",".","xy",",","Qb",",","PX",".","w",")",".","gr",";","}","return","Qa",";","}"]}]}}]},{type:"textline",tokens:["float","Qj","(","sampler2D","Qe",",","vec2","Qf",",","float","Qg",")","{","vec2","Qh",",","Qi",";","Qh","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","0.5",",","-","1.0",")",";","Qi","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","Qg",",","1.0",")",";","Qh","+=","vec2","(","-","1.0",",","1.0",")",";","Qi","+=","vec2","(","0.5",",","-","0.5",")",";","Qh","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","Qi","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","return","texture2D","(","Qe",",","Qh","*","Qf","+","Qi",",","0.0",")",".","r",";","}","float","Qr","(","sampler2D","Qk",",","sampler2D","Ql",",","vec2","Qm",",","float","Qn",")","{","float","Qo",";","vec2","Qp",";","Qp","=","vec2","(","0.0",",","1.0",")",";","for","(","int","Qq","=","0",";","Qq","<","SMAA_MAX_SEARCH_STEPS",";","Qq","++",")","{","if","(","Qm",".","x",">","Qn","&&","Qp",".","g",">","0.8281","&&","Qp",".","r","==","0.0",")","{","Qp","=","texture2D","(","Qk",",","Qm",",","0.0",")",".","rg",";","Qm","=","-","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","Qm",";","}","}","Qo","=","-","(","255.0","/","127.0",")","*","Qj","(","Ql",",","Qp",",","0.0",")","+","3.25",";","return","u_texel_size",".","x","*","Qo","+","Qm",".","x",";","}","float","Qz","(","sampler2D","Qs",",","sampler2D","Qt",",","vec2","Qu",",","float","Qv",")","{","float","Qw",";","vec2","Qx",";","Qx","=","vec2","(","0.0",",","1.0",")",";","for","(","int","Qy","=","0",";","Qy","<","SMAA_MAX_SEARCH_STEPS",";","Qy","++",")","{","if","(","Qu",".","x","<","Qv","&&","Qx",".","g",">","0.8281","&&","Qx",".","r","==","0.0",")","{","Qx","=","texture2D","(","Qs",",","Qu",",","0.0",")",".","rg",";","Qu","=","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","Qu",";","}","}","Qw","=","-","(","255.0","/","127.0",")","*","Qj","(","Qt",",","Qx",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","x","*","Qw","+","Qu",".","x",";","}","float","QH","(","sampler2D","QA",",","sampler2D","QB",",","vec2","QC",",","float","QD",")","{","float","QE",";","vec2","QF",";","QF","=","vec2","(","1.0",",","0.0",")",";","for","(","int","QG","=","0",";","QG","<","SMAA_MAX_SEARCH_STEPS",";","QG","++",")","{","if","(","QC",".","y",">","QD","&&","QF",".","r",">","0.8281","&&","QF",".","g","==","0.0",")","{","QF","=","texture2D","(","QA",",","QC",",","0.0",")",".","rg",";","QC","=","-","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","QC",";","}","}","QE","=","-","(","255.0","/","127.0",")","*","Qj","(","QB",",","QF",".","gr",",","0.0",")","+","3.25",";","return","u_texel_size",".","y","*","QE","+","QC",".","y",";","}","float","QP","(","sampler2D","QI",",","sampler2D","QJ",",","vec2","QK",",","float","QL",")","{","float","QM",";","vec2","QN",";","QN","=","vec2","(","1.0",",","0.0",")",";","for","(","int","QO","=","0",";","QO","<","SMAA_MAX_SEARCH_STEPS",";","QO","++",")","{","if","(","QK",".","y","<","QL","&&","QN",".","r",">","0.8281","&&","QN",".","g","==","0.0",")","{","QN","=","texture2D","(","QI",",","QK",",","0.0",")",".","rg",";","QK","=","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","QK",";","}","}","QM","=","-","(","255.0","/","127.0",")","*","Qj","(","QJ",",","QN",".","gr",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","y","*","QM","+","QK",".","y",";","}","vec2","QW","(","sampler2D","QQ",",","vec2","QR",",","float","QS",",","float","QT",",","float","QU",")","{","vec2","QV",";","QV","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE",",","SMAA_AREATEX_MAX_DISTANCE",")","*","Pf","(","4.0","*","vec2","(","QS",",","QT",")",")","+","QR",";","QV","=","SMAA_AREATEX_PIXEL_SIZE","*","QV","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","QV",".","y","=","SMAA_AREATEX_SUBTEX_SIZE","*","QU","+","QV",".","y",";","return","texture2D","(","QQ",",","QV",",","0.0",")",".","rg",";","}","void","Rc","(","sampler2D","QX",",","inout","vec2","QY",",","vec4","QZ",",","vec2","Q_",")","{","vec2","Ra",",","Rb",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_DISABLE_CORNER_DETECTION",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["Ra","=","step","(","Q_",".","xy",",","Q_",".","yx",")",";","Rb","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","Ra",";","Rb","/=","Ra",".","x","+","Ra",".","y",";","Ra","=","vec2","(","1.0",",","1.0",")",";","Ra",".","x","-=","Rb",".","x","*","texture2D","(","QX",",","QZ",".","xy","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","r",";","Ra",".","x","-=","Rb",".","y","*","texture2D","(","QX",",","QZ",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","r",";","Ra",".","y","-=","Rb",".","x","*","texture2D","(","QX",",","QZ",".","xy","+","u_texel_size","*","vec2","(","0",",","-","2",")",",","0.0",")",".","r",";","Ra",".","y","-=","Rb",".","y","*","texture2D","(","QX",",","QZ",".","zw","+","u_texel_size","*","vec2","(","1",",","-","2",")",",","0.0",")",".","r",";","QY","*=","clamp","(","Ra",",","0.0",",","1.0",")",";"]}]}}]},{type:"textline",tokens:["}","void","Rj","(","sampler2D","Rd",",","inout","vec2","Re",",","vec4","Rf",",","vec2","Rg",")","{","vec2","Rh",",","Ri",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_DISABLE_CORNER_DETECTION",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["Rh","=","step","(","Rg",".","xy",",","Rg",".","yx",")",";","Ri","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","Rh",";","Ri","/=","Rh",".","x","+","Rh",".","y",";","Rh","=","vec2","(","1.0",",","1.0",")",";","Rh",".","x","-=","Ri",".","x","*","texture2D","(","Rd",",","Rf",".","xy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","g",";","Rh",".","x","-=","Ri",".","y","*","texture2D","(","Rd",",","Rf",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","g",";","Rh",".","y","-=","Ri",".","x","*","texture2D","(","Rd",",","Rf",".","xy","+","u_texel_size","*","vec2","(","-","2",",","0",")",",","0.0",")",".","g",";","Rh",".","y","-=","Ri",".","y","*","texture2D","(","Rd",",","Rf",".","zw","+","u_texel_size","*","vec2","(","-","2",",","1",")",",","0.0",")",".","g",";","Re","*=","clamp","(","Rh",",","0.0",",","1.0",")",";"]}]}}]},{type:"textline",tokens:["}"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vec4","Rx","(","vec2","Rk",",","vec2","Rl",",","sampler2D","Rm",",","sampler2D","Rn",",","sampler2D","Ro",",","vec4","Rp",")","{","float","Rq",",","Rr",";","vec3","Rs",";","vec2","Rt",",","Ru",",","Rv",";","vec4","Rw",";","Rw","=","vec4","(","0.0",",","0.0",",","0.0",",","0.0",")",";","Rt","=","texture2D","(","Rm",",","Rk",")",".","rg",";","if","(","Rt",".","g",">","0.0",")","{"]},{type:"condition",parts:[{type:"if",expression:["SMAA_DISABLE_DIAG_DETECTION",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["Rw",".","rg","=","Qd","(","Rm",",","Rn",",","Rk",",","Rt",",","Rp",")",";","if","(","Rw",".","r","==","-","Rw",".","g",")","{"]}]}}]},{type:"textline",tokens:[";","Rs",".","x","=","Qr","(","Rm",",","Ro",",","OJ",".","xy",",","OL",".","x",")",";","Rs",".","y","=","OK",".","y",";","Ru",".","x","=","Rs",".","x",";","Rq","=","texture2D","(","Rm",",","Rs",".","xy",",","0.0",")",".","r",";","Rs",".","z","=","Qz","(","Rm",",","Ro",",","OJ",".","zw",",","OL",".","y",")",";","Ru",".","y","=","Rs",".","z",";","Ru","=","abs","(","Pf","(","Ru","/","u_texel_size",".","xx","-","Rl",".","xx",")",")",";","Rv","=","sqrt","(","Ru",")",";","Rr","=","texture2D","(","Rm",",","Rs",".","zy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",";","Rw",".","rg","=","QW","(","Rn",",","Rv",",","Rq",",","Rr",",","Rp",".","y",")",";","Rs",".","y","=","Rk",".","y",";","Rc","(","Rm",",","Rw",".","rg",",","Rs",".","xyzy",",","Ru",")",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_DISABLE_DIAG_DETECTION",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["}","else","Rt",".","r","=","0.0",";"]}]}}]},{type:"textline",tokens:["}","if","(","Rt",".","r",">","0.0",")","{",";","Rs",".","y","=","QH","(","Rm",",","Ro",",","OK",".","xy",",","OL",".","z",")",";","Rs",".","x","=","OJ",".","x",";","Rt",".","x","=","Rs",".","y",";","Rr","=","texture2D","(","Rm",",","Rs",".","xy",",","0.0",")",".","g",";","Rs",".","z","=","QP","(","Rm",",","Ro",",","OK",".","zw",",","OL",".","w",")",";","Rt",".","y","=","Rs",".","z",";","Rt","=","abs","(","Pf","(","Rt","/","u_texel_size",".","yy","-","Rl",".","yy",")",")",";","Ru","=","sqrt","(","Rt",")",";","Rq","=","texture2D","(","Rm",",","Rs",".","xz","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","g",";","Rw",".","ba","=","QW","(","Rn",",","Ru",",","Rr",",","Rq",",","Rp",".","x",")",";","Rs",".","x","=","Rk",".","x",";","Rj","(","Rm",",","Rw",".","ba",",","Rs",".","xyxz",",","Rt",")",";","}","return","Rw",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vec4","RJ","(","vec2","Ry",",","sampler2D","Rz",",","sampler2D","RA"]},{type:"condition",parts:[{type:"if",expression:["SMAA_REPROJECTION"],group:{type:"group",parts:[{type:"textline",tokens:[",","sampler2D","RB"]}]}}]},{type:"textline",tokens:[")","{","bool","RC",";","vec2","RD",",","RE",",","RF",";","vec4","RG",",","RH",",","RI",";","RG",".","x","=","texture2D","(","RA",",","OI",".","xy",")",".","a",";","RG",".","y","=","texture2D","(","RA",",","OI",".","zw",")",".","g",";","RG",".","wz","=","texture2D","(","RA",",","Ry",")",".","xz",";","if","(","dot","(","RG",",","vec4","(","1.0",",","1.0",",","1.0",",","1.0",")",")","<","1e-5",")","{","RH","=","texture2D","(","Rz",",","Ry",",","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_REPROJECTION"],group:{type:"group",parts:[{type:"textline",tokens:["RI","=","texture2D","(","RB",",","bT",")",";","RD","=","2.0","*","an","(","RI",")","-","1.0",";","RH",".","a","=","sqrt","(","2.0","*","length","(","RD",")",")",";"]}]}}]},{type:"textline",tokens:["return","RH",";","}","else","{","RC","=","max","(","RG",".","x",",","RG",".","z",")",">","max","(","RG",".","y",",","RG",".","w",")",";","RH","=","vec4","(","0.0",",","RG",".","y",",","0.0",",","RG",".","w",")",";","RD","=","RG",".","yw",";","Pa","(","bvec4","(","RC",",","RC",",","RC",",","RC",")",",","RH",",","vec4","(","RG",".","x",",","0.0",",","RG",".","z",",","0.0",")",")",";","Pa","(","bvec2","(","RC",",","RC",")",",","RD",",","RG",".","xz",")",";","RD","/=","dot","(","RD",",","vec2","(","1.0",",","1.0",")",")",";","RH","=","RH","*","vec4","(","u_texel_size",",","-","u_texel_size",")","+","Ry",".","xyxy",";","RG","=","RD",".","x","*","texture2D","(","Rz",",","RH",".","xy",",","0.0",")",";","RG","+=","RD",".","y","*","texture2D","(","Rz",",","RH",".","zw",",","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_REPROJECTION"],group:{type:"group",parts:[{type:"textline",tokens:["RI","=","texture2D","(","RB",",","RH",".","xy",")",";","RE","=","2.0","*","an","(","RI",")","-","1.0",";","RF","=","RD",".","x","*","RE",";","RI","=","texture2D","(","RB",",","RH",".","zw",")",";","RE","=","2.0","*","an","(","RI",")","-","1.0",";","RF","+=","RD",".","y","*","RE",";","RG",".","a","=","sqrt","(","2.0","*","length","(","RF",")",")",";"]}]}}]},{type:"textline",tokens:["return","RG",";","}","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_RESOLVE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vec4","RT","(","vec2","RK",",","sampler2D","RL",",","sampler2D","RM"]},{type:"condition",parts:[{type:"if",expression:["SMAA_REPROJECTION"],group:{type:"group",parts:[{type:"textline",tokens:[",","sampler2D","RN"]}]}}]},{type:"textline",tokens:[")","{","float","RO",";","vec2","RP",";","vec4","RQ",",","RR",",","RS",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_REPROJECTION"],group:{type:"group",parts:[{type:"textline",tokens:["RQ","=","texture2D","(","RN",",","bT",")",";","RP","=","2.0","*","an","(","RQ",")","-","1.0",";","RQ","=","texture2D","(","RL",",","RK",")",";","RR","=","texture2D","(","RM",",","RK","-","RP",")",";","RO","=","abs","(","RQ",".","a","*","RQ",".","a","-","RR",".","a","*","RR",".","a",")","/","2.0",";","RO","=","0.5","*","clamp","(","1.0","-","sqrt","(","RO",")","*","SMAA_REPROJECTION_WEIGHT_SCALE",",","0.0",",","1.0",")",";","RS","=","mix","(","RQ",",","RR",",","RO",")",";","RS",".","a","=","1.0",";","return","RS",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["RQ","=","texture2D","(","RL",",","RK",")",";","RR","=","texture2D","(","RM",",","RK",")",";","return","mix","(","RQ",",","RR",",","0.5",")",";"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec4","RU",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_EDGE_DETECTION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["RU","=","vec4","(","Pt","(","bT",",","u_color"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PREDICATION"],group:{type:"group",parts:[{type:"textline",tokens:[",","u_predication_tex"]}]}}]},{type:"textline",tokens:[")",",","0.0",",","0.0",")",";"]}]}},{type:"elif",expression:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["RU","=","Rx","(","bT",",","OM",",","u_color",",","u_area_tex",",","u_search_tex",",","u_subsample_indices",")",";"]}]}},{type:"elif",expression:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["RU","=","RJ","(","bT",",","u_color",",","u_blend"]},{type:"condition",parts:[{type:"if",expression:["SMAA_REPROJECTION"],group:{type:"group",parts:[{type:"textline",tokens:[",","u_velocity_tex"]}]}}]},{type:"textline",tokens:[")",";"]}]}},{type:"elif",expression:["SMAA_PASS","SMAA_RESOLVE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["RU","=","vec4","(","RT","(","bT",",","u_color",",","u_color_prev"]},{type:"condition",parts:[{type:"if",expression:["SMAA_REPROJECTION"],group:{type:"group",parts:[{type:"textline",tokens:[",","u_velocity_tex"]}]}}]},{type:"textline",tokens:[")",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["RU","=","texture2D","(","u_color",",","bT",")",";"]}]}}]},{type:"textline",tokens:["gl_FragColor","=","RU",";","}"]}]},exports["postprocessing/smaa.glslv"] = {type:"group",parts:[{type:"define",name:"SMAA_EDGE_DETECTION",tokens:["1"]},{type:"define",name:"SMAA_BLENDING_WEIGHT_CALCULATION",tokens:["2"]},{type:"define",name:"SMAA_NEIGHBORHOOD_BLENDING",tokens:["3"]},{type:"define",name:"AA_METHOD_SMAA_LOW",tokens:["1"]},{type:"define",name:"AA_METHOD_SMAA_MEDIUM",tokens:["2"]},{type:"define",name:"AA_METHOD_SMAA_HIGH",tokens:["3"]},{type:"define",name:"AA_METHOD_SMAA_ULTRA",tokens:["4"]},{type:"textline",tokens:["attribute","vec2","a_position",";","uniform","vec2","u_texel_size",";","varying","vec2","bT",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","OI",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["varying","vec4","OJ",";","varying","vec4","OK",";","varying","vec4","OL",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec2","OM",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["AA_METHOD","AA_METHOD_SMAA_LOW",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"SMAA_MAX_SEARCH_STEPS",tokens:["4"]}]}},{type:"elif",expression:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"SMAA_MAX_SEARCH_STEPS",tokens:["8"]}]}},{type:"elif",expression:["AA_METHOD","AA_METHOD_SMAA_HIGH",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"SMAA_MAX_SEARCH_STEPS",tokens:["16"]}]}},{type:"elif",expression:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"SMAA_MAX_SEARCH_STEPS",tokens:["32"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"SMAA_MAX_SEARCH_STEPS",group:{type:"group",parts:[{type:"define",name:"SMAA_MAX_SEARCH_STEPS",tokens:["16"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_EDGE_DETECTION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["void","Nr","(","vec2","Nn",")","{","OJ","=","u_texel_size",".","xyxy","*","vec4","(","-","1.0",",","0.0",",","0.0",",","-","1.0",")","+","Nn",".","xyxy",";","OK","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","Nn",".","xyxy",";","OL","=","u_texel_size",".","xyxy","*","vec4","(","-","2.0",",","0.0",",","0.0",",","-","2.0",")","+","Nn",".","xyxy",";","}"]}]}},{type:"elif",expression:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["void","Nu","(","vec2","Ns",",","out","vec2","Nt",")","{","Nt","=","Ns","/","u_texel_size",";","OJ","=","u_texel_size",".","xyxy","*","vec4","(","-","0.25",",","-","0.125",",","1.25",",","-","0.125",")","+","Ns",".","xyxy",";","OK","=","u_texel_size",".","xyxy","*","vec4","(","-","0.125",",","-","0.25",",","-","0.125",",","1.25",")","+","Ns",".","xyxy",";","OL","=","u_texel_size",".","xxyy","*","vec4","(","-","2.0",",","2.0",",","-","2.0",",","2.0",")","*","float","(","SMAA_MAX_SEARCH_STEPS",")","+","vec4","(","OJ",".","xz",",","OK",".","yw",")",";","}"]}]}},{type:"elif",expression:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["void","Nw","(","vec2","Nv",")","{","OI","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","Nv",".","xyxy",";","}"]}]}}]},{type:"textline",tokens:["void","main","(",")","{","bT","=","2.0","*","a_position",";"]},{type:"condition",parts:[{type:"if",expression:["SMAA_PASS","SMAA_EDGE_DETECTION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nr","(","bT",")",";"]}]}},{type:"elif",expression:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nu","(","bT",",","OM",")",";"]}]}},{type:"elif",expression:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Nw","(","bT",")",";"]}]}}]},{type:"textline",tokens:["gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/ssao.glslf"] = {type:"group",parts:[{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"textline",tokens:["precision","PRECISION","sampler2D",";"]},{type:"include",file:"precision_statement.glslf"},{type:"include",file:"depth_fetch.glslf"},{type:"include",file:"procedural.glslf"},{type:"define",name:"SSAO_QUALITY_8",tokens:["1"]},{type:"define",name:"SSAO_QUALITY_16",tokens:["2"]},{type:"define",name:"SSAO_QUALITY_24",tokens:["3"]},{type:"define",name:"SSAO_QUALITY_32",tokens:["4"]},{type:"textline",tokens:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";","uniform","sampler2D","u_ssao_special_tex",";","uniform","vec2","u_camera_range",";","uniform","vec2","u_texel_size",";","varying","vec2","bT",";","uniform","float","u_ssao_radius_increase",";","uniform","float","u_ssao_influence",";","uniform","float","u_ssao_dist_factor",";","float","Nr","(","in","vec2","Nn",")","{","return","OD","(","u_depth",",","Nn",",","u_camera_range",")",";","}","void","main","(",")","{","float","Ns",",","Nt",",","Nu",",","Nv",",","Nw",",","Nx",";","vec3","Ny",",","Nz",",","NA",",","NB",";","Ny","=","texture2D","(","u_color",",","bT",")",".","rgb",";"]},{type:"condition",parts:[{type:"if",expression:["SSAO_WHITE"],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","Ny",",","1.0",")",";","return",";"]}]}}]},{type:"textline",tokens:["Nz","=","normalize","(","2.0","*","texture2D","(","u_ssao_special_tex",",","bT","*","0.25","/","u_texel_size",")",".","rgb","-","1.0",")",";","Ns","=","Nr","(","bT",")",";","Nt","=","Ns","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";"]},{type:"condition",parts:[{type:"if",expression:["SSAO_QUALITY","SSAO_QUALITY_8",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["const","float","NC","=","8.0",";","const","int","ND","=","1",";"]}]}},{type:"elif",expression:["SSAO_QUALITY","SSAO_QUALITY_16",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["const","float","NC","=","16.0",";","const","int","ND","=","2",";"]}]}},{type:"elif",expression:["SSAO_QUALITY","SSAO_QUALITY_24",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["const","float","NC","=","24.0",";","const","int","ND","=","3",";"]}]}},{type:"elif",expression:["SSAO_QUALITY","SSAO_QUALITY_32",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["const","float","NC","=","32.0",";","const","int","ND","=","4",";"]}]}}]},{type:"textline",tokens:["Nu","=","u_ssao_radius_increase","*","0.001",";","const","float","NE","=","1.0","+","2.4","/","NC",";","Nv","=","0.0",";","for","(","int","NF","=","0",";","NF","<","ND",";","NF","++",")","for","(","int","NG","=","-","1",";","NG","<=","1",";","NG","+=","2",")","for","(","int","ON","=","-","1",";","ON","<=","1",";","ON","+=","2",")","for","(","int","OO","=","-","1",";","OO","<=","1",";","OO","+=","2",")","{","NA","=","reflect","(","normalize","(","vec3","(","NG",",","ON",",","OO",")",")",",","Nz",")","*","(","Nu","*=","NE",")",";","NB","=","vec3","(","bT",",","Nt",")",";","NB","+=","vec3","(","NA",".","xy",",","NA",".","z","*","Nt","*","2.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["SSAO_HEMISPHERE"],group:{type:"group",parts:[{type:"textline",tokens:["NB",".","z","-=","1.4","*","(","NB",".","z","-","Nt",")","*","step","(","Nt",",","NB",".","z",")",";"]}]}}]},{type:"textline",tokens:["Nw","=","Nr","(","NB",".","xy",")","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";","Nx","=","clamp","(","(","Nt","-","Nw",")","/","Nw",",","0.0",",","1.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["SSAO_HEMISPHERE"],group:{type:"group",parts:[{type:"textline",tokens:["Nv","+=","mix","(","1.0",",","Nx",",","step","(","Nw",",","NB",".","z",")",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Nv","+=","mix","(","step","(","NB",".","z",",","Nw",")",",","0.5",",","Nx",")",";"]}]}}]},{type:"textline",tokens:["}","Nv","=","Nv","/","NC",";"]},{type:"condition",parts:[{type:"if",expression:["SSAO_HEMISPHERE"],group:{type:"group",parts:[{type:"textline",tokens:["Nv","=","clamp","(","Nv","*","Nv","+","0.6","*","Nv",",","0.0",",","1.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Nv","=","clamp","(","Nv","*","Nv","+","Nv",",","0.0",",","1.0",")",";"]}]}}]},{type:"textline",tokens:["Ns","=","u_ssao_influence","*","(","1.0","-","u_ssao_dist_factor","*","Ns",")",";","Nv","=","mix","(","1.0",",","Nv",",","Ns",")",";","gl_FragColor","=","vec4","(","Ny",",","Nv",")",";","}"]}]},exports["postprocessing/ssao_blur.glslf"] = {type:"group",parts:[{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"textline",tokens:["precision","PRECISION","sampler2D",";"]},{type:"include",file:"precision_statement.glslf"},{type:"condition",parts:[{type:"if",expression:["SSAO_BLUR_DEPTH"],group:{type:"group",parts:[{type:"include",file:"depth_fetch.glslf"}]}}]},{type:"textline",tokens:["uniform","sampler2D","u_ssao_mask",";","uniform","vec2","u_texel_size",";","varying","vec2","bT",";"]},{type:"condition",parts:[{type:"if",expression:["SSAO_BLUR_DEPTH"],group:{type:"group",parts:[{type:"textline",tokens:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","uniform","float","u_ssao_blur_discard_value",";","float","Nr","(","in","vec2","Nn",")","{","return","OD","(","u_depth",",","Nn",",","u_camera_range",")",";","}"]}]}}]},{type:"textline",tokens:["void","main","(",")","{","vec2","Ns",",","Nt",";","float","Nu",",","Nv",",","Nw",",","Nx",",","Ny",",","Nz",",","NA",";","Nu","=","0.0",";"]},{type:"condition",parts:[{type:"if",expression:["SSAO_BLUR_DEPTH"],group:{type:"group",parts:[{type:"textline",tokens:["Nv","=","Nr","(","bT",")",";","Nw","=","0.0",";","Nx","=","u_ssao_blur_discard_value","*","100.0",";"]}]}}]},{type:"textline",tokens:["Ns","=","vec2","(","-","2.0",")",";","for","(","int","NB","=","0",";","NB","<","4",";","++","NB",")","{","for","(","int","NC","=","0",";","NC","<","4",";","++","NC",")","{","Nt","=","(","Ns","+","vec2","(","float","(","NB",")",",","float","(","NC",")",")",")","*","u_texel_size",";","Ny","=","texture2D","(","u_ssao_mask",",","bT","+","Nt",")",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["SSAO_BLUR_DEPTH"],group:{type:"group",parts:[{type:"textline",tokens:["Nz","=","Nr","(","bT","+","Nt",")",";","NA","=","1.0","-","clamp","(","abs","(","Nz","-","Nv",")","*","Nx",",","0.0",",","1.0",")",";","Nu","+=","Ny","*","NA",";","Nw","+=","NA",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Nu","+=","Ny",";"]}]}}]},{type:"textline",tokens:["}","}"]},{type:"condition",parts:[{type:"if",expression:["SSAO_BLUR_DEPTH"],group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","texture2D","(","u_ssao_mask",",","bT",")",".","rgb",",","Nu","/","Nw",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["gl_FragColor","=","vec4","(","texture2D","(","u_ssao_mask",",","bT",")",".","rgb",",","Nu","/","16.0",")",";"]}]}}]},{type:"textline",tokens:["}"]}]},exports["postprocessing/stereo.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"include",file:"color_util.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_sampler_left",";","uniform","sampler2D","u_sampler_right",";","varying","vec2","bT",";"]},{type:"condition",parts:[{type:"if",expression:["ANAGLYPH",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["uniform","int","u_enable_hmd_stereo",";","uniform","vec4","u_distortion_params",";","uniform","vec4","u_chromatic_aberration_coefs",";","void","NA","(","vec2","Nn",",","vec2","Nr",",","float","Ns",",","sampler2D","Nt",")","{","vec4","Nu",";","float","Nv",";","vec2","Nw",",","Nx",",","Ny",",","Nz",";","Nw","=","(","Nn","-","Nr",")","*","2.0",";","Nw","/=","Ns",";","Nv","=","Nw",".","x","*","Nw",".","x","+","Nw",".","y","*","Nw",".","y",";","Nw","=","Nw","*","(","1.0","+","u_distortion_params","[","0","]","*","Nv","+","u_distortion_params","[","1","]","*","Nv","*","Nv",")",";","Nw","=","Nw","*","0.5","/","(","1.0","+","u_distortion_params","[","0","]","+","u_distortion_params","[","1","]",")",";","if","(","length","(","u_chromatic_aberration_coefs",")",">","0.0",")","{","Nx","=","Nw","*","(","1.0","+","u_chromatic_aberration_coefs","[","0","]","+","Nv","*","u_chromatic_aberration_coefs","[","1","]",")","+","Nr",";","Ny","=","Nw","+","Nr",";","Nz","=","Nw","*","(","1.0","+","u_chromatic_aberration_coefs","[","2","]","+","Nv","*","u_chromatic_aberration_coefs","[","3","]",")","+","Nr",";","if","(","clamp","(","Nz",",","0.0",",","1.0",")","!=","Nz",")","{","gl_FragColor","=","vec4","(","0.0",")",";","}","else","{","Nu","=","texture2D","(","Nt",",","Ny",")",";","gl_FragColor","[","0","]","=","texture2D","(","Nt",",","Nx",")",".","x",";","gl_FragColor","[","1","]","=","Nu",".","y",";","gl_FragColor","[","2","]","=","texture2D","(","Nt",",","Nz",")",".","z",";","gl_FragColor","[","3","]","=","Nu",".","w",";","}","}","else","{","Nw","=","Nw","*","Ns","+","Nr",";","if","(","clamp","(","Nw",",","0.0",",","1.0",")","!=","Nw",")","{","gl_FragColor","=","vec4","(","0.0",")",";","}","else","{","gl_FragColor","=","texture2D","(","Nt",",","Nw",")",";","}","}","}"]}]}}]},{type:"textline",tokens:["void","main","(",")","{","float","NB",";","vec2","NC",",","ND",";","mat3","NE",",","NF",";","vec3","NG",",","ON",";","vec4","OO",",","OP",";"]},{type:"condition",parts:[{type:"if",expression:["ANAGLYPH"],group:{type:"group",parts:[{type:"textline",tokens:["OO","=","texture2D","(","u_sampler_left",",","bT",")",";","OP","=","texture2D","(","u_sampler_right",",","bT",")",";","NG","=","vec3","(","OO","[","0","]",",","OO","[","1","]",",","OO","[","2","]",")",";","by","(","NG",")",";","ON","=","vec3","(","OP","[","0","]",",","OP","[","1","]",",","OP","[","2","]",")",";","by","(","ON",")",";","NE","=","mat3","(","0.437",",","-","0.062",",","-","0.048",",","0.449",",","-","0.062",",","-","0.050",",","0.164",",","-","0.024",",","-","0.017",")",";","NF","=","mat3","(","-","0.011",",","0.377",",","-","0.026",",","-","0.032",",","0.761",",","-","0.093",",","-","0.007",",","0.009",",","1.234",")",";","ON","=","clamp","(","NE","*","NG",",","0.0",",","1.0",")","+","clamp","(","NF","*","ON",",","0.0",",","1.0",")",";","bB","(","ON",")",";","gl_FragColor","=","vec4","(","ON",",","OO","[","3","]","+","OP","[","3","]",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["if","(","u_enable_hmd_stereo","!=","0",")","{","if","(","bT","[","0","]","<","0.5",")","{","NC","=","vec2","(","2.0","*","bT","[","0","]",",","bT","[","1","]",")",";","ND","=","vec2","(","0.5","-","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","NB","=","2.0","*","u_distortion_params","[","3","]",";","NA","(","NC",",","ND",",","NB",",","u_sampler_left",")",";","}","else","{","ND","=","vec2","(","2.0","*","(","bT","[","0","]","-","0.5",")",",","bT","[","1","]",")",";","NC","=","vec2","(","0.5","+","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","NB","=","2.0","*","u_distortion_params","[","3","]",";","NA","(","ND",",","NC",",","NB",",","u_sampler_right",")",";","}","}","else","{","gl_FragColor","=","texture2D","(","u_sampler_left",",","bT",")",";","}"]}]}}]},{type:"textline",tokens:["}"]}]},exports["postprocessing/velocity.glslf"] = {type:"group",parts:[{type:"include",file:"precision_statement.glslf"},{type:"include",file:"pack.glslf"},{type:"textline",tokens:["uniform","sampler2D","u_depth",";","uniform","mat4","u_view_proj_inverse",";","uniform","mat4","u_view_proj_prev",";","varying","vec2","bT",";","void","main","(",")","{","vec2","Nn",";","vec4","Nr",",","Ns",";","float","Nt",";","Nt","=","texture2D","(","u_depth",",","bT",")",".","x",";","Nr","=","vec4","(","bT","*","2.0","-","1.0",",","2.0","*","Nt","-","1.0",",","1.0",")",";","Ns","=","u_view_proj_inverse","*","Nr",";","Ns","=","Ns","/","Ns",".","w",";","Ns","=","u_view_proj_prev","*","Ns",";","Ns","/=","Ns",".","w",";","Nn","=","(","Nr",".","xy","-","Ns",".","xy",")","/","4.0","+","0.5",";","Nn","=","clamp","(","Nn",",","0.0",",","1.0",")",";","gl_FragColor","=","ab","(","Nn",")",";","}"]}]},exports["include/precision_statement.glslf"] = {type:"group",parts:[{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"textline",tokens:["precision","PRECISION","float",";"]}]},exports["include/math.glslv"] = {type:"group",parts:[{type:"var",name:"EPSILON",tokens:["0.0001"]},{type:"textline",tokens:["float","a","=","0.0",";","float","b","=","1.0",";","struct","c","{","vec3","a",";","vec3","b",";","vec3","c",";","vec3","d",";","vec3","e",";","vec3","f",";","}",";","bool","f","(","vec3","d",",","vec3","e",")","{","return","any","(","lessThan","(","abs","(","d","-","e",")",",","vec3","(","EPSILON",")",")",")",";","}","vec3","i","(","in","vec4","g",",","in","vec3","h",")","{","return","h","+","2.0","*","cross","(","g",".","xyz",",","cross","(","g",".","xyz",",","h",")","+","g",".","w","*","h",")",";","}","vec4","k","(","in","vec4","j",")","{","return","vec4","(","-","j",".","xyz",",","j",".","w",")","/","dot","(","j",",","j",")",";","}","vec3","p","(","vec4","l",",","vec4","m",",","vec4","n",")","{","vec3","o",";","o","=","n",".","xyz","*","l",".","w",";","o","=","i","(","m",",","o",")",";","o","+=","l",".","xyz","*","n",".","w",";","return","o",";","}","vec3","v","(","vec4","q",",","vec4","r",",","vec4","s",")","{","vec4","t",";","vec3","u",";","u","=","s",".","xyz","-","q",".","xyz","*","s",".","w",";","t","=","k","(","r",")",";","u","=","i","(","t",",","u",")",";","u","/=","q",".","w",";","return","u",";","}","mat4","w","(",")","{","return","mat4","(","b",",","a",",","a",",","a",",","a",",","b",",","a",",","a",",","a",",","a",",","b",",","a",",","a",",","a",",","a",",","b",")",";","}","mat4","y","(","float","x",")","{","return","mat4","(","b",",","a",",","a",",","a",",","a",",","cos","(","x",")",",","sin","(","x",")",",","a",",","a",",","-","sin","(","x",")",",","cos","(","x",")",",","a",",","a",",","a",",","a",",","b",")",";","}","mat4","A","(","float","z",")","{","return","mat4","(","cos","(","z",")",",","a",",","-","sin","(","z",")",",","a",",","a",",","b",",","a",",","a",",","sin","(","z",")",",","a",",","cos","(","z",")",",","a",",","a",",","a",",","a",",","b",")",";","}","mat4","C","(","float","B",")","{","return","mat4","(","cos","(","B",")",",","sin","(","B",")",",","a",",","a",",","-","sin","(","B",")",",","cos","(","B",")",",","a",",","a",",","a",",","a",",","b",",","a",",","a",",","a",",","a",",","b",")",";","}","c","E","(","in","c","D",")","{","return","c","(","D",".","a",",","D",".","b",",","normalize","(","D",".","c",")",",","normalize","(","D",".","d",")",",","normalize","(","D",".","e",")",",","D",".","f",")",";","}"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{type:"equal_expr",places:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{type:"logical_or_expr",places:4}],group:{type:"group",parts:[{type:"textline",tokens:["vec3","L","(","vec4","F",")","{","vec3","G",";","float","H",",","I",",","J",";","H","=","F",".","x",";","I","=","F",".","y",";","J","=","F",".","w",";","G",".","x","=","(","H","+","J",")","/","2.0",";","G",".","y","=","(","I","+","J",")","/","2.0",";","G",".","z","=","J",";","return","G",";","}"]}]}}]},{type:"textline",tokens:["mat4","O","(","mat3","M",")","{","mat4","N",";","N","[","0","]","[","0","]","=","(","b","-","(","M","[","1","]","[","2","]","*","(","M","[","1","]","[","2","]","+","M","[","1","]","[","2","]",")","+","M","[","2","]","[","0","]","*","(","M","[","2","]","[","0","]","+","M","[","2","]","[","0","]",")",")",")","*","M","[","1","]","[","0","]",";","N","[","0","]","[","1","]","=","(","M","[","1","]","[","1","]","*","(","M","[","1","]","[","2","]","+","M","[","1","]","[","2","]",")","+","M","[","2","]","[","1","]","*","(","M","[","2","]","[","0","]","+","M","[","2","]","[","0","]",")",")","*","M","[","1","]","[","0","]",";","N","[","0","]","[","2","]","=","(","M","[","1","]","[","1","]","*","(","M","[","2","]","[","0","]","+","M","[","2","]","[","0","]",")","-","M","[","2","]","[","1","]","*","(","M","[","1","]","[","2","]","+","M","[","1","]","[","2","]",")",")","*","M","[","1","]","[","0","]",";","N","[","0","]","[","3","]","=","a",";","N","[","1","]","[","0","]","=","(","M","[","1","]","[","1","]","*","(","M","[","1","]","[","2","]","+","M","[","1","]","[","2","]",")","-","M","[","2","]","[","1","]","*","(","M","[","2","]","[","0","]","+","M","[","2","]","[","0","]",")",")","*","M","[","1","]","[","0","]",";","N","[","1","]","[","1","]","=","(","b","-","(","M","[","1","]","[","1","]","*","(","M","[","1","]","[","1","]","+","M","[","1","]","[","1","]",")","+","M","[","2","]","[","0","]","*","(","M","[","2","]","[","0","]","+","M","[","2","]","[","0","]",")",")",")","*","M","[","1","]","[","0","]",";","N","[","1","]","[","2","]","=","(","M","[","1","]","[","2","]","*","(","M","[","2","]","[","0","]","+","M","[","2","]","[","0","]",")","+","M","[","2","]","[","1","]","*","(","M","[","1","]","[","1","]","+","M","[","1","]","[","1","]",")",")","*","M","[","1","]","[","0","]",";","N","[","1","]","[","3","]","=","a",";","N","[","2","]","[","0","]","=","(","M","[","1","]","[","1","]","*","(","M","[","2","]","[","0","]","+","M","[","2","]","[","0","]",")","+","M","[","2","]","[","1","]","*","(","M","[","1","]","[","2","]","+","M","[","1","]","[","2","]",")",")","*","M","[","1","]","[","0","]",";","N","[","2","]","[","1","]","=","(","M","[","1","]","[","2","]","*","(","M","[","2","]","[","0","]","+","M","[","2","]","[","0","]",")","-","M","[","2","]","[","1","]","*","(","M","[","1","]","[","1","]","+","M","[","1","]","[","1","]",")",")","*","M","[","1","]","[","0","]",";","N","[","2","]","[","2","]","=","(","b","-","(","M","[","1","]","[","1","]","*","(","M","[","1","]","[","1","]","+","M","[","1","]","[","1","]",")","+","M","[","1","]","[","2","]","*","(","M","[","1","]","[","2","]","+","M","[","1","]","[","2","]",")",")",")","*","M","[","1","]","[","0","]",";","N","[","2","]","[","3","]","=","a",";","N","[","3","]","[","0","]","=","M","[","0","]","[","0","]",";","N","[","3","]","[","1","]","=","M","[","0","]","[","1","]",";","N","[","3","]","[","2","]","=","M","[","0","]","[","2","]",";","N","[","3","]","[","3","]","=","1.0",";","return","N",";","}"]},{type:"condition",parts:[{type:"if",expression:["USE_INSTANCED_PARTCLS"],group:{type:"group",parts:[{type:"textline",tokens:["mat3","V","(","mat3","P",",","mat3","Q",")","{","vec4","R",",","S",",","T",";","mat3","U",";","R","=","vec4","(","Q","[","0","]",",","1.0",")",";","S","=","vec4","(","P","[","0","]",",","P","[","1","]","[","0","]",")",";","T","=","vec4","(","P","[","1","]","[","1","]",",","P","[","1","]","[","2","]",",","P","[","2","]","[","0","]",",","P","[","2","]","[","1","]",")",";","U","[","0","]","=","p","(","S",",","T",",","R",")",";","U","[","1","]","[","0","]","=","P","[","1","]","[","0","]","*","Q","[","1","]","[","0","]",";","U","[","1","]","[","1","]","=","P","[","1","]","[","1","]","*","Q","[","2","]","[","1","]","+","P","[","2","]","[","1","]","*","Q","[","1","]","[","1","]","+","P","[","1","]","[","2","]","*","Q","[","2","]","[","0","]","-","P","[","2","]","[","0","]","*","Q","[","1","]","[","2","]",";","U","[","1","]","[","2","]","=","P","[","1","]","[","2","]","*","Q","[","2","]","[","1","]","+","P","[","2","]","[","1","]","*","Q","[","1","]","[","2","]","+","P","[","2","]","[","0","]","*","Q","[","1","]","[","1","]","-","P","[","1","]","[","1","]","*","Q","[","2","]","[","0","]",";","U","[","2","]","[","0","]","=","P","[","2","]","[","0","]","*","Q","[","2","]","[","1","]","+","P","[","2","]","[","1","]","*","Q","[","2","]","[","0","]","+","P","[","1","]","[","1","]","*","Q","[","1","]","[","2","]","-","P","[","1","]","[","2","]","*","Q","[","1","]","[","1","]",";","U","[","2","]","[","1","]","=","P","[","2","]","[","1","]","*","Q","[","2","]","[","1","]","-","P","[","1","]","[","1","]","*","Q","[","1","]","[","1","]","-","P","[","1","]","[","2","]","*","Q","[","1","]","[","2","]","-","P","[","2","]","[","0","]","*","Q","[","2","]","[","0","]",";","return","U",";","}"]}]}}]}]},exports["include/std_enums.glsl"] = {type:"group",parts:[{type:"define",name:"TEXTURE_COORDS_UV_ORCO",tokens:["1"]},{type:"define",name:"TEXTURE_COORDS_NORMAL",tokens:["2"]},{type:"define",name:"TEXTURE_BLEND_TYPE_MIX",tokens:["1"]},{type:"define",name:"TEXTURE_BLEND_TYPE_MULTIPLY",tokens:["2"]},{type:"define",name:"SHADOW_SRC_NONE",tokens:["1"]},{type:"define",name:"SHADOW_SRC_DEPTH",tokens:["2"]},{type:"define",name:"SHADOW_SRC_MASK",tokens:["3"]},{type:"define",name:"SHADOW_DST_NONE",tokens:["1"]},{type:"define",name:"SHADOW_DST_DEPTH",tokens:["2"]},{type:"define",name:"SHADOW_DST_MASK",tokens:["3"]},{type:"define",name:"NO_SHADOWS",tokens:["1"]},{type:"define",name:"SHADOW_CASTING",tokens:["2"]},{type:"define",name:"SHADOW_MASK_GENERATION",tokens:["3"]},{type:"define",name:"SHADOW_MAPPING_OPAQUE",tokens:["4"]},{type:"define",name:"SHADOW_MAPPING_BLEND",tokens:["5"]},{type:"define",name:"SPECULAR_PHONG",tokens:["1"]},{type:"define",name:"SPECULAR_COOKTORR",tokens:["2"]},{type:"define",name:"SPECULAR_WARDISO",tokens:["3"]},{type:"define",name:"SPECULAR_BLINN",tokens:["4"]},{type:"define",name:"SPECULAR_TOON",tokens:["5"]},{type:"define",name:"DIFFUSE_LAMBERT",tokens:["1"]},{type:"define",name:"DIFFUSE_OREN_NAYAR",tokens:["2"]},{type:"define",name:"DIFFUSE_FRESNEL",tokens:["3"]},{type:"define",name:"DIFFUSE_MINNAERT",tokens:["4"]},{type:"define",name:"DIFFUSE_TOON",tokens:["5"]},{type:"define",name:"MAPPING_TYPE_TEXTURE",tokens:["0.0"]},{type:"define",name:"MAPPING_TYPE_POINT",tokens:["1.0"]},{type:"define",name:"MAPPING_TYPE_VECTOR",tokens:["2.0"]},{type:"define",name:"MAPPING_TYPE_NORMAL",tokens:["3.0"]},{type:"define",name:"MIX",tokens:["0"]},{type:"define",name:"ADD",tokens:["1"]},{type:"define",name:"SUBTRACT",tokens:["2"]},{type:"define",name:"MULTIPLY",tokens:["3"]},{type:"define",name:"SCREEN",tokens:["4"]},{type:"define",name:"OVERLAY",tokens:["5"]},{type:"define",name:"DIFFERENCE",tokens:["6"]},{type:"define",name:"DIVIDE",tokens:["7"]},{type:"define",name:"DARKEN",tokens:["8"]},{type:"define",name:"LIGHTEN",tokens:["9"]},{type:"define",name:"HUE",tokens:["10"]},{type:"define",name:"SATURATION",tokens:["11"]},{type:"define",name:"VALUE",tokens:["12"]},{type:"define",name:"COLOR",tokens:["13"]},{type:"define",name:"SOFT_LIGHT",tokens:["14"]},{type:"define",name:"LINEAR_LIGHT",tokens:["15"]},{type:"define",name:"REFL_NONE",tokens:["0"]},{type:"define",name:"REFL_MIRRORMAP",tokens:["1"]},{type:"define",name:"REFL_PLANE",tokens:["2"]},{type:"define",name:"REFL_CUBE",tokens:["3"]},{type:"define",name:"INVERSE_QUADRATIC",tokens:["0"]},{type:"define",name:"LINEAR",tokens:["1"]},{type:"define",name:"QUADRATIC",tokens:["2"]},{type:"define",name:"HEMI",tokens:["1"]},{type:"define",name:"SPOT",tokens:["2"]},{type:"define",name:"POINT",tokens:["3"]},{type:"define",name:"SUN",tokens:["4"]},{type:"define",name:"VT_WORLD_TO_WORLD",tokens:["0"]},{type:"define",name:"VT_WORLD_TO_OBJECT",tokens:["1"]},{type:"define",name:"VT_WORLD_TO_CAMERA",tokens:["2"]},{type:"define",name:"VT_OBJECT_TO_WORLD",tokens:["3"]},{type:"define",name:"VT_OBJECT_TO_OBJECT",tokens:["4"]},{type:"define",name:"VT_OBJECT_TO_CAMERA",tokens:["5"]},{type:"define",name:"VT_CAMERA_TO_WORLD",tokens:["6"]},{type:"define",name:"VT_CAMERA_TO_OBJECT",tokens:["7"]},{type:"define",name:"VT_CAMERA_TO_CAMERA",tokens:["8"]},{type:"define",name:"VT_POINT",tokens:["0"]},{type:"define",name:"VT_VECTOR",tokens:["1"]},{type:"define",name:"VT_NORMAL",tokens:["2"]},{type:"define",name:"DOF_SIMPLE",tokens:["0"]},{type:"define",name:"DOF_BOKEH",tokens:["1"]}]},exports["include/pack.glslf"] = {type:"group",parts:[{type:"textline",tokens:["float","W","=","255.0",";","float","X","=","0.0",";","float","Y","=","1.0",";","vec4","ab","(","const","in","float","Z",")","{","vec4","_",",","aa",";","_","=","vec4","(","W","*","W","*","W",",","W","*","W",",","W",",","Y",")",";","aa","=","vec4","(","X",",","Y","/","W",",","Y","/","W",",","Y","/","W",")",";","_","=","fract","(","Z","*","_",")",";","_","-=","_",".","xxyz","*","aa",";","return","_",";","}","float","af","(","const","in","vec4","ac",")","{","vec4","ad",";","float","ae",";","ad","=","vec4","(","Y","/","(","W","*","W","*","W",")",",","Y","/","(","W","*","W",")",",","Y","/","W",",","Y",")",";","ae","=","dot","(","ac",",","ad",")",";","return","ae",";","}","vec4","ab","(","const","in","vec2","ag",")","{","vec4","ah",";","vec2","ai",",","aj",";","ai","=","vec2","(","W",",","Y",")",";","aj","=","vec2","(","X",",","Y","/","W",")",";","ah","=","fract","(","ag",".","xxyy","*","ai",".","xyxy",")",";","ah","-=","ah",".","xxzz","*","aj",".","xyxy",";","if","(","ag",".","r","==","Y",")","ah",".","rg","=","vec2","(","X",",","Y",")",";","if","(","ag",".","g","==","Y",")","ah",".","ba","=","vec2","(","X",",","Y",")",";","return","ah",";","}","vec2","an","(","const","in","vec4","ak",")","{","vec2","al",",","am",";","am","=","vec2","(","Y","/","W",",","Y",")",";","al",".","r","=","dot","(","ak",".","rg",",","am",")",";","al",".","g","=","dot","(","ak",".","ba",",","am",")",";","return","al",";","}"]}]},exports["include/procedural.glslf"] = {type:"group",parts:[{type:"textline",tokens:["float","ao","=","0.0",";","float","ap","=","1.0",";","vec4","ar","(","vec4","aq",")","{","return","aq","-","floor","(","aq","*","(","ap","/","289.0",")",")","*","289.0",";","}","vec3","ar","(","vec3","as",")","{","return","as","-","floor","(","as","*","(","ap","/","289.0",")",")","*","289.0",";","}","vec2","ar","(","vec2","at",")","{","return","at","-","floor","(","at","*","(","ap","/","289.0",")",")","*","289.0",";","}","vec4","av","(","vec4","au",")","{","return","au","-","floor","(","au","*","(","ap","/","7.0",")",")","*","7.0",";","}","vec4","ax","(","vec4","aw",")","{","return","ar","(","(","34.0","*","aw","+","5.0",")","*","aw",")",";","}"]},{type:"define",name:"K",tokens:["0.142857142857"]},{type:"define",name:"K2",tokens:["0.0714285714285"]},{type:"define",name:"JITTER",tokens:["0.7"]},{type:"textline",tokens:["vec2","aF","(","vec2","ay",")","{","vec4","az",",","aA",",","aB",",","aC",";","vec2","aD",",","aE",";","aD","=","ar","(","floor","(","ay",")",")",";","aE","=","fract","(","ay",")",";","az","=","aE",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","aA","=","aE",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","aB","=","ax","(","aD",".","x","+","vec4","(","ao",",","ap",",","ao",",","ap",")",")",";","aB","=","ax","(","aB","+","aD",".","y","+","vec4","(","ao",",","ao",",","ap",",","ap",")",")",";","aC","=","av","(","aB",")","*","K","+","K2",";","aB","=","av","(","floor","(","aB","*","K",")",")","*","K","+","K2",";","aC","=","az","+","JITTER","*","aC",";","aB","=","aA","+","JITTER","*","aB",";","aB","=","aC","*","aC","+","aB","*","aB",";"]},{type:"condition",parts:[{type:"if",expression:[1],group:{type:"group",parts:[{type:"textline",tokens:["aB",".","xy","=","min","(","aB",".","xy",",","aB",".","zw",")",";","aB",".","x","=","min","(","aB",".","x",",","aB",".","y",")",";","return","aB",".","xx",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["aB",".","xy","=","(","aB",".","x","<","aB",".","y",")","?","aB",".","xy",":","aB",".","yx",";","aB",".","xz","=","(","aB",".","x","<","aB",".","z",")","?","aB",".","xz",":","aB",".","zx",";","aB",".","xw","=","(","aB",".","x","<","aB",".","w",")","?","aB",".","xw",":","aB",".","wx",";","aB",".","y","=","min","(","aB",".","y",",","aB",".","z",")",";","aB",".","y","=","min","(","aB",".","y",",","aB",".","w",")",";","return","sqrt","(","aB",".","xy",")",";"]}]}}]},{type:"textline",tokens:["}","vec3","aO","(","vec2","aG",",","float","aH",")","{","vec4","aI",",","aJ",",","aK",",","aL",";","vec2","aM",",","aN",";","aM","=","ar","(","floor","(","aG",")",")",";","aN","=","fract","(","aG",")",";","aI","=","aN",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","aJ","=","aN",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","aK","=","ax","(","aM",".","x","+","vec4","(","ao",",","ap",",","ao",",","ap",")",")",";","aK","=","ax","(","aK","+","aM",".","y","+","vec4","(","ao",",","ao",",","ap",",","ap",")",")",";","aL","=","av","(","aK",")","*","K","+","K2",";","aK","=","av","(","floor","(","aK","*","K",")",")","*","K","+","K2",";","aL","=","aI","+","JITTER","*","aL",";","aK","=","aJ","+","JITTER","*","aK",";","aJ","=","aL","*","aL","+","aK","*","aK",";","aL","+=","aH",";","aK","+=","aH",";","aI","=","aL","*","aL","+","aK","*","aK",";","aL","+=","aH",";","aK","+=","aH",";","aK","=","aL","*","aL","+","aK","*","aK",";","aJ",".","xy","=","min","(","aJ",".","xy",",","aJ",".","zw",")",";","aJ",".","x","=","min","(","aJ",".","x",",","aJ",".","y",")",";","aI",".","xy","=","min","(","aI",".","xy",",","aI",".","zw",")",";","aI",".","x","=","min","(","aI",".","x",",","aI",".","y",")",";","aK",".","xy","=","min","(","aK",".","xy",",","aK",".","zw",")",";","aK",".","x","=","min","(","aK",".","x",",","aK",".","y",")",";","return","vec3","(","aJ",".","x",",","aI",".","x",",","aK",".","x",")",";","}","vec3","aQ","(","vec3","aP",")","{","return","ar","(","(","(","aP","*","34.0",")","+","ap",")","*","aP",")",";","}","float","ba","(","vec2","aR",")","{","vec3","aS",",","aT",",","aU",",","aV",";","vec4","aW",";","vec2","aX",",","aY",",","aZ",";","const","vec4","a_","=","vec4","(","0.211324865405187",",","0.366025403784439",",","-","0.577350269189626",",","0.024390243902439",")",";","aX","=","floor","(","aR","+","dot","(","aR",",","a_",".","yy",")",")",";","aY","=","aR","-","aX","+","dot","(","aX",",","a_",".","xx",")",";","aZ","=","(","aY",".","x",">","aY",".","y",")","?","vec2","(","ap",",","ao",")",":","vec2","(","ao",",","ap",")",";","aW","=","aY",".","xyxy","+","a_",".","xxzz",";","aW",".","xy","-=","aZ",";","aX","=","ar","(","aX",")",";","aS","=","aQ","(","aQ","(","aX",".","y","+","vec3","(","ao",",","aZ",".","y",",","ap",")",")","+","aX",".","x","+","vec3","(","ao",",","aZ",".","x",",","ap",")",")",";","aT","=","max","(","0.5","-","vec3","(","dot","(","aY",",","aY",")",",","dot","(","aW",".","xy",",","aW",".","xy",")",",","dot","(","aW",".","zw",",","aW",".","zw",")",")",",","ao",")",";","aT","=","aT","*","aT",";","aT","=","aT","*","aT",";","aS","=","2.0","*","fract","(","aS","*","a_",".","www",")","-","ap",";","aU","=","abs","(","aS",")","-","0.5",";","aV","=","floor","(","aS","+","0.5",")",";","aV","=","aS","-","aV",";","aT","*=","1.79284291400159","-","0.85373472095314","*","(","aV","*","aV","+","aU","*","aU",")",";","aS",".","x","=","aV",".","x","*","aY",".","x","+","aU",".","x","*","aY",".","y",";","aS",".","yz","=","aV",".","yz","*","aW",".","xz","+","aU",".","yz","*","aW",".","yw",";","return","130.0","*","dot","(","aT",",","aS",")",";","}","vec2","be","(","vec2","bb",")","{","float","bc",",","bd",";","bc","=","dot","(","bb",",","vec2","(","12.9898",",","78.233",")",")",";","bd","=","dot","(","bb",",","vec2","(","12.9898",",","78.233",")","*","2.0",")",";","bc","=","fract","(","sin","(","bc",")","*","43758.5453",")","*","2.0","-","ap",";","bd","=","fract","(","sin","(","bd",")","*","43758.5453",")","*","2.0","-","ap",";","return","vec2","(","bc",",","bd",")",";","}"]}]},exports["include/caustics.glslf"] = {type:"group",parts:[{type:"var",name:"CAUST_SPEED",tokens:["vec2","(","0.0",")"]},{type:"var",name:"CAUST_SCALE",tokens:["0.0"]},{type:"var",name:"CAUST_BRIGHT",tokens:["0.0"]},{type:"var",name:"SUN_NUM",tokens:["0"]},{type:"define",name:"CAUSTICS_VIEW_DISTANCE",tokens:["100.0"]},{type:"textline",tokens:["void","bw","(","inout","vec3","bf",",","float","bg",",","float","bh",",","vec4","bi",",","vec3","bj",",","vec3","bk",",","vec3","bl",",","vec4","bm",",","vec3","bn",",","float","bo",")","{","float","bp",",","bq",",","br",";","vec2","bs",",","bt",";","vec3","bu",";","vec4","bv",";","if","(","bo",">","CAUSTICS_VIEW_DISTANCE",")","return",";","bv","=","bm",";","bu","=","bn","+","bj",";","bu",".","xz","=","10.0","*","sin","(","0.1","*","bu",".","xz",")",";","bu","=","bu","+","2.0","*","cross","(","-","bv",".","xyz",",","cross","(","-","bv",".","xyz",",","bu",")","+","bv",".","w","*","bu",")",";","bs","=","bu",".","xz",";","bu","=","bk",";","bp","=","max","(","dot","(","bj",",","bu",")",",","0.0",")",";","bq","=","0.025",";","bt","=","CAUST_SPEED","*","bh",";","bs",".","s","+=","0.25","*","sin","(","dot","(","bn","+","bh",",","vec3","(","1.0",")",")",")",";","bs",".","t","+=","0.35","*","(","-","sin","(","dot","(","bn","-","bh",",","vec3","(","-","0.7",")",")",")",")",";","bs",".","st","+=","0.15","*","cos","(","4.0","*","bg","-","bt",".","x",")","+","1.5","*","sin","(","bg","-","0.3","*","bt",".","y",")",";","br","=","CAUST_SCALE","*","(","1.0","+","max","(","0.1","*","bg",",","0.0",")",")",";","bu","=","aO","(","(","bs","/","br",")",",","bq",")",";","bu","*=","CAUST_BRIGHT",";","bu","*=","bu",";","bq","=","min","(","0.25","*","bg",",","-","bg",")","+","1.0",";","bq","=","max","(","bq",",","0.0",")",";","bp","=","bi","[","SUN_NUM","]","*","bp",";","br","=","max","(","sign","(","bg",")",",","0.0",")",";","bp","=","bp","+","max","(","0.5","*","sign","(","-","bj",".","y",")","*","br",",","0.0",")",";","bp","=","min","(","bp",",","1.0",")",";","bf","+=","bl","*","bu","*","bq","*","bp",";","}"]}]},exports["include/color_util.glslf"] = {type:"group",parts:[{type:"define",name:"GAMMA",tokens:["1"]},{type:"define",name:"PREMULTIPLY_ALPHA",tokens:["1"]},{type:"textline",tokens:["void","by","(","inout","vec3","bx",")","{"]},{type:"condition",parts:[{type:"if",expression:["GAMMA"],group:{type:"group",parts:[{type:"textline",tokens:["bx","=","max","(","vec3","(","0.0",")",",","bx",")",";","bx","=","pow","(","bx",",","vec3","(","2.2",")",")",";"]}]}}]},{type:"textline",tokens:["}","void","by","(","inout","float","bz",")","{"]},{type:"condition",parts:[{type:"if",expression:["GAMMA"],group:{type:"group",parts:[{type:"textline",tokens:["bz","=","pow","(","max","(","0.0",",","bz",")",",","2.2",")",";"]}]}}]},{type:"textline",tokens:["}","void","bB","(","inout","vec3","bA",")","{"]},{type:"condition",parts:[{type:"if",expression:["GAMMA"],group:{type:"group",parts:[{type:"textline",tokens:["bA","=","max","(","vec3","(","0.0",")",",","bA",")",";","bA","=","pow","(","bA",",","vec3","(","1.0","/","2.2",")",")",";"]}]}}]},{type:"textline",tokens:["}","void","bE","(","inout","vec3","bC",",","in","float","bD",")","{"]},{type:"condition",parts:[{type:"if",expression:["PREMULTIPLY_ALPHA"],group:{type:"group",parts:[{type:"textline",tokens:["bC","=","bC","*","bD",";"]}]}}]},{type:"textline",tokens:["}","float","bI","(","vec4","bF",")","{","float","bG",";","vec3","bH",";","bH","=","vec3","(","0.299",",","0.587",",","0.114",")",";","bG","=","dot","(","bF",".","rgb",",","bH",")",";","return","bG",";","}"]}]},exports["include/shadow.glslf"] = {type:"group",parts:[{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"var",name:"CSM_BLEND_BETWEEN_CASCADES",tokens:["1.0"]},{type:"var",name:"CSM_FADE_LAST_CASCADE",tokens:["1.0"]},{type:"var",name:"SHADOW_TEX_RES",tokens:["0.0"]},{type:"define",name:"M_PI",tokens:["3.14159265359"]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["const","float","bU","=","0.1",";","const","float","bV","=","0.1",";","const","float","bW","=","-","0.01",";","const","float","bX","=","0.05",";","vec4","bY","=","vec4","(","0.14383161",",","0.34495938",",","-","0.38277543",",","-","0.26496911",")",";","vec4","bZ","=","vec4","(","0.53742981",",","0.19984126",",","0.79197514",",","-","0.094184101",")",";","vec4","b_","=","vec4","(","-","0.94201624",",","-","0.91588581",",","-","0.2418884",",","0.44323325",")",";","vec4","ca","=","vec4","(","-","0.81544232",",","0.94558609",",","-","0.81409955",",","0.97484398",")",";","vec4","cb","=","vec4","(","-","0.1410079",",","0.2938776",",","0.27676845",",","-","0.41893023",")",";","vec4","cc","=","vec4","(","-","0.4737342",",","0.78641367",",","0.19090188",",","-","0.9293887",")",";","vec4","cd","=","vec4","(","-","0.39906216",",","0.45771432",",","0.99706507",",","-","0.97511554",")",";","vec4","ce","=","vec4","(","-","0.87912464",",","-","0.76890725",",","0.9143759",",","0.7564837",")",";","bool","ch","(","vec2","cf",",","float","cg",")","{","return","all","(","lessThanEqual","(","cf",",","vec2","(","1.0","+","cg",")",")",")","&&","all","(","greaterThanEqual","(","cf",",","vec2","(","0.0","-","cg",")",")",")",";","}","float","cq","(","float","ci",",","float","cj",",","mat2","ck",",","vec3","cl",",","float","cm",",","PRECISION","sampler2D","cn",")","{","vec2","co",",","cp",";","cp",".","x","=","ci",";","cp",".","y","=","cj",";","cp","=","ck","*","cp",";","co","=","cl",".","xy","+","cp","*","cm","/","SHADOW_TEX_RES",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","!","ch","(","co",",","bW",")",")","return","1.0",";","else"]}]}}]},{type:"textline",tokens:["return","step","(","cl",".","z",",","texture2D","(","cn",",","co",")",".","r",")",";","}","float","cz","(","vec3","cr",",","PRECISION","sampler2D","cs",",","float","ct",")","{","mat2","cu",";","float","cv",",","cw",",","cx",";","cv","=","0.0",";","cr",".","z","=","clamp","(","cr",".","z",",","0.0",",","1.0",")",";","cw","=","be","(","cr",".","xy",")",".","x","*","M_PI",";","cx","=","cos","(","cw",")",";","cw","=","sin","(","cw",")",";","cu","=","mat2","(","cx",",","cw",",","-","cw",",","cx",")",";","for","(","int","cy","=","0",";","cy","<","4",";","cy","++",")","{","cv","+=","cq","(","bY","[","cy","]",",","cb","[","cy","]",",","cu",",","cr",",","ct",",","cs",")",";","cv","+=","cq","(","bZ","[","cy","]",",","cc","[","cy","]",",","cu",",","cr",",","ct",",","cs",")",";","cv","+=","cq","(","b_","[","cy","]",",","cd","[","cy","]",",","cu",",","cr",",","ct",",","cs",")",";","cv","+=","cq","(","ca","[","cy","]",",","ce","[","cy","]",",","cu",",","cr",",","ct",",","cs",")",";","}","return","clamp","(","cv","/","16.0",",","0.0",",","1.0",")",";","}","float","cO","(","vec3","cA",",","PRECISION","sampler2D","cB",",","vec3","cC",",","PRECISION","sampler2D","cD",",","float","cE",",","float","cF",",","float","cG",")","{","mat2","cH",";","float","cI",",","cJ",",","cK",",","cL",";","cA",".","z","=","clamp","(","cA",".","z",",","0.0",",","1.0",")",";","cC",".","z","=","clamp","(","cC",".","z",",","0.0",",","1.0",")",";","cI","=","0.0",";","cJ","=","0.0",";","cK","=","be","(","cA",".","xy",")",".","x","*","M_PI",";","cL","=","cos","(","cK",")",";","cK","=","sin","(","cK",")",";","cH","=","mat2","(","cL",",","cK",",","-","cK",",","cL",")",";","for","(","int","cM","=","0",";","cM","<","4",";","cM","++",")","{","cI","+=","cq","(","bY","[","cM","]",",","cb","[","cM","]",",","cH",",","cA",",","cE",",","cB",")",";","cI","+=","cq","(","bZ","[","cM","]",",","cc","[","cM","]",",","cH",",","cA",",","cE",",","cB",")",";","cI","+=","cq","(","b_","[","cM","]",",","cd","[","cM","]",",","cH",",","cA",",","cE",",","cB",")",";","cI","+=","cq","(","ca","[","cM","]",",","ce","[","cM","]",",","cH",",","cA",",","cE",",","cB",")",";","}","for","(","int","cN","=","0",";","cN","<","4",";","cN","++",")","{","cJ","+=","cq","(","bY","[","cN","]",",","cb","[","cN","]",",","cH",",","cC",",","cF",",","cD",")",";","cJ","+=","cq","(","bZ","[","cN","]",",","cc","[","cN","]",",","cH",",","cC",",","cF",",","cD",")",";","cJ","+=","cq","(","b_","[","cN","]",",","cd","[","cN","]",",","cH",",","cC",",","cF",",","cD",")",";","cJ","+=","cq","(","ca","[","cN","]",",","ce","[","cN","]",",","cH",",","cC",",","cF",",","cD",")",";","}","cI","=","mix","(","cI",",","cJ",",","cG",")",";","cI","/=","16.0",";","return","clamp","(","cI",",","0.0",",","1.0",")",";","}","float","cS","(","vec2","cP",")","{","float","cQ",",","cR",";","cQ","=","min","(","cP",".","x",",","cP",".","y",")",";","cR","=","min","(","1.0","-","cP",".","x",",","1.0","-","cP",".","y",")",";","return","min","(","cQ",",","cR",")",";","}","float","cV","(","float","cT",",","float","cU",")","{","if","(","cU",">=","0.0","&&","cU","<=","bV",")","cT","=","(","cT","-","1.0",")","/","bV","*","cU","+","1.0",";","return","cT",";","}","float","df","(","vec3","cW",",","vec3","cX",",","PRECISION","sampler2D","cY",",","PRECISION","sampler2D","cZ",",","float","c_",",","float","da",",","float","db",",","float","dc",")","{","float","dd",",","de",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_BLEND_BETWEEN_CASCADES"],group:{type:"group",parts:[{type:"textline",tokens:["de","=","cS","(","cW",".","xy",")",";","if","(","-","dc",">","db","&&","de",">=","0.0","&&","de","<=","bU","&&","ch","(","cX",".","xy",",","0.0",")",")","{","de","=","1.0","-","de","/","bU",";","dd","=","cO","(","cW",",","cY",",","cX",",","cZ",",","c_",",","da",",","de",")",";","}","else"]}]}}]},{type:"textline",tokens:["dd","=","cz","(","cW",",","cY",",","c_",")",";","return","dd",";","}","float","dn","(","vec3","dg",",","PRECISION","sampler2D","dh",",","float","di",",","float","dj",",","float","dk",")","{","float","dl",",","dm",";","dl","=","cz","(","dg",",","dh",",","di",")",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_FADE_LAST_CASCADE"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","-","dk",">","dj",")","{","dm","=","cS","(","dg",".","xy",")",";","dl","=","cV","(","dl",",","dm",")",";","}"]}]}}]},{type:"textline",tokens:["return","dl",";","}","vec4","dy","(","float","dp",")","{","vec3","dq",",","dr",",","ds",",","dt",";","float","du",",","dv",",","dw",",","dx",";","du","=","1.0",";","dq","=","bP",".","xyz","/","bP",".","w",";","if","(","bP",".","w","<","0.0",")","dq",".","z","=","0.0",";"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1","NUM_CAST_LAMPS",1,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["dr","=","bQ",".","xyz","/","bQ",".","w",";","if","(","bQ",".","w","<","0.0",")","dr",".","z","=","0.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2","NUM_CAST_LAMPS",2,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["ds","=","bR",".","xyz","/","bR",".","w",";","if","(","bR",".","w","<","0.0",")","ds",".","z","=","0.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3","NUM_CAST_LAMPS",3,{type:"g_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["dt","=","bS",".","xyz","/","bS",".","w",";","if","(","bS",".","w","<","0.0",")","dt",".","z","=","0.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","ch","(","dq",".","xy",",","0.0",")",")","{","du","=","df","(","dq",",","dr",",","u_shadow_map0",",","u_shadow_map1",",","u_pcf_blur_radii","[","0","]",",","u_pcf_blur_radii","[","1","]",",","u_csm_center_dists","[","0","]",",","dp",")",";","}"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["if","(","ch","(","dq",".","xy",",","bX",")",")","{","du","=","dn","(","dq",",","u_shadow_map0",",","u_pcf_blur_radii","[","0","]",",","u_csm_center_dists","[","0","]",",","dp",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1"],group:{type:"group",parts:[{type:"textline",tokens:["else","{","if","(","ch","(","dr",".","xy",",","0.0",")",")","{"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2"],group:{type:"group",parts:[{type:"textline",tokens:["du","=","df","(","dr",",","ds",",","u_shadow_map1",",","u_shadow_map2",",","u_pcf_blur_radii","[","1","]",",","u_pcf_blur_radii","[","2","]",",","u_csm_center_dists","[","1","]",",","dp",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["du","=","dn","(","dr",",","u_shadow_map1",",","u_pcf_blur_radii","[","1","]",",","u_csm_center_dists","[","1","]",",","dp",")",";"]}]}}]},{type:"textline",tokens:["}"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2"],group:{type:"group",parts:[{type:"textline",tokens:["else","{","if","(","ch","(","ds",".","xy",",","0.0",")",")","{"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3"],group:{type:"group",parts:[{type:"textline",tokens:["du","=","df","(","ds",",","dt",",","u_shadow_map2",",","u_shadow_map3",",","u_pcf_blur_radii","[","2","]",",","u_pcf_blur_radii","[","3","]",",","u_csm_center_dists","[","2","]",",","dp",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["du","=","dn","(","ds",",","u_shadow_map2",",","u_pcf_blur_radii","[","2","]",",","u_csm_center_dists","[","2","]",",","dp",")",";"]}]}}]},{type:"textline",tokens:["}"]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3"],group:{type:"group",parts:[{type:"textline",tokens:["else","{","if","(","ch","(","dt",".","xy",",","0.0",")",")","du","=","dn","(","dt",",","u_shadow_map3",",","u_pcf_blur_radii","[","3","]",",","u_csm_center_dists","[","3","]",",","dp",")",";","}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_CAST_LAMPS",1,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["dv","=","cz","(","dr",",","u_shadow_map1",",","u_pcf_blur_radii","[","0","]",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["dv","=","0.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_CAST_LAMPS",2,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["dw","=","cz","(","ds",",","u_shadow_map2",",","u_pcf_blur_radii","[","0","]",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["dw","=","0.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_CAST_LAMPS",3,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["dx","=","cz","(","dt",",","u_shadow_map3",",","u_pcf_blur_radii","[","0","]",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["dx","=","1.0",";"]}]}}]},{type:"textline",tokens:["return","vec4","(","du",",","dv",",","dw",",","dx",")",";","}"]}]}}]},{type:"textline",tokens:["vec4","dB","(","inout","vec3","dz",")","{","vec4","dA",";"]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["dA","=","texture2DProj","(","u_shadow_mask",",","bN",")",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_CAST_LAMPS",3,{type:"l_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["dz","*=","dA",".","a",";"]}]}}]},{type:"textline",tokens:["return","dA",";"]}]}},{type:"elif",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["dA","=","dy","(","bK",".","z",")",";","return","dA",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["return","vec4","(","1.0",")",";"]}]}}]},{type:"textline",tokens:["}"]}]},exports["include/mirror.glslf"] = {type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2},"REFLECTION_TYPE","REFL_CUBE",{type:"equal_expr",places:2},"REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2},{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"define",name:"REFL_BUMP",tokens:["0.1"]},{type:"textline",tokens:["float","dI","(","in","vec3","dC",",","vec3","dD",",","float","dE",",","float","dF",")","{","float","dG",";","vec3","dH",";","dH","=","normalize","(","dD","+","dC",")",";","dG","=","1.0","-","dot","(","dC",",","dH",")",";","dG","=","dF","+","(","1.0","-","dF",")","*","pow","(","dG",",","dE",")",";","return","dG",";","}","void","dW","(","inout","vec3","dJ",",","vec3","dK",",","vec3","dL",",","float","dM",",","mat4","dN",")","{","vec2","dO",",","dP",";","float","dQ",",","dR",",","dS",";","vec3","dT",",","dU",",","dV",";","dT","=","reflect","(","-","dK",",","dL",")",";","dQ","=","u_fresnel_params","[","2","]",";","dR","=","u_fresnel_params","[","3","]",";","dS","=","1.0",";","if","(","dQ","!=","0.0",")","dS","=","dI","(","dK",",","dT",",","dQ",",","dR",")",";"]},{type:"condition",parts:[{type:"if",expression:["REFLECTION_TYPE","REFL_CUBE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["dU","=","textureCube","(","u_cube_reflection",",","dT",")",".","xyz",";"]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["REFLECTION_PASS",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["dV","=","u_refl_plane",".","xyz","*","dot","(","dL",",","u_refl_plane",".","xyz",")",";","dV","=","dL","-","dV",";","dO","=","(","dN","*","vec4","(","dV",",","0.0",")",")",".","xy",";","dP","=","bN",".","xy","/","bN",".","z",";","dP","+=","dO","*","REFL_BUMP",";","dU","=","texture2D","(","u_plane_reflection",",","dP",")",".","rgb",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["dU","=","vec3","(","1.0",")",";","dM","=","0.0",";"]}]}}]}]}},{type:"elif",expression:["REFLECTION_TYPE","REFL_MIRRORMAP",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["dU","=","textureCube","(","u_mirrormap",",","dT",")",".","xyz",";","dM","=","u_mirror_factor",";"]}]}}]},{type:"textline",tokens:["by","(","dU",".","rgb",")",";","dJ","=","mix","(","dJ",",","dU",",","dM","*","dS",")",";","}"]}]}}]}]},exports["include/environment.glslf"] = {type:"group",parts:[{type:"textline",tokens:["vec3","dZ","(","vec3","dX",")","{","float","dY",";"]},{type:"condition",parts:[{type:"if",expression:["USE_ENVIRONMENT_LIGHT"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["SKY_TEXTURE"],group:{type:"group",parts:[{type:"textline",tokens:["return","textureCube","(","u_sky_texture",",","dX",")",".","rgb",";"]}]}},{type:"elif",expression:["SKY_COLOR"],group:{type:"group",parts:[{type:"textline",tokens:["dY","=","0.5","*","dX",".","y","+","0.5",";","return","mix","(","u_horizon_color",",","u_zenith_color",",","dY",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["return","vec3","(","1.0",")",";"]}]}}]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["return","vec3","(","0.0",")",";"]}]}}]},{type:"textline",tokens:["}"]}]},exports["include/refraction.glslf"] = {type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["REFRACTIVE"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_REFRACTION_CORRECTION"],group:{type:"group",parts:[{type:"textline",tokens:["float","ee","(","in","float","d_",",","inout","vec2","ea",",","in","vec2","eb",")","{","float","ec",";","vec4","ed",";","ed","=","texture2D","(","u_scene_depth",",","ea",")",";","ec","=","af","(","ed",")",";","if","(","ec","<","bO",")","{","ea","=","eb",";","return","d_",";","}","else","{","return","ec",";","}","return","d_",";","}"]}]}}]},{type:"textline",tokens:["vec3","em","(","in","vec3","ef",",","in","vec2","eg",")","{","vec3","eh",";","float","ei",";","vec4","ej",";","vec2","ek",",","el",";","ek","=","ef",".","xy","/","ef",".","z",";","el","=","ek","+","eg",";"]},{type:"condition",parts:[{type:"if",expression:["USE_REFRACTION_CORRECTION"],group:{type:"group",parts:[{type:"textline",tokens:["ej","=","texture2DProj","(","u_scene_depth",",","ef",")",";","ei","=","af","(","ej",")",";","ee","(","ei",",","el",",","ek",")",";"]}]}}]},{type:"textline",tokens:["eh","=","texture2D","(","u_refractmap",",","el",")",".","rgb",";","by","(","eh",")",";","return","eh",";","}"]}]}}]}]},exports["include/nodes.glslf"] = {type:"group",parts:[{type:"var",name:"MAPPING_TRS_MATRIX",tokens:["mat4","(","0.0",")"]},{type:"var",name:"MAPPING_SCALE",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_TRANSLATION",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_MIN_CLIP",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_MAX_CLIP",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_IS_NORMAL",tokens:["0.0"]},{type:"var",name:"RGB_IND",tokens:["0"]},{type:"var",name:"VALUE_IND",tokens:["0"]},{type:"var",name:"LAMP_INDEX",tokens:["0"]},{type:"var",name:"NUM_LIGHTS",tokens:["0"]},{type:"var",name:"LAMP_IND",tokens:["0"]},{type:"var",name:"LAMP_SPOT_SIZE",tokens:["0"]},{type:"var",name:"LAMP_SPOT_BLEND",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_DIST",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_FACT_IND",tokens:["0"]},{type:"var",name:"LAMP_FAC_CHANNELS",tokens:["rgb"]},{type:"var",name:"LAMP_SHADOW_MAP_IND",tokens:["0"]},{type:"var",name:"NODE_TEX_ROW",tokens:["0.0"]},{type:"define",name:"M_PI",tokens:["3.14159265359"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["varying","vec3","en",";"]}]}}]},{type:"textline",tokens:["float","ZERO_VALUE_NODES","=","0.0",";","float","UNITY_VALUE_NODES","=","1.0",";","float","eo","=","0.5",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_B4W_REFRACTION"],group:{type:"group",parts:[{type:"textline",tokens:["vec3","es","(","in","vec3","ep",",","in","float","eq",")","{","vec3","er",";","er","=","vec3","(","ZERO_VALUE_NODES",")",";"]},{type:"condition",parts:[{type:"if",expression:["USE_REFRACTION"],group:{type:"group",parts:[{type:"textline",tokens:["er","=","em","(","bN",",","ep",".","xy","*","eq",")",";"]}]}},{type:"elif",expression:["HAS_REFRACT_TEXTURE"],group:{type:"group",parts:[{type:"textline",tokens:["er","=","texture2D","(","u_refractmap",",","bN",".","xy","/","bN",".","z",")",".","rgb",";","by","(","er",")",";"]}]}}]},{type:"textline",tokens:["return","er",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["vec3","ex","(","vec3","et",")","{","float","eu",",","ev",";","vec4","ew",";","ew","=","vec4","(","ZERO_VALUE_NODES",",","-","UNITY_VALUE_NODES","/","3.0",",","2.0","/","3.0",",","-","UNITY_VALUE_NODES",")",";","ew","=","mix","(","vec4","(","et",".","bg",",","ew",".","wz",")",",","vec4","(","et",".","gb",",","ew",".","xy",")",",","step","(","et",".","b",",","et",".","g",")",")",";","ew","=","mix","(","vec4","(","ew",".","xyw",",","et",".","r",")",",","vec4","(","et",".","r",",","ew",".","yzx",")",",","step","(","ew",".","x",",","et",".","r",")",")",";","eu","=","ew",".","x","-","min","(","ew",".","w",",","ew",".","y",")",";","ev","=","1.0e-10",";","return","vec3","(","abs","(","ew",".","z","+","(","ew",".","w","-","ew",".","y",")","/","(","6.0","*","eu","+","ev",")",")",",","eu","/","(","ew",".","x","+","ev",")",",","ew",".","x",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["vec3","eB","(","vec3","ey",")","{","vec3","ez",";","vec4","eA",";","eA","=","vec4","(","UNITY_VALUE_NODES",",","2.0","/","3.0",",","UNITY_VALUE_NODES","/","3.0",",","3.0",")",";","ez","=","abs","(","fract","(","vec3","(","ey",".","r",",","ey",".","r",",","ey",".","r",")","+","eA",".","xyz",")","*","6.0","-","eA",".","www",")",";","return","ey",".","b","*","mix","(","eA",".","xxx",",","clamp","(","ez","-","eA",".","xxx",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",",","ey",".","g",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["vec3","eD","(","vec2","eC",")","{","return","vec3","(","eC","*","2.0","-","vec2","(","UNITY_VALUE_NODES",",","UNITY_VALUE_NODES",")",",","ZERO_VALUE_NODES",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["vec2","eF","(","vec3","eE",")","{","return","vec2","(","eE",".","xy","*","eo","+","vec2","(","eo",",","eo",")",")",";","}"]}]}}]},{type:"node",name:"CAMERA",declarations:[{type:"node_out",name:"fx",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"fy",qualifier:["float"],is_optional:true},{type:"node_out",name:"fz",qualifier:["float"],is_optional:true}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_fx"],statements:[{type:"textline",tokens:["fx","=","normalize","(","fo",".","xyz",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_fy"],statements:[{type:"textline",tokens:["fy","=","abs","(","fo",".","z",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_fz"],statements:[{type:"textline",tokens:["fz","=","length","(","fo",".","xyz",")",";"]}]}]}]},{type:"node",name:"COMBRGB",declarations:[{type:"node_in",name:"fA",qualifier:["float"],is_optional:false},{type:"node_in",name:"fB",qualifier:["float"],is_optional:false},{type:"node_in",name:"fC",qualifier:["float"],is_optional:false},{type:"node_out",name:"fD",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fD","=","vec3","(","fA",",","fB",",","fC",")",";"]}]},{type:"node",name:"COMBHSV",declarations:[{type:"node_in",name:"fE",qualifier:["float"],is_optional:false},{type:"node_in",name:"fF",qualifier:["float"],is_optional:false},{type:"node_in",name:"fG",qualifier:["float"],is_optional:false},{type:"node_out",name:"fH",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fH","=","eB","(","vec3","(","fE",",","fF",",","fG",")",")",";"]}]},{type:"node",name:"EMPTY_UV",declarations:[{type:"node_out",name:"fI",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fI","=","vec3","(","-","UNITY_VALUE_NODES",",","-","UNITY_VALUE_NODES",",","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"EMPTY_VC",declarations:[{type:"node_out",name:"fJ",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fJ","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"GEOMETRY_UV",declarations:[{type:"node_out",name:"fK",qualifier:["vec3"],is_optional:false},{type:"node_param",name:"eG",qualifier:["varying","vec2"],is_optional:false}],statements:[{type:"textline",tokens:["fK","=","eD","(","eG",")",";"]}]},{type:"node",name:"GEOMETRY_OR",declarations:[{type:"node_out",name:"fL",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fL","=","2.0","*","en","-","vec3","(","UNITY_VALUE_NODES",")",";"]}]},{type:"node",name:"GEOMETRY_VC",declarations:[{type:"node_out",name:"fM",qualifier:["vec3"],is_optional:false},{type:"node_param",name:"eH",qualifier:["varying","vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fM","=","eH",";","by","(","fM",")",";"]}]},{type:"node",name:"GEOMETRY_VC1",declarations:[{type:"node_out",name:"fN",qualifier:["float"],is_optional:false},{type:"node_param",name:"eI",qualifier:["varying","float"],is_optional:false}],statements:[{type:"textline",tokens:["fN","=","eI",";","by","(","fN",")",";"]}]},{type:"node",name:"GEOMETRY_VC2",declarations:[{type:"node_out",name:"fO",qualifier:["float"],is_optional:false},{type:"node_out",name:"fP",qualifier:["float"],is_optional:false},{type:"node_param",name:"eJ",qualifier:["varying","vec2"],is_optional:false}],statements:[{type:"textline",tokens:["fO","=","eJ","[","0","]",";","fP","=","eJ","[","1","]",";","by","(","fO",")",";","by","(","fP",")",";"]}]},{type:"node",name:"GEOMETRY_VC3",declarations:[{type:"node_out",name:"fQ",qualifier:["float"],is_optional:false},{type:"node_out",name:"fR",qualifier:["float"],is_optional:false},{type:"node_out",name:"fS",qualifier:["float"],is_optional:false},{type:"node_param",name:"eK",qualifier:["varying","vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fQ","=","eK","[","0","]",";","fR","=","eK","[","1","]",";","fS","=","eK","[","2","]",";","by","(","fQ",")",";","by","(","fR",")",";","by","(","fS",")",";"]}]},{type:"node",name:"GEOMETRY_NO",declarations:[{type:"node_out",name:"fT",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fT","=","fr",".","xzy",";","fT",".","y","*=","-","1.0",";"]}]},{type:"node",name:"GEOMETRY_FB",declarations:[{type:"node_out",name:"fU",qualifier:["float"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["INVERT_FRONTFACING"],statements:[{type:"textline",tokens:["fU","=","(","gl_FrontFacing",")","?","ZERO_VALUE_NODES",":","UNITY_VALUE_NODES",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["fU","=","(","gl_FrontFacing",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]}]}]}]},{type:"node",name:"GEOMETRY_VW",declarations:[{type:"node_out",name:"fV",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fV","=","-","(","eU","*","vec4","(","eT",",","0.0",")",")",".","xyz",";"]}]},{type:"node",name:"GEOMETRY_LO",declarations:[{type:"node_out",name:"fW",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fW","[","0","]","=","fo","[","0","]",";","fW","[","1","]","=","fo","[","1","]",";","fW","[","2","]","=","fo","[","2","]",";"]}]},{type:"node",name:"GEOMETRY_GL",declarations:[{type:"node_out",name:"fX",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fX","=","vec3","(","fs",".","r",",","-","fs",".","b",",","fs",".","g",")",";"]}]},{type:"node",name:"NEW_GEOMETRY",declarations:[{type:"node_out",name:"fY",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"fZ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"f_",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"ga",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gb",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gc",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gd",qualifier:["float"],is_optional:false},{type:"node_out",name:"ge",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["fY","=","vec3","(","ZERO_VALUE_NODES",")",";","fZ","=","vec3","(","ZERO_VALUE_NODES",")",";","f_","=","vec3","(","ZERO_VALUE_NODES",")",";","ga","=","vec3","(","ZERO_VALUE_NODES",")",";","gb","=","vec3","(","ZERO_VALUE_NODES",")",";","gc","=","vec3","(","ZERO_VALUE_NODES",")",";","gd","=","ZERO_VALUE_NODES",";","ge","=","ZERO_VALUE_NODES",";"]}]},{type:"node",name:"HUE_SAT",declarations:[{type:"node_in",name:"gf",qualifier:["float"],is_optional:false},{type:"node_in",name:"gg",qualifier:["float"],is_optional:false},{type:"node_in",name:"gh",qualifier:["float"],is_optional:false},{type:"node_in",name:"gi",qualifier:["float"],is_optional:false},{type:"node_in",name:"gj",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gk",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fu","=","ex","(","gj",")",";","fu","[","0","]","+=","(","gf","-","eo",")",";","if","(","fu","[","0","]",">","UNITY_VALUE_NODES",")","fu","[","0","]","-=","UNITY_VALUE_NODES",";","else","if","(","fu","[","0","]","<","ZERO_VALUE_NODES",")","fu","[","0","]","+=","UNITY_VALUE_NODES",";","fu","*=","vec3","(","UNITY_VALUE_NODES",",","gg",",","gh",")",";","fu","=","mix","(","vec3","(","UNITY_VALUE_NODES",")",",","mix","(","vec3","(","ZERO_VALUE_NODES",")",",","fu",",","step","(","vec3","(","ZERO_VALUE_NODES",")",",","fu",")",")",",","step","(","fu",",","vec3","(","UNITY_VALUE_NODES",")",")",")",";","gk","=","mix","(","gj",",","eB","(","fu",")",",","gi",")",";"]}]},{type:"node",name:"INVERT",declarations:[{type:"node_in",name:"gl",qualifier:["float"],is_optional:false},{type:"node_in",name:"gm",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gn",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["gn","=","mix","(","gm",",","vec3","(","UNITY_VALUE_NODES",")","-","gm",",","gl",")",";"]}]},{type:"node",name:"LAMP",declarations:[{type:"node_out",name:"go",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"gp",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gq",qualifier:["float"],is_optional:false},{type:"node_out",name:"gr",qualifier:["float"],is_optional:true}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_go"],statements:[{type:"textline",tokens:["go","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{type:"textline",tokens:["fp","=","u_lamp_light_factors","[","LAMP_INDEX","]",";","fu","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","fv","=","u_lamp_light_positions","[","LAMP_INDEX","]",";","fh","=","fp",".","z",";","if","(","fh","!=","-","UNITY_VALUE_NODES",")","{"]},{type:"textline",tokens:["gp","=","-","bJ","+","fv",";","gq","=","length","(","gp",")",";","gp","=","normalize","(","gp",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_gr"],statements:[{type:"textline",tokens:["gr","=","fh","/","(","fh","+","gq","*","gq",")",";","fh","=","fp",".","x",";","fi","=","fp",".","y",";","if","(","fh",">","-","UNITY_VALUE_NODES",")","{","fj","=","dot","(","gp",",","fu",")",";","fj","*=","smoothstep","(","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",",","(","fj","-","fh",")","/","fi",")",";","gr","*=","fj",";","}"]}]}]},{type:"textline",tokens:["}","else","{"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_gp"],statements:[{type:"textline",tokens:["gp","=","fu",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_gq"],statements:[{type:"textline",tokens:["gq","=","length","(","fv","-","bJ",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_gr"],statements:[{type:"textline",tokens:["gr","=","UNITY_VALUE_NODES",";"]}]}]},{type:"textline",tokens:["}"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_gp"],statements:[{type:"textline",tokens:["gp",".","yz","=","vec2","(","-","gp",".","z",",","gp",".","y",")",";"]}]}]}]},{type:"node",name:"NORMAL",declarations:[{type:"node_in",name:"gs",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gt",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"gu",qualifier:["float"],is_optional:true},{type:"node_param",name:"eL",qualifier:["vec3"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_gt"],statements:[{type:"textline",tokens:["gt","=","eL",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_gu"],statements:[{type:"textline",tokens:["gu","=","-","dot","(","gs",",","eL",")",";"]}]}]}]},{type:"node",name:"B4W_VECTOR_VIEW",declarations:[{type:"node_in",name:"gv",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gw",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["gw","=","-","(","eV","*","vec4","(","gv",",","ZERO_VALUE_NODES",")",")",".","xyz",";"]}]},{type:"node",name:"BSDF_ANISOTROPIC",declarations:[{type:"node_in",name:"gx",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"gy",qualifier:["float"],is_optional:false},{type:"node_in",name:"gz",qualifier:["float"],is_optional:false},{type:"node_in",name:"gA",qualifier:["float"],is_optional:false},{type:"node_in",name:"gB",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"gC",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gD",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["gD","=","gx",";"]},{type:"textline",tokens:["gy",";","gz",";","gA",";","gB",";","gC",";"]}]},{type:"node",name:"BSDF_DIFFUSE",declarations:[{type:"node_in",name:"gE",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"gF",qualifier:["float"],is_optional:false},{type:"node_in",name:"gG",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gH",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["gH","=","gE",";"]},{type:"textline",tokens:["gF",";","gG",";"]}]},{type:"node",name:"BSDF_GLASS",declarations:[{type:"node_in",name:"gI",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"gJ",qualifier:["float"],is_optional:false},{type:"node_in",name:"gK",qualifier:["float"],is_optional:false},{type:"node_in",name:"gL",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gM",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["gM","=","gI",";"]},{type:"textline",tokens:["gJ",";","gK",";","gL",";"]}]},{type:"node",name:"BSDF_GLOSSY",declarations:[{type:"node_in",name:"gN",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"gO",qualifier:["float"],is_optional:false},{type:"node_in",name:"gP",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gQ",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["gQ","=","gN",";"]},{type:"textline",tokens:["gO",";","gP",";"]}]},{type:"node",name:"BSDF_HAIR",declarations:[{type:"node_in",name:"gR",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"gS",qualifier:["float"],is_optional:false},{type:"node_in",name:"gT",qualifier:["float"],is_optional:false},{type:"node_in",name:"gU",qualifier:["float"],is_optional:false},{type:"node_out",name:"gV",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["gV","=","gR",";"]},{type:"textline",tokens:["gS",";","gT",";","gU",";"]}]},{type:"node",name:"BSDF_TRANSPARENT",declarations:[{type:"node_in",name:"gW",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"gX",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["gX","=","gW",";"]}]},{type:"node",name:"BSDF_TRANSLUCENT",declarations:[{type:"node_in",name:"gY",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"gZ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"g_",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["g_","=","gY",";"]},{type:"textline",tokens:["gZ",";"]}]},{type:"node",name:"BSDF_REFRACTION",declarations:[{type:"node_in",name:"ha",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"hb",qualifier:["float"],is_optional:false},{type:"node_in",name:"hc",qualifier:["float"],is_optional:false},{type:"node_in",name:"hd",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"he",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["he","[","0","]","=","he","[","1","]","=","he","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["ha",";","hb",";","hc",";","hd",";"]}]},{type:"node",name:"BSDF_TOON",declarations:[{type:"node_in",name:"hf",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"hg",qualifier:["float"],is_optional:false},{type:"node_in",name:"hh",qualifier:["float"],is_optional:false},{type:"node_in",name:"hi",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"hj",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hj","=","hf",";"]},{type:"textline",tokens:["hg",";","hh",";","hi",";"]}]},{type:"node",name:"BSDF_VELVET",declarations:[{type:"node_in",name:"hk",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"hl",qualifier:["float"],is_optional:false},{type:"node_in",name:"hm",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"hn",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hn","=","hk",";"]},{type:"textline",tokens:["hl",";","hm",";"]}]},{type:"node",name:"SUBSURFACE_SCATTERING",declarations:[{type:"node_in",name:"ho",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"hp",qualifier:["float"],is_optional:false},{type:"node_in",name:"hq",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"hr",qualifier:["float"],is_optional:false},{type:"node_in",name:"hs",qualifier:["float"],is_optional:false},{type:"node_in",name:"ht",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"hu",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hu","[","0","]","=","hu","[","1","]","=","hu","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["ho",";","hq",";","hr",";","hs",";","ht",";","hp",";"]}]},{type:"node",name:"EMISSION",declarations:[{type:"node_in",name:"hv",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"hw",qualifier:["float"],is_optional:false},{type:"node_out",name:"hx",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hx","=","hv",";"]},{type:"textline",tokens:["hw",";"]}]},{type:"node",name:"AMBIENT_OCCLUSION",declarations:[{type:"node_in",name:"hy",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"hz",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hz","[","0","]","=","hz","[","1","]","=","hz","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["hy",";"]}]},{type:"node",name:"HOLDOUT",declarations:[{type:"node_out",name:"hA",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hA","[","0","]","=","hA","[","1","]","=","hA","[","2","]","=","ZERO_VALUE_NODES",";"]}]},{type:"node",name:"VOLUME_ABSORPTION",declarations:[{type:"node_in",name:"hB",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"hC",qualifier:["float"],is_optional:false},{type:"node_out",name:"hD",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hD","[","0","]","=","hD","[","1","]","=","hD","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["hB",";","hC",";"]}]},{type:"node",name:"VOLUME_SCATTER",declarations:[{type:"node_in",name:"hE",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"hF",qualifier:["float"],is_optional:false},{type:"node_in",name:"hG",qualifier:["float"],is_optional:false},{type:"node_out",name:"hH",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hH","[","0","]","=","hH","[","1","]","=","hH","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["hE",";","hF",";","hG",";"]}]},{type:"node",name:"BUMP",declarations:[{type:"node_in",name:"hI",qualifier:["float"],is_optional:false},{type:"node_in",name:"hJ",qualifier:["float"],is_optional:false},{type:"node_in",name:"hK",qualifier:["float"],is_optional:false},{type:"node_in",name:"hL",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"hM",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hM","=","hL",";"]},{type:"textline",tokens:["hI",";","hJ",";","hK",";"]}]},{type:"node",name:"NORMAL_MAP",declarations:[{type:"node_in",name:"hN",qualifier:["float"],is_optional:false},{type:"node_in",name:"hO",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"hP",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hP","=","hO",";"]},{type:"textline",tokens:["hN",";"]}]},{type:"node",name:"VECT_TRANSFORM",declarations:[{type:"node_in",name:"hQ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"hR",qualifier:["vec3"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{type:"equal_expr",places:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{type:"equal_expr",places:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{type:"equal_expr",places:2},{type:"logical_or_expr",places:3}],statements:[{type:"textline",tokens:["hR","=","hQ",";"]}]},{type:"node_else",statements:[{type:"node_condition",parts:[{type:"node_if",expression:["VECTOR_TYPE","VT_POINT",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["fp","=","vec4","(","hQ",",","UNITY_VALUE_NODES",")",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["fp","=","vec4","(","hQ",",","ZERO_VALUE_NODES",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["hR","=","(","eV","*","fp",")",".","xyz",";"]}]},{type:"node_elif",expression:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["hR","=","(","eY","*","fp",")",".","xyz",";"]}]},{type:"node_elif",expression:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["hR","=","(","eX","*","fp",")",".","xyz",";"]}]},{type:"node_elif",expression:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["hR","=","(","eV","*","eX","*","fp",")",".","xyz",";"]}]},{type:"node_elif",expression:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["hR","=","(","eW","*","fp",")",".","xyz",";"]}]},{type:"node_elif",expression:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["hR","=","(","eY","*","eW","*","fp",")",".","xyz",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["VECTOR_TYPE","VT_NORMAL",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["hR","=","normalize","(","hR",")",";"]}]}]}]}]}]},{type:"node",name:"BLACKBODY",declarations:[{type:"node_in",name:"hS",qualifier:["float"],is_optional:false},{type:"node_out",name:"hT",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hT","[","0","]","=","hT","[","1","]","=","hT","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["hS",";"]}]},{type:"node",name:"WAVELENGTH",declarations:[{type:"node_in",name:"hU",qualifier:["float"],is_optional:false},{type:"node_out",name:"hV",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["hV","[","0","]","=","hV","[","1","]","=","hV","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["hU",";"]}]},{type:"node",name:"SEPXYZ",declarations:[{type:"node_in",name:"hW",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"hX",qualifier:["float"],is_optional:false},{type:"node_out",name:"hY",qualifier:["float"],is_optional:false},{type:"node_out",name:"hZ",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["hX","=","hW","[","0","]",";","hY","=","hW","[","1","]",";","hZ","=","hW","[","2","]",";"]}]},{type:"node",name:"COMBXYZ",declarations:[{type:"node_in",name:"h_",qualifier:["float"],is_optional:false},{type:"node_in",name:"ia",qualifier:["float"],is_optional:false},{type:"node_in",name:"ib",qualifier:["float"],is_optional:false},{type:"node_out",name:"ic",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["ic","[","0","]","=","h_",";","ic","[","1","]","=","ia",";","ic","[","2","]","=","ib",";"]}]},{type:"node",name:"BRIGHTCONTRAST",declarations:[{type:"node_in",name:"id",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"ie",qualifier:["float"],is_optional:false},{type:"node_in",name:"ig",qualifier:["float"],is_optional:false},{type:"node_out",name:"ih",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fj","=","ie","-","ig","*","eo",";","ih","=","max","(","(","UNITY_VALUE_NODES","+","ig",")","*","id","+","fj",",","vec3","(","ZERO_VALUE_NODES",")",")",";"]}]},{type:"node",name:"LIGHT_FALLOFF",declarations:[{type:"node_in",name:"ii",qualifier:["float"],is_optional:false},{type:"node_in",name:"ij",qualifier:["float"],is_optional:false},{type:"node_out",name:"ik",qualifier:["float"],is_optional:false},{type:"node_out",name:"il",qualifier:["float"],is_optional:false},{type:"node_out",name:"im",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["ik","=","il","=","im","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["ii",";","ij",";"]}]},{type:"node",name:"TEX_IMAGE",declarations:[{type:"node_in",name:"io",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"ip",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"iq",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["ip","[","0","]","=","ip","[","1","]","=","ip","[","2","]","=","ZERO_VALUE_NODES",";","iq","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["io",";"]}]},{type:"node",name:"TEX_ENVIRONMENT",declarations:[{type:"node_in",name:"ir",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"is",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["is","[","0","]","=","is","[","1","]","=","is","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["ir",";"]}]},{type:"node",name:"TEX_SKY",declarations:[{type:"node_in",name:"it",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"iu",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["iu","[","0","]","=","iu","[","1","]","=","iu","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["it",";"]}]},{type:"node",name:"TEX_NOISE",declarations:[{type:"node_in",name:"iv",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"iw",qualifier:["float"],is_optional:false},{type:"node_in",name:"ix",qualifier:["float"],is_optional:false},{type:"node_in",name:"iy",qualifier:["float"],is_optional:false},{type:"node_out",name:"iz",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"iA",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["iz","[","0","]","=","iz","[","1","]","=","iz","[","2","]","=","ZERO_VALUE_NODES",";","iA","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["iv",";","iw",";","ix",";","iy",";"]}]},{type:"node",name:"TEX_WAVE",declarations:[{type:"node_in",name:"iB",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"iC",qualifier:["float"],is_optional:false},{type:"node_in",name:"iD",qualifier:["float"],is_optional:false},{type:"node_in",name:"iE",qualifier:["float"],is_optional:false},{type:"node_in",name:"iF",qualifier:["float"],is_optional:false},{type:"node_out",name:"iG",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"iH",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["iG","[","0","]","=","iG","[","1","]","=","iG","[","2","]","=","ZERO_VALUE_NODES",";","iH","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["iB",";","iC",";","iD",";","iE",";","iF",";"]}]},{type:"node",name:"TEX_VORONOI",declarations:[{type:"node_in",name:"iI",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"iJ",qualifier:["float"],is_optional:false},{type:"node_out",name:"iK",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"iL",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["iK","[","0","]","=","iK","[","1","]","=","iK","[","2","]","=","ZERO_VALUE_NODES",";","iL","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["iI",";","iJ",";"]}]},{type:"node",name:"TEX_MUSGRAVE",declarations:[{type:"node_in",name:"iM",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"iN",qualifier:["float"],is_optional:false},{type:"node_in",name:"iO",qualifier:["float"],is_optional:false},{type:"node_in",name:"iP",qualifier:["float"],is_optional:false},{type:"node_in",name:"iQ",qualifier:["float"],is_optional:false},{type:"node_in",name:"iR",qualifier:["float"],is_optional:false},{type:"node_in",name:"iS",qualifier:["float"],is_optional:false},{type:"node_out",name:"iT",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"iU",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["iT","[","0","]","=","iT","[","1","]","=","iT","[","2","]","=","ZERO_VALUE_NODES",";","iU","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["iM",";","iN",";","iO",";","iP",";","iQ",";","iR",";","iS",";"]}]},{type:"node",name:"TEX_GRADIENT",declarations:[{type:"node_in",name:"iV",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"iW",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"iX",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["iW","[","0","]","=","iW","[","1","]","=","iW","[","2","]","=","ZERO_VALUE_NODES",";","iX","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["iV",";"]}]},{type:"node",name:"TEX_MAGIC",declarations:[{type:"node_in",name:"iY",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"iZ",qualifier:["float"],is_optional:false},{type:"node_in",name:"i_",qualifier:["float"],is_optional:false},{type:"node_out",name:"ja",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"jb",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["ja","[","0","]","=","ja","[","1","]","=","ja","[","2","]","=","ZERO_VALUE_NODES",";","jb","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["iY",";","iZ",";","i_",";"]}]},{type:"node",name:"TEX_CHECKER",declarations:[{type:"node_in",name:"jc",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"jd",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"je",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"jf",qualifier:["float"],is_optional:false},{type:"node_out",name:"jg",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"jh",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["jg","[","0","]","=","jg","[","1","]","=","jg","[","2","]","=","ZERO_VALUE_NODES",";","jh","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["jc",";","jd",";","je",";","jf",";"]}]},{type:"node",name:"TEX_BRICK",declarations:[{type:"node_in",name:"ji",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"jj",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"jk",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"jl",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"jm",qualifier:["float"],is_optional:false},{type:"node_in",name:"jn",qualifier:["float"],is_optional:false},{type:"node_in",name:"jo",qualifier:["float"],is_optional:false},{type:"node_in",name:"jp",qualifier:["float"],is_optional:false},{type:"node_in",name:"jq",qualifier:["float"],is_optional:false},{type:"node_out",name:"jr",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"js",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["jr","[","0","]","=","jr","[","1","]","=","jr","[","2","]","=","ZERO_VALUE_NODES",";","js","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["ji",";","jj",";","jk",";","jl",";","jm",";","jn",";","jo",";","jp",";","jq",";"]}]},{type:"node",name:"ADD_SHADER",declarations:[{type:"node_in",name:"jt",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"ju",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"jv",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["jv","=","clamp","(","jt","+","ju",",","vec3","(","ZERO_VALUE_NODES",")",",","vec3","(","UNITY_VALUE_NODES",")",")",";"]}]},{type:"node",name:"MIX_SHADER",declarations:[{type:"node_in",name:"jw",qualifier:["float"],is_optional:false},{type:"node_in",name:"jx",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"jy",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"jz",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fj","=","clamp","(","jw",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","jz","=","fj","*","jx","+","(","UNITY_VALUE_NODES","-","fj",")","*","jy",";"]}]},{type:"node",name:"UV_MERGED",declarations:[{type:"node_out",name:"jA",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"jB",qualifier:["vec3"],is_optional:false},{type:"node_param",name:"eM",qualifier:["varying","vec2"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_jA"],statements:[{type:"textline",tokens:["jA","=","eD","(","eM",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_jB"],statements:[{type:"textline",tokens:["jB","=","vec3","(","eM",",","ZERO_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"TEX_COORD_UV",declarations:[{type:"node_out",name:"jC",qualifier:["vec3"],is_optional:false},{type:"node_param",name:"eN",qualifier:["varying","vec2"],is_optional:false}],statements:[{type:"textline",tokens:["jC","=","vec3","(","eN",",","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"TEX_COORD_NO",declarations:[{type:"node_out",name:"jD",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["jD","=","ft",";"]}]},{type:"node",name:"TEX_COORD_GE",declarations:[{type:"node_out",name:"jE",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["jE","=","en",";"]}]},{type:"node",name:"TEX_COORD_OB",declarations:[{type:"node_out",name:"jF",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["jF","[","0","]","=","jF","[","1","]","=","jF","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"TEX_COORD_CA",declarations:[{type:"node_out",name:"jG",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["jG","[","0","]","=","fo","[","0","]",";","jG","[","1","]","=","fo","[","1","]",";","jG","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"TEX_COORD_WI",declarations:[{type:"node_out",name:"jH",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["jH","[","0","]","=","jH","[","1","]","=","jH","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"TEX_COORD_RE",declarations:[{type:"node_out",name:"jI",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["jI","[","0","]","=","jI","[","1","]","=","jI","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"UVMAP",declarations:[{type:"node_out",name:"jJ",qualifier:["vec3"],is_optional:false},{type:"node_param",name:"eO",qualifier:["varying","vec2"],is_optional:false}],statements:[{type:"textline",tokens:["jJ","=","vec3","(","eO",",","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"PARTICLE_INFO",declarations:[{type:"node_out",name:"jK",qualifier:["float"],is_optional:false},{type:"node_out",name:"jL",qualifier:["float"],is_optional:false},{type:"node_out",name:"jM",qualifier:["float"],is_optional:false},{type:"node_out",name:"jN",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"jO",qualifier:["float"],is_optional:false},{type:"node_out",name:"jP",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"jQ",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["jK","=","ZERO_VALUE_NODES",";","jL","=","ZERO_VALUE_NODES",";","jM","=","ZERO_VALUE_NODES",";","jN","=","vec3","(","ZERO_VALUE_NODES",")",";","jO","=","ZERO_VALUE_NODES",";","jP","=","jN",";","jQ","=","jN",";"]}]},{type:"node",name:"HAIR_INFO",declarations:[{type:"node_out",name:"jR",qualifier:["float"],is_optional:false},{type:"node_out",name:"jS",qualifier:["float"],is_optional:false},{type:"node_out",name:"jT",qualifier:["float"],is_optional:false},{type:"node_out",name:"jU",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["jR","=","ZERO_VALUE_NODES",";","jS","=","ZERO_VALUE_NODES",";","jT","=","ZERO_VALUE_NODES",";","jU","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"OBJECT_INFO",declarations:[{type:"node_out",name:"jV",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"jW",qualifier:["float"],is_optional:false},{type:"node_out",name:"jX",qualifier:["float"],is_optional:false},{type:"node_out",name:"jY",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["jW","=","ZERO_VALUE_NODES",";","jX","=","ZERO_VALUE_NODES",";","jY","=","ZERO_VALUE_NODES",";","jV","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"WIREFRAME",declarations:[{type:"node_in",name:"jZ",qualifier:["float"],is_optional:false},{type:"node_out",name:"j_",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["j_","=","jZ",";"]}]},{type:"node",name:"TANGENT",declarations:[{type:"node_out",name:"ka",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["ka","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"LAYER_WEIGHT",declarations:[{type:"node_in",name:"kb",qualifier:["float"],is_optional:false},{type:"node_in",name:"kc",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"kd",qualifier:["float"],is_optional:false},{type:"node_out",name:"ke",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["kd","=","ke","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["kc",";","kb",";"]}]},{type:"node",name:"LIGHT_PATH",declarations:[{type:"node_out",name:"kf",qualifier:["float"],is_optional:false},{type:"node_out",name:"kg",qualifier:["float"],is_optional:false},{type:"node_out",name:"kh",qualifier:["float"],is_optional:false},{type:"node_out",name:"ki",qualifier:["float"],is_optional:false},{type:"node_out",name:"kj",qualifier:["float"],is_optional:false},{type:"node_out",name:"kk",qualifier:["float"],is_optional:false},{type:"node_out",name:"kl",qualifier:["float"],is_optional:false},{type:"node_out",name:"km",qualifier:["float"],is_optional:false},{type:"node_out",name:"kn",qualifier:["float"],is_optional:false},{type:"node_out",name:"ko",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["kf","=","kg","=","kh","=","ZERO_VALUE_NODES",";","ki","=","kj","=","kk","=","ZERO_VALUE_NODES",";","kl","=","kl","=","kn","=","ko","=","ZERO_VALUE_NODES",";","km","=","ZERO_VALUE_NODES",";"]}]},{type:"node",name:"ATTRIBUTE",declarations:[{type:"node_out",name:"kp",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"kq",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"kr",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["kp","=","kq","=","vec3","(","ZERO_VALUE_NODES",")",";","kr","=","ZERO_VALUE_NODES",";"]}]},{type:"node",name:"SCRIPT",declarations:[],statements:[]},{type:"node",name:"CURVE_VEC",declarations:[{type:"node_in",name:"ks",qualifier:["float"],is_optional:false},{type:"node_in",name:"kt",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"ku",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["ku","=","kt",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_R"],statements:[{type:"textline",tokens:["ku",".","r","=","(","texture2D","(","u_nodes_texture",",","vec2","(","0.5","*","kt",".","r","+","0.5",",","NODE_TEX_ROW",")",")",".","r","-","0.5",")","*","2.0",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_G"],statements:[{type:"textline",tokens:["ku",".","g","=","(","texture2D","(","u_nodes_texture",",","vec2","(","0.5","*","kt",".","g","+","0.5",",","NODE_TEX_ROW",")",")",".","g","-","0.5",")","*","2.0",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_B"],statements:[{type:"textline",tokens:["ku",".","b","=","(","texture2D","(","u_nodes_texture",",","vec2","(","0.5","*","kt",".","b","+","0.5",",","NODE_TEX_ROW",")",")",".","b","-","0.5",")","*","2.0",";"]}]}]},{type:"textline",tokens:["ku","=","mix","(","kt",",","ku",",","ks",")",";"]}]},{type:"node",name:"CURVE_RGB",declarations:[{type:"node_in",name:"kv",qualifier:["float"],is_optional:false},{type:"node_in",name:"kw",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"kx",qualifier:["vec3"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["READ_A"],statements:[{type:"textline",tokens:["fj","=","texture2D","(","u_nodes_texture",",","vec2","(","kw",".","r",",","NODE_TEX_ROW",")",")",".","a",";","fi","=","texture2D","(","u_nodes_texture",",","vec2","(","kw",".","g",",","NODE_TEX_ROW",")",")",".","a",";","fh","=","texture2D","(","u_nodes_texture",",","vec2","(","kw",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["fj","=","kw",".","r",";","fi","=","kw",".","g",";","fh","=","kw",".","b",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_R"],statements:[{type:"textline",tokens:["kx",".","r","=","texture2D","(","u_nodes_texture",",","vec2","(","fj",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["kx",".","r","=","fj",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_G"],statements:[{type:"textline",tokens:["kx",".","g","=","texture2D","(","u_nodes_texture",",","vec2","(","fi",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["kx",".","g","=","fi",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_B"],statements:[{type:"textline",tokens:["kx",".","b","=","texture2D","(","u_nodes_texture",",","vec2","(","fh",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["kx",".","b","=","fh",";"]}]}]},{type:"textline",tokens:["kx","=","mix","(","kw",",","kx",",","kv",")",";"]}]},{type:"node",name:"VALTORGB",declarations:[{type:"node_in",name:"ky",qualifier:["float"],is_optional:false},{type:"node_out",name:"kz",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"kA",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["fp","=","texture2D","(","u_nodes_texture",",","vec2","(","ky",",","NODE_TEX_ROW",")",")",";","kz","=","fp",".","rgb",";","kA","=","fp",".","a",";"]}]},{type:"node",name:"MAPPING",declarations:[{type:"node_in",name:"kB",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"kC",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["kC","=","kB",";"]},{type:"node_condition",parts:[{type:"node_ifdef",name:"MAPPING_TRS_MATRIX",statements:[{type:"textline",tokens:["kC","=","(","MAPPING_TRS_MATRIX","*","vec4","(","kC",",","UNITY_VALUE_NODES",")",")",".","xyz",";"]}]}]},{type:"node_condition",parts:[{type:"node_ifdef",name:"MAPPING_SCALE",statements:[{type:"textline",tokens:["kC","=","kC","*","MAPPING_SCALE",";"]}]}]},{type:"node_condition",parts:[{type:"node_ifdef",name:"MAPPING_TRANSLATION",statements:[{type:"textline",tokens:["kC","=","kC","+","MAPPING_TRANSLATION",";"]}]}]},{type:"node_condition",parts:[{type:"node_ifdef",name:"MAPPING_MIN_CLIP",statements:[{type:"textline",tokens:["kC","=","max","(","kC",",","MAPPING_MIN_CLIP",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_ifdef",name:"MAPPING_MAX_CLIP",statements:[{type:"textline",tokens:["kC","=","min","(","kC",",","MAPPING_MAX_CLIP",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["MAPPING_IS_NORMAL"],statements:[{type:"textline",tokens:["kC","=","normalize","(","kC",")",";"]}]}]}]},{type:"node",name:"MATH_ADD",declarations:[{type:"node_in",name:"kD",qualifier:["float"],is_optional:false},{type:"node_in",name:"kE",qualifier:["float"],is_optional:false},{type:"node_out",name:"kF",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["kF","=","kD","+","kE",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["kF","=","clamp","(","kF",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_SUBTRACT",declarations:[{type:"node_in",name:"kG",qualifier:["float"],is_optional:false},{type:"node_in",name:"kH",qualifier:["float"],is_optional:false},{type:"node_out",name:"kI",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["kI","=","kG","-","kH",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["kI","=","clamp","(","kI",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_MULTIPLY",declarations:[{type:"node_in",name:"kJ",qualifier:["float"],is_optional:false},{type:"node_in",name:"kK",qualifier:["float"],is_optional:false},{type:"node_out",name:"kL",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["kL","=","kJ","*","kK",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["kL","=","clamp","(","kL",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_DIVIDE",declarations:[{type:"node_in",name:"kM",qualifier:["float"],is_optional:false},{type:"node_in",name:"kN",qualifier:["float"],is_optional:false},{type:"node_out",name:"kO",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["kO","=","(","kN","!=","ZERO_VALUE_NODES",")","?","kM","/","kN",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["kO","=","clamp","(","kO",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_SINE",declarations:[{type:"node_in",name:"kP",qualifier:["float"],is_optional:false},{type:"node_in",name:"kQ",qualifier:["float"],is_optional:false},{type:"node_out",name:"kR",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["kR","=","sin","(","kP",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["kR","=","clamp","(","kR",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["kQ",";"]}]},{type:"node",name:"MATH_COSINE",declarations:[{type:"node_in",name:"kS",qualifier:["float"],is_optional:false},{type:"node_in",name:"kT",qualifier:["float"],is_optional:false},{type:"node_out",name:"kU",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["kU","=","cos","(","kS",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["kU","=","clamp","(","kU",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["kT",";"]}]},{type:"node",name:"MATH_TANGENT",declarations:[{type:"node_in",name:"kV",qualifier:["float"],is_optional:false},{type:"node_in",name:"kW",qualifier:["float"],is_optional:false},{type:"node_out",name:"kX",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["kX","=","tan","(","kV",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["kX","=","clamp","(","kX",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["kW",";"]}]},{type:"node",name:"MATH_ARCSINE",declarations:[{type:"node_in",name:"kY",qualifier:["float"],is_optional:false},{type:"node_in",name:"kZ",qualifier:["float"],is_optional:false},{type:"node_out",name:"k_",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["k_","=","(","kY","<=","UNITY_VALUE_NODES","&&","kY",">=","-","UNITY_VALUE_NODES",")","?","asin","(","kY",")",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["k_","=","clamp","(","k_",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["kZ",";"]}]},{type:"node",name:"MATH_ARCCOSINE",declarations:[{type:"node_in",name:"la",qualifier:["float"],is_optional:false},{type:"node_in",name:"lb",qualifier:["float"],is_optional:false},{type:"node_out",name:"lc",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["lc","=","(","la","<=","UNITY_VALUE_NODES","&&","la",">=","-","UNITY_VALUE_NODES",")","?","acos","(","la",")",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["lc","=","clamp","(","lc",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["lb",";"]}]},{type:"node",name:"MATH_ARCTANGENT",declarations:[{type:"node_in",name:"ld",qualifier:["float"],is_optional:false},{type:"node_in",name:"le",qualifier:["float"],is_optional:false},{type:"node_out",name:"lf",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["lf","=","atan","(","ld",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["lf","=","clamp","(","lf",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["le",";"]}]},{type:"node",name:"MATH_POWER",declarations:[{type:"node_in",name:"lg",qualifier:["float"],is_optional:false},{type:"node_in",name:"lh",qualifier:["float"],is_optional:false},{type:"node_out",name:"li",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["if","(","lg","<","ZERO_VALUE_NODES","&&","lh","!=","floor","(","lh",")",")","li","=","ZERO_VALUE_NODES",";","else","if","(","lh","==","ZERO_VALUE_NODES",")"]},{type:"textline",tokens:["li","=","UNITY_VALUE_NODES",";","else","if","(","lg","<","ZERO_VALUE_NODES",")","li","=","mix","(","UNITY_VALUE_NODES",",","-","UNITY_VALUE_NODES",",","sign","(","mod","(","-","lh",",","2.0",")",")",")","*","pow","(","-","lg",",","lh",")",";","else","if","(","lg","==","ZERO_VALUE_NODES",")","li","=","ZERO_VALUE_NODES",";","else","li","=","pow","(","lg",",","lh",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["li","=","clamp","(","li",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_LOGARITHM",declarations:[{type:"node_in",name:"lj",qualifier:["float"],is_optional:false},{type:"node_in",name:"lk",qualifier:["float"],is_optional:false},{type:"node_out",name:"ll",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["ll","=","(","lj",">","ZERO_VALUE_NODES","&&","lk",">","ZERO_VALUE_NODES",")","?","log2","(","lj",")","/","log2","(","lk",")",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["ll","=","clamp","(","ll",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_MINIMUM",declarations:[{type:"node_in",name:"lm",qualifier:["float"],is_optional:false},{type:"node_in",name:"ln",qualifier:["float"],is_optional:false},{type:"node_out",name:"lo",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["lo","=","min","(","lm",",","ln",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["lo","=","clamp","(","lo",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_MAXIMUM",declarations:[{type:"node_in",name:"lp",qualifier:["float"],is_optional:false},{type:"node_in",name:"lq",qualifier:["float"],is_optional:false},{type:"node_out",name:"lr",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["lr","=","max","(","lp",",","lq",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["lr","=","clamp","(","lr",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_ROUND",declarations:[{type:"node_in",name:"ls",qualifier:["float"],is_optional:false},{type:"node_in",name:"lt",qualifier:["float"],is_optional:false},{type:"node_out",name:"lu",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["lu","=","floor","(","ls","+","eo",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["lu","=","clamp","(","lu",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["lt",";"]}]},{type:"node",name:"MATH_LESS_THAN",declarations:[{type:"node_in",name:"lv",qualifier:["float"],is_optional:false},{type:"node_in",name:"lw",qualifier:["float"],is_optional:false},{type:"node_out",name:"lx",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["lx","=","(","lv","<","lw",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["lx","=","clamp","(","lx",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_GREATER_THAN",declarations:[{type:"node_in",name:"ly",qualifier:["float"],is_optional:false},{type:"node_in",name:"lz",qualifier:["float"],is_optional:false},{type:"node_out",name:"lA",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["lA","=","(","ly",">","lz",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["lA","=","clamp","(","lA",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_MODULO",declarations:[{type:"node_in",name:"lB",qualifier:["float"],is_optional:false},{type:"node_in",name:"lC",qualifier:["float"],is_optional:false},{type:"node_out",name:"lD",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["lD","=","abs","(","lC",")",">","0.000001","?","mod","(","lB",",","lC",")",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["lD","=","clamp","(","lD",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_ABSOLUTE",declarations:[{type:"node_in",name:"lE",qualifier:["float"],is_optional:false},{type:"node_in",name:"lF",qualifier:["float"],is_optional:false},{type:"node_out",name:"lG",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["lG","=","abs","(","lE",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["lG","=","clamp","(","lG",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["lF",";"]}]},{type:"node",name:"MIX_RGB_MIX",declarations:[{type:"node_in",name:"lH",qualifier:["float"],is_optional:false},{type:"node_in",name:"lI",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"lJ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"lK",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","lH",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lK","=","mix","(","lI",",","lJ",",","fh",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["lK","=","clamp","(","lK",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_ADD",declarations:[{type:"node_in",name:"lL",qualifier:["float"],is_optional:false},{type:"node_in",name:"lM",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"lN",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"lO",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","lL",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lO","=","mix","(","lM",",","lM","+","lN",",","fh",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["lO","=","clamp","(","lO",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_MULTIPLY",declarations:[{type:"node_in",name:"lP",qualifier:["float"],is_optional:false},{type:"node_in",name:"lQ",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"lR",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"lS",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","lP",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lS","=","mix","(","lQ",",","lQ","*","lR",",","fh",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["lS","=","clamp","(","lS",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_SUBTRACT",declarations:[{type:"node_in",name:"lT",qualifier:["float"],is_optional:false},{type:"node_in",name:"lU",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"lV",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"lW",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","lT",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lW","=","mix","(","lU",",","lU","-","lV",",","fh",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["lW","=","clamp","(","lW",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_SCREEN",declarations:[{type:"node_in",name:"lX",qualifier:["float"],is_optional:false},{type:"node_in",name:"lY",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"lZ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"l_",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","lX",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fi","=","UNITY_VALUE_NODES","-","fh",";","l_","=","vec3","(","UNITY_VALUE_NODES",")","-","(","vec3","(","fi",")","+","fh","*","(","vec3","(","UNITY_VALUE_NODES",")","-","lZ",")",")","*","(","vec3","(","UNITY_VALUE_NODES",")","-","lY",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["l_","=","clamp","(","l_",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_DIVIDE",declarations:[{type:"node_in",name:"ma",qualifier:["float"],is_optional:false},{type:"node_in",name:"mb",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mc",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"md",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","ma",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fi","=","UNITY_VALUE_NODES","-","fh",";","mc","+=","step","(","mc",",","vec3","(","ZERO_VALUE_NODES",")",")",";","md","=","fi","*","mb","+","fh","*","mb","/","mc",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["md","=","clamp","(","md",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_DIFFERENCE",declarations:[{type:"node_in",name:"me",qualifier:["float"],is_optional:false},{type:"node_in",name:"mf",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mg",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mh",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","me",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","mh","=","mix","(","mf",",","abs","(","mf","-","mg",")",",","fh",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mh","=","clamp","(","mh",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_DARKEN",declarations:[{type:"node_in",name:"mi",qualifier:["float"],is_optional:false},{type:"node_in",name:"mj",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mk",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"ml",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","mi",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","ml","=","min","(","mj",".","rgb",",","mk",".","rgb","*","fh",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["ml","=","clamp","(","ml",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_LIGHTEN",declarations:[{type:"node_in",name:"mm",qualifier:["float"],is_optional:false},{type:"node_in",name:"mn",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mo",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mp",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","mm",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","mp","=","max","(","mn",".","rgb",",","mo",".","rgb","*","fh",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mp","=","clamp","(","mp",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_OVERLAY",declarations:[{type:"node_in",name:"mq",qualifier:["float"],is_optional:false},{type:"node_in",name:"mr",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"ms",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mt",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","mq",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fv","=","vec3","(","UNITY_VALUE_NODES","-","fh",")",";","mt","=","mix","(","mr","*","(","fv","+","2.0","*","fh","*","ms",")",",","vec3","(","UNITY_VALUE_NODES",")","-","(","fv","+","2.0","*","fh","*","(","vec3","(","UNITY_VALUE_NODES",")","-","ms",")",")","*","(","vec3","(","UNITY_VALUE_NODES",")","-","mr",")",",","step","(","eo",",","mr",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mt","=","clamp","(","mt",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_DODGE",declarations:[{type:"node_in",name:"mu",qualifier:["float"],is_optional:false},{type:"node_in",name:"mv",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mw",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mx",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","mu",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fv","=","vec3","(","UNITY_VALUE_NODES",")","-","fh","*","mw",";","fu","=","clamp","(","mv","/","fv",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","mx","=","mix","(","mix","(","fu",",","vec3","(","UNITY_VALUE_NODES",")",",","step","(","fv",",","vec3","(","ZERO_VALUE_NODES",")",")",")",",","mv",",","step","(","mv",",","vec3","(","ZERO_VALUE_NODES",")",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mx","=","clamp","(","mx",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_BURN",declarations:[{type:"node_in",name:"my",qualifier:["float"],is_optional:false},{type:"node_in",name:"mz",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mA",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mB",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","my",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fv","=","vec3","(","UNITY_VALUE_NODES","-","fh",")",";","fv","=","fv","+","fh","*","mA",";","fu","=","clamp","(","vec3","(","UNITY_VALUE_NODES",")","-","(","vec3","(","UNITY_VALUE_NODES",")","-","mz",")","/","fv",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","mB","=","mix","(","fu",",","vec3","(","ZERO_VALUE_NODES",")",",","step","(","fv",",","vec3","(","ZERO_VALUE_NODES",")",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mB","=","clamp","(","mB",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_HUE",declarations:[{type:"node_in",name:"mC",qualifier:["float"],is_optional:false},{type:"node_in",name:"mD",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mE",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mF",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","mC",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","mF","=","mD",";","fu","=","ex","(","mE",")",";","if","(","fu",".","y","!=","ZERO_VALUE_NODES",")","{","fv","=","ex","(","mF",")",";","fv",".","x","=","fu",".","x",";","fw","=","eB","(","fv",")",";","mF","=","mix","(","mF",",","fw",",","fh",")",";","}"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mF","=","clamp","(","mF",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_SATURATION",declarations:[{type:"node_in",name:"mG",qualifier:["float"],is_optional:false},{type:"node_in",name:"mH",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mI",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mJ",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","mG",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fi","=","UNITY_VALUE_NODES","-","fh",";","mJ","=","mH",";","fw","=","ex","(","mJ",")",";","if","(","fw",".","y","!=","ZERO_VALUE_NODES",")","{","fv","=","ex","(","mI",")",";","fw",".","y","=","fi","*","fw",".","y","+","fh","*","fv",".","y",";","mJ","=","eB","(","fw",")",";","}"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mJ","=","clamp","(","mJ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_VALUE",declarations:[{type:"node_in",name:"mK",qualifier:["float"],is_optional:false},{type:"node_in",name:"mL",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mM",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mN",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","mK",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fi","=","UNITY_VALUE_NODES","-","fh",";","fw","=","ex","(","mL",")",";","fv","=","ex","(","mM",")",";","fw",".","z","=","fi","*","fw",".","z","+","fh","*","fv",".","z",";","mN","=","eB","(","fw",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mN","=","clamp","(","mN",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_COLOR",declarations:[{type:"node_in",name:"mO",qualifier:["float"],is_optional:false},{type:"node_in",name:"mP",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mQ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mR",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","mO",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","mR","=","mP",";","fv","=","ex","(","mQ",")",";","if","(","fv",".","y","!=","ZERO_VALUE_NODES",")","{","fw","=","ex","(","mR",")",";","fw",".","x","=","fv",".","x",";","fw",".","y","=","fv",".","y",";","fu","=","eB","(","fw",")",";","mR","=","mix","(","mR",",","fu",",","fh",")",";","}"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mR","=","clamp","(","mR",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_SOFT_LIGHT",declarations:[{type:"node_in",name:"mS",qualifier:["float"],is_optional:false},{type:"node_in",name:"mT",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mU",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mV",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","mS",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fi","=","UNITY_VALUE_NODES","-","fh",";","fu","=","mU","+","mT","-","mU","*","mT",";","mV","=","mT","*","(","vec3","(","fi",")","+","vec3","(","fh",")","*","(","(","vec3","(","UNITY_VALUE_NODES",")","-","mT",")","*","mU","+","fu",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mV","=","clamp","(","mV",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_LINEAR_LIGHT",declarations:[{type:"node_in",name:"mW",qualifier:["float"],is_optional:false},{type:"node_in",name:"mX",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"mY",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"mZ",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fh","=","clamp","(","mW",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","mZ","=","mX","+","fh","*","(","2.0","*","mY","-","vec3","(","UNITY_VALUE_NODES",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["mZ","=","clamp","(","mZ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"OUTPUT",declarations:[{type:"node_in",name:"m_",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"na",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["eZ","=","m_",";","fc","=","na",";"]}]},{type:"node",name:"MATERIAL_BEGIN",declarations:[{type:"node_in",name:"nb",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nc",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nd",qualifier:["float"],is_optional:false},{type:"node_in",name:"ne",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"nf",qualifier:["float"],is_optional:true},{type:"node_out",name:"ng",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"nh",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"ni",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"nj",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"nk",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"nl",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"nm",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"nn",qualifier:["vec4"],is_optional:false},{type:"node_param",name:"eP",qualifier:["const","vec2"],is_optional:false},{type:"node_param",name:"eQ",qualifier:["const","vec3"],is_optional:false}],statements:[{type:"textline",tokens:["ni","=","clamp","(","nb",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{type:"textline",tokens:["nj","=","eQ","[","0","]","*","clamp","(","nc",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_NORMAL"],statements:[{type:"textline",tokens:["nk","=","normalize","(","ne",")",";"]},{type:"textline",tokens:["nk",".","yz","=","vec2","(","nk",".","z",",","-","nk",".","y",")",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["nk","=","ft",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["SHADELESS_MAT",{type:"logic_negative_expr",places:1}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["MATERIAL_EXT"],statements:[{type:"textline",tokens:["ng","=","nf","*","ni",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["ng","=","ff","*","ni",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_DIFFUSE"],statements:[{type:"textline",tokens:["ni","*=","nd",";"]}]}]},{type:"textline",tokens:["nh","=","fg","*","u_environment_energy","*","dZ","(","nk",")",";","nn","=","dB","(","ni",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["NUM_LIGHTS",0,{type:"g_expr",places:2}],statements:[{type:"textline",tokens:["nl","=","vec2","(","eP","[","0","]",",","eP","[","1","]",")",";"]},{type:"textline",tokens:["nm","=","vec2","(","eQ","[","1","]",",","eQ","[","2","]",")",";"]}]}]},{type:"textline",tokens:["fb","=","nn",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["ng","=","vec3","(","ZERO_VALUE_NODES",")",";","nh","=","vec3","(","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATERIAL_END",declarations:[{type:"node_in",name:"no",qualifier:["vec4"],is_optional:false},{type:"node_in",name:"np",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nq",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nr",qualifier:["float"],is_optional:true},{type:"node_in",name:"ns",qualifier:["float"],is_optional:true},{type:"node_in",name:"nt",qualifier:["float"],is_optional:true},{type:"node_out",name:"nu",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"nv",qualifier:["float"],is_optional:true},{type:"node_out",name:"nw",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"nx",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"ny",qualifier:["vec3"],is_optional:true},{type:"node_param",name:"eR",qualifier:["float"],is_optional:false},{type:"node_param",name:"eS",qualifier:["float"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_nu"],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_DIFFUSE"],statements:[{type:"textline",tokens:["nu","=","no",".","rgb",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["nu","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["MATERIAL_EXT","REFLECTION_TYPE","REFL_NONE",{type:"non_equal_expr",places:2},{type:"logical_and_expr",places:2}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["REFLECTION_TYPE","REFL_PLANE",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["dW","(","nu",",","eT",",","nq",",","nr",",","eU",")",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["dW","(","nu",",","eT",",","nq",",","nr",",","mat4","(","ZERO_VALUE_NODES",")",")",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_SPECULAR"],statements:[{type:"textline",tokens:["nu","+=","np",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_nw"],statements:[{type:"textline",tokens:["nw","=","nq",";"]},{type:"textline",tokens:["nw",".","yz","=","vec2","(","-","nw",".","z",",","nw",".","y",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["MATERIAL_EXT"],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_nx"],statements:[{type:"textline",tokens:["nx","=","no",".","rgb",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_ny"],statements:[{type:"textline",tokens:["ny","=","np",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_nv"],statements:[{type:"textline",tokens:["nv","=","clamp","(","nt",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_SPECULAR"],statements:[{type:"textline",tokens:["fh","=","max","(","max","(","np",".","r",",","np",".","g",")",",","np",".","b",")","*","ns",";","nv","=","clamp","(","nt","*","(","UNITY_VALUE_NODES","-","fh",")","+","fh",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]}]}]},{type:"node_else",statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_nv"],statements:[{type:"textline",tokens:["nv","=","clamp","(","eR",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_SPECULAR"],statements:[{type:"textline",tokens:["fh","=","max","(","max","(","np",".","r",",","np",".","g",")",",","np",".","b",")","*","eS",";","nv","=","eR","*","(","UNITY_VALUE_NODES","-","fh",")","+","fh",";"]}]}]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_SPECULAR"],statements:[{type:"textline",tokens:["e_","=","np",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["e_","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["fa","=","nq",";"]}]},{type:"node",name:"LIGHTING_AMBIENT",declarations:[{type:"node_in",name:"nz",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nA",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nB",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"nC",qualifier:["vec4"],is_optional:false},{type:"node_out",name:"nD",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["nC","=","vec4","(","nz","+","nB","*","nA",",","ZERO_VALUE_NODES",")",";","nD","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"LIGHTING_LAMP",declarations:[{type:"node_in",name:"nE",qualifier:["vec4"],is_optional:false},{type:"node_out",name:"nF",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"nG",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"nH",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"nI",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["nG","=","u_light_factors","[","LAMP_LIGHT_FACT_IND","]",".","LAMP_FAC_CHANNELS",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_TYPE","HEMI",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["nI","=","eo",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["nI","=","ZERO_VALUE_NODES",";"]}]}]},{type:"textline",tokens:["nH","=","u_light_color_intensities","[","LAMP_IND","]",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_SHADOW_MAP_IND",1,{type:"negative_expr",places:1},{type:"non_equal_expr",places:2}],statements:[{type:"textline",tokens:["nH","*=","nE","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_TYPE","SPOT",{type:"equal_expr",places:2},"LAMP_TYPE","POINT",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],statements:[{type:"textline",tokens:["fu","=","u_light_positions","[","LAMP_IND","]",";","nF","=","fu","-","fs",";"]},{type:"textline",tokens:["fh","=","length","(","nF",")",";","nH","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","fh","*","fh",")",";","nF","=","normalize","(","nF",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_TYPE","SPOT",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["fu","=","u_light_directions","[","LAMP_IND","]",";","fh","=","dot","(","nF",",","fu",")",";","fh","*=","smoothstep","(","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",",","(","fh","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","nH","*=","fh",";"]}]}]}]},{type:"node_else",statements:[{type:"textline",tokens:["nF","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{type:"node",name:"DIFFUSE_FRESNEL",declarations:[{type:"node_in",name:"nJ",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nK",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"nL",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nM",qualifier:["float"],is_optional:false},{type:"node_in",name:"nN",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"nO",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["nO","=","ZERO_VALUE_NODES",";","if","(","nK",".","r","!=","ZERO_VALUE_NODES",")","{","fh","=","(","UNITY_VALUE_NODES","-","nM",")","*","dot","(","nL",",","nJ",")","+","nM",";","if","(","nN","[","0","]","==","ZERO_VALUE_NODES",")","{","nO","=","UNITY_VALUE_NODES",";","}","else","{","fh","=","UNITY_VALUE_NODES","+","abs","(","fh",")",";","fh","=","nN","[","1","]","+","(","UNITY_VALUE_NODES","-","nN","[","1","]",")","*","pow","(","fh",",","nN","[","0","]",")",";","nO","=","clamp","(","fh",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","}","nO","=","max","(","nO",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_LAMBERT",declarations:[{type:"node_in",name:"nP",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nQ",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"nR",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nS",qualifier:["float"],is_optional:false},{type:"node_out",name:"nT",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["nT","=","ZERO_VALUE_NODES",";","if","(","nQ",".","r","!=","ZERO_VALUE_NODES",")","{","fh","=","(","UNITY_VALUE_NODES","-","nS",")","*","dot","(","nR",",","nP",")","+","nS",";","nT","=","max","(","fh",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_OREN_NAYAR",declarations:[{type:"node_in",name:"nU",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nV",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"nW",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"nX",qualifier:["float"],is_optional:false},{type:"node_in",name:"nY",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"nZ",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["nZ","=","ZERO_VALUE_NODES",";","if","(","nV",".","r","!=","ZERO_VALUE_NODES",")","{","fh","=","(","UNITY_VALUE_NODES","-","nX",")","*","dot","(","nW",",","nU",")","+","nX",";","if","(","nY","[","0","]",">","ZERO_VALUE_NODES",")","{","fi","=","max","(","dot","(","nW",",","eT",")",",","ZERO_VALUE_NODES",")",";","fj","=","nY","[","0","]","*","nY","[","0","]",";","fk","=","UNITY_VALUE_NODES","-","eo","*","(","fj","/","(","fj","+","0.33",")",")",";","fu","=","nU","-","fh","*","nW",";","fw","=","eT","-","fi","*","nW",";"]},{type:"textline",tokens:["if","(","length","(","fu",")","==","ZERO_VALUE_NODES","||","length","(","fw",")","==","ZERO_VALUE_NODES","||","abs","(","fh",")",">","UNITY_VALUE_NODES","||","abs","(","fi",")",">","UNITY_VALUE_NODES",")"]},{type:"textline",tokens:["nZ","=","fh","*","fk",";","else","{","fl","=","acos","(","fh",")",";","fi","=","acos","(","fi",")",";","fu","=","normalize","(","fu",")",";","fw","=","normalize","(","fw",")",";","fm","=","max","(","fl",",","fi",")",";","fn","=","min","(","fl",",","fi",")",";","fn","*=","0.95",";","fi","=","max","(","dot","(","fu",",","fw",")",",","ZERO_VALUE_NODES",")",";","fj","=","0.45","*","(","fj","/","(","fj","+","0.09",")",")",";","nZ","=","fh","*","(","fk","+","(","fj","*","fi","*","sin","(","fm",")","*","tan","(","fn",")",")",")",";","}","}","else","nZ","=","fh",";","nZ","=","max","(","nZ",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_MINNAERT",declarations:[{type:"node_in",name:"n_",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oa",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"ob",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oc",qualifier:["float"],is_optional:false},{type:"node_in",name:"od",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"oe",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["oe","=","ZERO_VALUE_NODES",";","if","(","oa",".","r","!=","ZERO_VALUE_NODES",")","{","fh","=","(","UNITY_VALUE_NODES","-","oc",")","*","dot","(","ob",",","n_",")","+","oc",";","fn","=","max","(","dot","(","ob",",","eT",")",",","ZERO_VALUE_NODES",")",";","if","(","od","[","0","]","<=","UNITY_VALUE_NODES",")","oe","=","fh","*","pow","(","max","(","fn","*","fh",",","0.1",")",",","od","[","0","]","-","UNITY_VALUE_NODES",")",";","else","oe","=","fh","*","pow","(","1.0001","-","fn",",","od","[","0","]","-","UNITY_VALUE_NODES",")",";","oe","=","max","(","oe",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_TOON",declarations:[{type:"node_in",name:"of",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"og",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"oh",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oi",qualifier:["float"],is_optional:false},{type:"node_in",name:"oj",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"ok",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["ok","=","ZERO_VALUE_NODES",";","if","(","og",".","r","!=","ZERO_VALUE_NODES",")","{","fn","=","(","UNITY_VALUE_NODES","-","oi",")","*","dot","(","oh",",","of",")","+","oi",";","fn","=","acos","(","fn",")",";","if","(","fn","<","oj","[","0","]",")","ok","=","UNITY_VALUE_NODES",";","else","if","(","fn",">","(","oj","[","0","]","+","oj","[","1","]",")","||","oj","[","1","]","==","ZERO_VALUE_NODES",")","ok","=","ZERO_VALUE_NODES",";","else","ok","=","UNITY_VALUE_NODES","-","(","(","fn","-","oj","[","0","]",")","/","oj","[","1","]",")",";","ok","=","max","(","ok",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"SPECULAR_PHONG",declarations:[{type:"node_in",name:"ol",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"om",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"on",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oo",qualifier:["float"],is_optional:false},{type:"node_in",name:"op",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"oq",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["oq","=","ZERO_VALUE_NODES",";","if","(","om",".","g","==","UNITY_VALUE_NODES",")","{","fw","=","normalize","(","ol","+","eT",")",";","oq","=","(","UNITY_VALUE_NODES","-","oo",")","*","max","(","dot","(","on",",","fw",")",",","ZERO_VALUE_NODES",")","+","oo",";","oq","=","pow","(","oq",",","op","[","0","]",")",";","}"]}]},{type:"node",name:"SPECULAR_WARDISO",declarations:[{type:"node_in",name:"or",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"os",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"ot",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"ou",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"ov",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["ov","=","ZERO_VALUE_NODES",";","if","(","os",".","g","==","UNITY_VALUE_NODES",")","{","fw","=","normalize","(","or","+","eT",")",";","fn","=","max","(","dot","(","ot",",","fw",")",",","0.001",")",";"]},{type:"textline",tokens:["fh","=","max","(","dot","(","ot",",","eT",")",",","0.01",")",";","fm","=","max","(","dot","(","ot",",","or",")",",","0.01",")",";","fn","=","tan","(","acos","(","fn",")",")",";","fi","=","max","(","ou","[","0","]",",","0.001",")",";","ov","=","fm","*","(","UNITY_VALUE_NODES","/","(","4.0","*","M_PI","*","fi","*","fi",")",")","*","(","exp","(","-","(","fn","*","fn",")","/","(","fi","*","fi",")",")","/","(","sqrt","(","fh","*","fm",")",")",")",";","}"]}]},{type:"node",name:"SPECULAR_TOON",declarations:[{type:"node_in",name:"ow",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"ox",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"oy",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oz",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"oA",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["oA","=","ZERO_VALUE_NODES",";","if","(","ox",".","g","==","UNITY_VALUE_NODES",")","{","fw","=","normalize","(","ow","+","eT",")",";","fm","=","acos","(","dot","(","fw",",","oy",")",")",";","if","(","fm","<","oz","[","0","]",")","oA","=","UNITY_VALUE_NODES",";","else","if","(","fm",">=","oz","[","0","]","+","oz","[","1","]","||","oz","[","1","]","==","ZERO_VALUE_NODES",")","oA","=","ZERO_VALUE_NODES",";","else","oA","=","UNITY_VALUE_NODES","-","(","fm","-","oz","[","0","]",")","/","oz","[","1","]",";","}"]}]},{type:"node",name:"SPECULAR_BLINN",declarations:[{type:"node_in",name:"oB",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oC",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"oD",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oE",qualifier:["float"],is_optional:false},{type:"node_in",name:"oF",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"oG",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["oG","=","ZERO_VALUE_NODES",";","if","(","oC",".","g","==","UNITY_VALUE_NODES",")","{","if","(","oF","[","0","]","<","UNITY_VALUE_NODES","||","oF","[","1","]","==","ZERO_VALUE_NODES",")","oG","=","ZERO_VALUE_NODES",";","else","{","if","(","oF","[","1","]","<","100.0",")","oF","[","1","]","=","sqrt","(","UNITY_VALUE_NODES","/","oF","[","1","]",")",";","else","oF","[","1","]","=","10.0","/","oF","[","1","]",";","fw","=","normalize","(","eT","+","oB",")",";","fm","=","(","UNITY_VALUE_NODES","-","oE",")","*","max","(","dot","(","oD",",","fw",")",",","ZERO_VALUE_NODES",")","+","oE",";","if","(","fm","<","ZERO_VALUE_NODES",")","oG","=","ZERO_VALUE_NODES",";","else","{","fh","=","max","(","dot","(","oD",",","eT",")",",","0.01",")",";","fi","=","dot","(","oD",",","oB",")",";","if","(","fi","<=","0.01",")","oG","=","ZERO_VALUE_NODES",";","else","{","fn","=","max","(","dot","(","eT",",","fw",")",",","0.01",")",";","fj","=","UNITY_VALUE_NODES",";","fh","=","(","2.0","*","fm","*","fh",")","/","fn",";","fi","=","(","2.0","*","fm","*","fi",")","/","fn",";","fi","=","min","(","min","(","fj",",","fh",")",",","fi",")",";","fh","=","sqrt","(","pow","(","oF","[","0","]",",","2.0",")","+","pow","(","fn",",","2.0",")","-","UNITY_VALUE_NODES",")",";","fn","=","pow","(","fh","-","fn",",","2.0",")","/","pow","(","fh","+","fn",",","2.0",")","*","(","UNITY_VALUE_NODES","+","pow","(","fn","*","(","fh","+","fn",")","-","UNITY_VALUE_NODES",",","2.0",")","/","pow","(","fn","*","(","fh","-","fn",")","+","UNITY_VALUE_NODES",",","2.0",")",")",";","fm","=","acos","(","fm",")",";","oG","=","max","(","fn","*","fi","*","exp","(","-","pow","(","fm",",","2.0",")","/","(","2.0","*","pow","(","oF","[","1","]",",","2.0",")",")",")",",","ZERO_VALUE_NODES",")",";","}","}","}","}"]}]},{type:"node",name:"LIGHTING_APPLY",declarations:[{type:"node_in",name:"oH",qualifier:["vec4"],is_optional:false},{type:"node_in",name:"oI",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oJ",qualifier:["float"],is_optional:false},{type:"node_in",name:"oK",qualifier:["float"],is_optional:false},{type:"node_in",name:"oL",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oM",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oN",qualifier:["vec4"],is_optional:false},{type:"node_in",name:"oO",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oP",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oQ",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"oR",qualifier:["float"],is_optional:false},{type:"node_out",name:"oS",qualifier:["vec4"],is_optional:false},{type:"node_out",name:"oT",qualifier:["vec3"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_NODE_B4W_TRANSLUCENCY"],statements:[{type:"textline",tokens:["if","(","dot","(","oL",",","oM",")","*","dot","(","eT",",","oM",")","<","ZERO_VALUE_NODES",")","{","fm","=","oN",".","x",";","fi","=","oN",".","y",";","fn","=","oN",".","z",";","fh","=","oN",".","w",";"]},{type:"textline",tokens:["fj","=","clamp","(","abs","(","dot","(","oL",",","oM",")",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fk","=","clamp","(","dot","(","eT",",","-","oL",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fi","=","pow","(","fk",",","fi",")",";"]},{type:"textline",tokens:["oS","=","oH","+","oR","*","vec4","(","oQ","*","fj","*","pow","(","oO",",","vec3","(","fm",")",")",",","UNITY_VALUE_NODES",")",";"]},{type:"textline",tokens:["oS","+=","fn","*","mix","(","vec4","(","oO",",","UNITY_VALUE_NODES",")",",","vec4","(","UNITY_VALUE_NODES",")",",","fh",")","*","oR","*","vec4","(","oQ","*","fj","*","vec3","(","fi",")",",","UNITY_VALUE_NODES",")",";","oT","=","oI",";","}","else","{"]},{type:"textline",tokens:["oT","=","oI","+","oQ","*","oP","*","oK",";","oS","=","oH","+","vec4","(","oQ","*","oO","*","oJ",",","oK",")",";","}"]}]},{type:"node_else",statements:[{type:"textline",tokens:["oT","=","oI","+","oQ","*","oP","*","oK",";","oS","=","oH","+","vec4","(","oQ","*","oO","*","oJ",",","oK",")",";"]}]}]}]},{type:"node",name:"RGB",declarations:[{type:"node_out",name:"oU",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["oU","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{type:"node",name:"RGBTOBW",declarations:[{type:"node_in",name:"oV",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"oW",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["oW","=","dot","(","oV",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{type:"node",name:"SEPRGB",declarations:[{type:"node_in",name:"oX",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"oY",qualifier:["float"],is_optional:true},{type:"node_out",name:"oZ",qualifier:["float"],is_optional:true},{type:"node_out",name:"o_",qualifier:["float"],is_optional:true}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_oY"],statements:[{type:"textline",tokens:["oY","=","oX",".","r",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_oZ"],statements:[{type:"textline",tokens:["oZ","=","oX",".","g",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_o_"],statements:[{type:"textline",tokens:["o_","=","oX",".","b",";"]}]}]}]},{type:"node",name:"SEPHSV",declarations:[{type:"node_in",name:"pa",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"pb",qualifier:["float"],is_optional:true},{type:"node_out",name:"pc",qualifier:["float"],is_optional:true},{type:"node_out",name:"pd",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["fw","=","ex","(","pa",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pb"],statements:[{type:"textline",tokens:["pb","=","fw",".","r",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pc"],statements:[{type:"textline",tokens:["pc","=","fw",".","g",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pd"],statements:[{type:"textline",tokens:["pd","=","fw",".","b",";"]}]}]}]},{type:"node",name:"SQUEEZE",declarations:[{type:"node_in",name:"pe",qualifier:["float"],is_optional:false},{type:"node_in",name:"pf",qualifier:["float"],is_optional:false},{type:"node_in",name:"pg",qualifier:["float"],is_optional:false},{type:"node_out",name:"ph",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["ph","=","UNITY_VALUE_NODES","/","(","UNITY_VALUE_NODES","+","pow","(","2.71828183",",","-","(","pe","-","pg",")","*","pf",")",")",";"]}]},{type:"node",name:"GAMMA",declarations:[{type:"node_in",name:"pi",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"pj",qualifier:["float"],is_optional:false},{type:"node_out",name:"pk",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["pk","=","pi",";","if","(","pk",".","x",">","ZERO_VALUE_NODES",")","pk",".","x","=","pow","(","pi",".","x",",","pj",")",";","if","(","pk",".","y",">","ZERO_VALUE_NODES",")","pk",".","y","=","pow","(","pi",".","y",",","pj",")",";","if","(","pk",".","z",">","ZERO_VALUE_NODES",")","pk",".","z","=","pow","(","pi",".","z",",","pj",")",";"]}]},{type:"node",name:"B4W_SRGB_TO_LINEAR",declarations:[{type:"node_in",name:"pl",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"pm",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["pm","=","max","(","vec3","(","ZERO_VALUE_NODES",")",",","pl",")",";","pm","=","pow","(","pm",",","vec3","(","2.2",")",")",";"]}]},{type:"node",name:"B4W_LINEAR_TO_SRGB",declarations:[{type:"node_in",name:"pn",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"po",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["po","=","max","(","vec3","(","ZERO_VALUE_NODES",")",",","pn",")",";","po","=","pow","(","po",",","vec3","(","UNITY_VALUE_NODES","/","2.2",")",")",";"]}]},{type:"node",name:"TEXTURE_EMPTY",declarations:[{type:"node_out",name:"pp",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"pq",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"pr",qualifier:["float"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pp"],statements:[{type:"textline",tokens:["pp","[","2","]","=","pp","[","1","]","=","pp","[","0","]","=","ZERO_VALUE_NODES",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pq"],statements:[{type:"textline",tokens:["pq","[","2","]","=","pq","[","1","]","=","pq","[","0","]","=","ZERO_VALUE_NODES",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pr"],statements:[{type:"textline",tokens:["pr","=","ZERO_VALUE_NODES",";"]}]}]}]},{type:"node",name:"TEXTURE_ENVIRONMENT",declarations:[{type:"node_in",name:"ps",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"pt",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pu",qualifier:["float"],is_optional:true},{type:"node_param",name:"node_TEXTURE_ENVIRONMENT_var_texture",qualifier:["uniform","samplerCube"],is_optional:false}],statements:[{type:"textline",tokens:["fw","=","vec3","(","ps",".","x",",","ps",".","z",",","-","ps",".","y",")",";","fp","=","textureCube","(","node_TEXTURE_ENVIRONMENT_var_texture",",","fw",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pt"],statements:[{type:"textline",tokens:["pt","=","fp",".","xyz",";","by","(","pt",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pu"],statements:[{type:"textline",tokens:["pu","=","fp",".","w",";"]}]}]}]},{type:"node",name:"TEXTURE_COLOR",declarations:[{type:"node_in",name:"pv",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"pw",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"px",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"py",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pz",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pA",qualifier:["float"],is_optional:true},{type:"node_out",name:"pB",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pC",qualifier:["float"],is_optional:true},{type:"node_out",name:"pD",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pE",qualifier:["float"],is_optional:true},{type:"node_out",name:"pF",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pG",qualifier:["float"],is_optional:true},{type:"node_param",name:"node_TEXTURE_COLOR_var_texture",qualifier:["uniform","sampler2D"],is_optional:false}],statements:[{type:"textline",tokens:["fp","=","texture2D","(","node_TEXTURE_COLOR_var_texture",",","eF","(","pv",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pz"],statements:[{type:"textline",tokens:["pz","=","fp",".","xyz",";","by","(","pz",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pA"],statements:[{type:"textline",tokens:["pA","=","fp",".","w",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv2"],statements:[{type:"textline",tokens:["fp","=","texture2D","(","node_TEXTURE_COLOR_var_texture",",","eF","(","pw",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pB"],statements:[{type:"textline",tokens:["pB","=","fp",".","xyz",";","by","(","pB",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pC"],statements:[{type:"textline",tokens:["pC","=","fp",".","w",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv3"],statements:[{type:"textline",tokens:["fp","=","texture2D","(","node_TEXTURE_COLOR_var_texture",",","eF","(","px",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pD"],statements:[{type:"textline",tokens:["pD","=","fp",".","xyz",";","by","(","pD",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pE"],statements:[{type:"textline",tokens:["pE","=","fp",".","w",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv4"],statements:[{type:"textline",tokens:["fp","=","texture2D","(","node_TEXTURE_COLOR_var_texture",",","eF","(","py",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pF"],statements:[{type:"textline",tokens:["pF","=","fp",".","xyz",";","by","(","pF",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pG"],statements:[{type:"textline",tokens:["pG","=","fp",".","w",";"]}]}]}]}]}]},{type:"node",name:"TEXTURE_NORMAL",declarations:[{type:"node_in",name:"pH",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"pI",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"pJ",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"pK",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pL",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pM",qualifier:["float"],is_optional:true},{type:"node_out",name:"pN",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pO",qualifier:["float"],is_optional:true},{type:"node_out",name:"pP",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pQ",qualifier:["float"],is_optional:true},{type:"node_out",name:"pR",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"pS",qualifier:["float"],is_optional:true},{type:"node_param",name:"node_TEXTURE_NORMAL_var_texture",qualifier:["uniform","sampler2D"],is_optional:false}],statements:[{type:"textline",tokens:["fp","=","texture2D","(","node_TEXTURE_NORMAL_var_texture",",","eF","(","pH",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pL"],statements:[{type:"textline",tokens:["pL","=","normalize","(","fq","*","(","fp",".","xyz","-","eo",")",")",";"]},{type:"textline",tokens:["pL",".","yz","=","vec2","(","-","pL",".","z",",","pL",".","y",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pM"],statements:[{type:"textline",tokens:["pM","=","fp",".","w",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv2"],statements:[{type:"textline",tokens:["fp","=","texture2D","(","node_TEXTURE_NORMAL_var_texture",",","eF","(","pI",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pN"],statements:[{type:"textline",tokens:["pN","=","normalize","(","fq","*","(","fp",".","xyz","-","eo",")",")",";"]},{type:"textline",tokens:["pN",".","yz","=","vec2","(","-","pN",".","z",",","pN",".","y",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pO"],statements:[{type:"textline",tokens:["pO","=","fp",".","w",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv3"],statements:[{type:"textline",tokens:["fp","=","texture2D","(","node_TEXTURE_NORMAL_var_texture",",","eF","(","pJ",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pP"],statements:[{type:"textline",tokens:["pP","=","normalize","(","fq","*","(","fp",".","xyz","-","eo",")",")",";"]},{type:"textline",tokens:["pP",".","yz","=","vec2","(","-","pP",".","z",",","pP",".","y",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pQ"],statements:[{type:"textline",tokens:["pQ","=","fp",".","w",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv4"],statements:[{type:"textline",tokens:["fp","=","texture2D","(","node_TEXTURE_NORMAL_var_texture",",","eF","(","pK",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pR"],statements:[{type:"textline",tokens:["pR","=","normalize","(","fq","*","(","fp",".","xyz","-","eo",")",")",";"]},{type:"textline",tokens:["pR",".","yz","=","vec2","(","-","pR",".","z",",","pR",".","y",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pS"],statements:[{type:"textline",tokens:["pS","=","fp",".","w",";"]}]}]}]}]}]},{type:"node",name:"VALUE",declarations:[{type:"node_out",name:"pT",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["pT","=","u_node_values","[","VALUE_IND","]",";"]}]},{type:"node",name:"VECT_MATH_ADD",declarations:[{type:"node_in",name:"pU",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"pV",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"pW",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"pX",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["pW","=","pU","+","pV",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_pX"],statements:[{type:"textline",tokens:["pX","=","(","abs","(","pW","[","0","]",")","+","abs","(","pW","[","1","]",")","+","abs","(","pW","[","2","]",")",")","/","3.0",";"]}]}]}]},{type:"node",name:"VECT_MATH_SUBTRACT",declarations:[{type:"node_in",name:"pY",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"pZ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"p_",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qa",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["p_","=","pY","-","pZ",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_qa"],statements:[{type:"textline",tokens:["qa","=","(","abs","(","p_","[","0","]",")","+","abs","(","p_","[","1","]",")","+","abs","(","p_","[","2","]",")",")","/","3.0",";"]}]}]}]},{type:"node",name:"VECT_MATH_AVERAGE",declarations:[{type:"node_in",name:"qb",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"qc",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qd",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qe",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["qd","=","qb","+","qc",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_qe"],statements:[{type:"textline",tokens:["qe","=","length","(","qd",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_qd"],statements:[{type:"textline",tokens:["qd","=","normalize","(","qd",")",";"]}]}]}]},{type:"node",name:"VECT_MATH_DOT_PRODUCT",declarations:[{type:"node_in",name:"qf",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"qg",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qh",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qi",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["qh","=","vec3","(","ZERO_VALUE_NODES",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_qi"],statements:[{type:"textline",tokens:["qi","=","dot","(","qf",",","qg",")",";"]}]}]}]},{type:"node",name:"VECT_MATH_CROSS_PRODUCT",declarations:[{type:"node_in",name:"qj",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"qk",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"ql",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qm",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["ql","=","cross","(","qj",",","qk",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_qm"],statements:[{type:"textline",tokens:["qm","=","length","(","ql",")",";"]}]}]}]},{type:"node",name:"VECT_MATH_NORMALIZE",declarations:[{type:"node_in",name:"qn",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"qo",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qp",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qq",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["qp","=","normalize","(","qn",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_qq"],statements:[{type:"textline",tokens:["qq","=","length","(","qn",")",";"]}]}]},{type:"textline",tokens:["qo",";"]}]},{type:"node",name:"B4W_REFLECT",declarations:[{type:"node_in",name:"qr",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"qs",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qt",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["qt","=","reflect","(","(","eW","*","vec4","(","qr",",","0.0",")",")",".","xyz",",","qs",")",";"]}]},{type:"node",name:"B4W_REFLECT_WORLD",declarations:[{type:"node_in",name:"qu",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qv",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["fw","=","vec3","(","-","eT",".","x",",","eT",".","z",",","-","eT",".","y",")",";","qv","=","reflect","(","fw",",","qu",")",";"]}]},{type:"node",name:"B4W_PARALLAX",declarations:[{type:"node_in",name:"qw",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"qx",qualifier:["float"],is_optional:false},{type:"node_in",name:"qy",qualifier:["const","float"],is_optional:false},{type:"node_in",name:"qz",qualifier:["const","float"],is_optional:false},{type:"node_out",name:"qA",qualifier:["vec3"],is_optional:false},{type:"node_param",name:"node_B4W_PARALLAX_var_texture",qualifier:["uniform","sampler2D"],is_optional:false}],statements:[{type:"textline",tokens:["fi","=","length","(","fo",")",";","if","(","fi","<","qz",")","{","fd","=","eF","(","qw",")",";","fi","=","clamp","(","eo","*","(","qz","-","fi",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","fi","=","qx","*","fi",";"]},{type:"textline",tokens:["fw","=","normalize","(","eT","*","fq",")",";"]},{type:"textline",tokens:["fj","=","UNITY_VALUE_NODES","/","qy",";"]},{type:"textline",tokens:["fe","=","fw",".","xy","*","fi","/","(","qy","*","fw",".","z",")",";","fi","=","UNITY_VALUE_NODES",";","fh","=","texture2D","(","node_B4W_PARALLAX_var_texture",",","fd",")",".","a",";"]},{type:"textline",tokens:["for","(","float","qB","=","1.0",";","qB","<=","qy",";","qB","++",")","{","if","(","fh","<","fi",")","{","fi","-=","fj",";","fd","-=","fe",";","fh","=","texture2D","(","node_B4W_PARALLAX_var_texture",",","fd",")",".","a",";","}","}"]},{type:"textline",tokens:["fe","=","fd","+","fe",";","fj","=","texture2D","(","node_B4W_PARALLAX_var_texture",",","fe",")",".","a","-","(","fi","+","fj",")",";","fi","=","fh","-","fi",";","fj","=","fi","/","(","fi","-","fj",")",";"]},{type:"textline",tokens:["fd","=","fj","*","fe","+","(","UNITY_VALUE_NODES","-","fj",")","*","fd",";","qA","=","eD","(","fd",")",";","}","else","qA","=","qw",";"]}]},{type:"node",name:"B4W_CLAMP",declarations:[{type:"node_in",name:"qC",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qD",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["qD","=","clamp","(","qC",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]},{type:"node",name:"B4W_REFRACTION",declarations:[{type:"node_in",name:"qE",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"qF",qualifier:["float"],is_optional:false},{type:"node_out",name:"qG",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["qG","=","es","(","qE",",","qF",")",";"]}]},{type:"node",name:"B4W_TRANSLUCENCY",declarations:[{type:"node_in",name:"qH",qualifier:["float"],is_optional:false},{type:"node_in",name:"qI",qualifier:["float"],is_optional:false},{type:"node_in",name:"qJ",qualifier:["float"],is_optional:false},{type:"node_in",name:"qK",qualifier:["float"],is_optional:false},{type:"node_in",name:"qL",qualifier:["float"],is_optional:false},{type:"node_out",name:"qM",qualifier:["float"],is_optional:true},{type:"node_out",name:"qN",qualifier:["vec4"],is_optional:true}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_qM"],statements:[{type:"textline",tokens:["qM","=","qH",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_qN"],statements:[{type:"textline",tokens:["qN","=","vec4","(","qI",",","qJ",",","qK",",","qL",")",";"]}]}]}]},{type:"node",name:"B4W_TIME",declarations:[{type:"node_out",name:"qO",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["qO","=","u_time",";"]}]},{type:"node",name:"B4W_SMOOTHSTEP",declarations:[{type:"node_in",name:"qP",qualifier:["float"],is_optional:false},{type:"node_in",name:"qQ",qualifier:["float"],is_optional:false},{type:"node_in",name:"qR",qualifier:["float"],is_optional:false},{type:"node_out",name:"qS",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["qS","=","smoothstep","(","qQ",",","qR",",","qP",")",";"]}]},{type:"node",name:"B4W_GLOW_OUTPUT",declarations:[{type:"node_in",name:"qT",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"qU",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["eZ","=","qT",";","fc","=","qU",";"]}]},{type:"node",name:"B4W_VECTOSCAL",declarations:[{type:"node_in",name:"qV",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"qW",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["qW","=","(","qV",".","r","+","qV",".","g","+","qV",".","b",")","/","3.0",";"]}]},{type:"node",name:"B4W_SCALTOVEC",declarations:[{type:"node_in",name:"qX",qualifier:["float"],is_optional:false},{type:"node_out",name:"qY",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["qY","[","0","]","=","qX",";","qY","[","1","]","=","qX",";","qY","[","2","]","=","qX",";"]}]},{type:"nodes_global"},{type:"textline",tokens:["void","qZ","(","in","vec3","eT",",","in","mat4","eU",",","in","mat4","eV",",","in","mat4","eW",",","in","mat4","eX",",","in","mat4","eY",",","out","vec3","eZ",",","out","vec3","e_",",","out","vec3","fa",",","out","vec4","fb",",","out","float","fc",")","{","vec2","fd",",","fe",";","float","ff",",","fg",",","fh",",","fi",",","fj",",","fk",",","fl",",","fm",",","fn",";","vec4","fo",",","fp",";","mat3","fq",";","vec3","fr",",","fs",",","ft",",","fu",",","fv",",","fw",";","eZ","=","vec3","(","ZERO_VALUE_NODES",")",";","e_","=","vec3","(","ZERO_VALUE_NODES",")",";","fa","=","vec3","(","ZERO_VALUE_NODES",")",";","fb","=","vec4","(","ZERO_VALUE_NODES",")",";","fc","=","ZERO_VALUE_NODES",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO",{type:"logical_or_expr",places:5}],group:{type:"group",parts:[{type:"textline",tokens:["fr","=","normalize","(","bL",")",";","fs","=","fr",";"]},{type:"condition",parts:[{type:"if",expression:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["INVERT_FRONTFACING"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","!","gl_FrontFacing",")"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["if","(","gl_FrontFacing",")"]}]}}]},{type:"textline",tokens:["fs","=","fs",";","else","fs","=","-","fs",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DOUBLE_SIDED_LIGHTING"],group:{type:"group",parts:[{type:"textline",tokens:["ft","=","fs",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["ft","=","fr",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_GEOMETRY_NO"],group:{type:"group",parts:[{type:"textline",tokens:["fr","=","fs",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["fu","=","cross","(","fs",",","bM",".","xyz",")","*","bM",".","w",";","fq","=","mat3","(","bM",".","xyz",",","fu",",","fs",")",";","fq","=","fq",";"]}]}}]},{type:"textline",tokens:["fs","=","bJ",";","fo","=","bK",";","ff","=","u_emit",";","fg","=","u_ambient",";"]},{type:"nodes_main"},{type:"textline",tokens:["}"]}]},exports["include/to_world.glslv"] = {type:"group",parts:[{type:"define",name:"M_PI",tokens:["3.14159265359"]},{type:"define",name:"MAX_BILLBOARD_ANGLE",tokens:["(","M_PI","/","4.0",")"]},{type:"textline",tokens:["const","vec3","q_","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD_SPHERICAL","BILLBOARD",{type:"logic_negative_expr",places:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{type:"equal_expr",places:2},{type:"logical_and_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["mat4","rf","(","vec3","ra",",","mat4","rb",")","{","vec3","rc",",","rd",",","re",";","rc","=","vec3","(","rb","[","0","]","[","0","]",",","rb","[","1","]","[","0","]",",","rb","[","2","]","[","0","]",")",";","rd","=","vec3","(","rb","[","0","]","[","1","]",",","rb","[","1","]","[","1","]",",","rb","[","2","]","[","1","]",")",";","re","=","vec3","(","rb","[","0","]","[","2","]",",","rb","[","1","]","[","2","]",",","rb","[","2","]","[","2","]",")",";","rd","=","cross","(","re",",","rc",")",";","return","mat4","(","vec4","(","rc",",","0.0",")",",","vec4","(","rd",",","0.0",")",",","vec4","(","re",",","0.0",")",",","vec4","(","ra",",","1.0",")",")",";","}"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["mat4","rl","(","vec3","rg",",","vec3","rh",")","{","vec3","ri",",","rj",",","rk",";","ri","=","rg","-","rh",";","ri",".","y","=","0.0",";","ri","=","normalize","(","ri",")",";","rj","=","normalize","(","cross","(","q_",",","ri",")",")",";","rk","=","normalize","(","cross","(","ri",",","rj",")",")",";","return","mat4","(","vec4","(","rj",",","0.0",")",",","vec4","(","rk",",","0.0",")",",","vec4","(","ri",",","0.0",")",",","vec4","(","rh",",","1.0",")",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD_JITTERED"],group:{type:"group",parts:[{type:"textline",tokens:["mat4","rt","(","in","vec3","rm",",","float","rn",",","float","ro",",","float","rp",",","vec3","rq",")","{","float","rr",",","rs",";","rr","=","fract","(","length","(","rq",")","/","0.17",")",";","rs","=","rp","+","rr","/","10.0",";","rr","=","rr",";","if","(","rp","!=","0.0",")","rr","/=","rp",";","rm","*=","1.0","+","0.5","*","sin","(","rn",")",";","rr","=","length","(","rm",")","*","ro","*","sin","(","2.0","*","3.14","*","rn","*","rs","+","rr",")",";","return","C","(","rr",")",";","}"]}]}}]},{type:"textline",tokens:["mat4","rB","(","in","vec3","ru",",","in","vec3","rv",",","in","mat4","rw",")","{","vec3","rx",";","float","ry",",","rz",";","mat4","rA",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD_SPHERICAL","BILLBOARD",{type:"logic_negative_expr",places:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{type:"equal_expr",places:2},{type:"logical_and_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["rA","=","rf","(","rv",",","rw",")",";"]}]}},{type:"elif",expression:["BILLBOARD_RANDOM"],group:{type:"group",parts:[{type:"textline",tokens:["ry","=","fract","(","(","rv",".","x","*","1.43","+","rv",".","y","*","0.123","+","rv",".","z","*","6.1",")",")",";","ry","=","2.0","*","M_PI","*","ry",";","rx","=","normalize","(","vec3","(","rw","[","0","]","[","2","]",",","0.0",",","rw","[","2","]","[","2","]",")",")",";","rz","=","acos","(","rx","[","2","]",")",";","if","(","rx","[","0","]","<","0.0",")","rz","=","2.0","*","M_PI","-","rz",";","rz","=","rz","-","ry",";","if","(","rz","<","0.0",")","rz","=","2.0","*","M_PI","+","rz",";","ry","=","ry",";","if","(","rz","<=","MAX_BILLBOARD_ANGLE",")","ry","+=","rz",";","else","if","(","rz","<=","M_PI","-","MAX_BILLBOARD_ANGLE",")","ry","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","rz","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")",";","else","if","(","rz","<=","M_PI","+","MAX_BILLBOARD_ANGLE",")","ry","+=","rz","-","M_PI",";","else","if","(","rz","<=","2.0","*","M_PI","-","MAX_BILLBOARD_ANGLE",")","ry","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","rz","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")","+","M_PI",";","else","ry","+=","rz","-","2.0","*","M_PI",";","rA","=","A","(","ry",")",";","rA","[","3","]","=","vec4","(","rv",",","1.0",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["rA","=","rl","(","ru",",","rv",")",";"]}]}}]},{type:"textline",tokens:["return","rA",";","}"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2},"USE_INSTANCED_PARTCLS",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["mat4","rH","(","in","vec3","rC",",","in","vec3","rD",",","in","mat4","rE",",","mat4","rF",")","{","mat4","rG",";","rG","=","rB","(","rC",",","rD",",","rE",")",";","rF","[","3","]","=","vec4","(","0.0",",","0.0",",","0.0",",","1.0",")",";","rG","=","rG","*","rF",";","return","rG",";","}"]}]}}]},{type:"textline",tokens:["c","rO","(","in","vec3","rI",",","in","vec3","rJ",",","in","vec3","rK",",","in","vec3","rL",",","in","vec3","rM",",","in","mat4","rN",")","{","rI","=","(","rN","*","vec4","(","rI",",","1.0",")",")",".","xyz",";","rJ","=","(","rN","*","vec4","(","rJ",",","1.0",")",")",".","xyz",";","rK","=","(","rN","*","vec4","(","rK",",","0.0",")",")",".","xyz",";","rL","=","(","rN","*","vec4","(","rL",",","0.0",")",")",".","xyz",";","rM","=","(","rN","*","vec4","(","rM",",","0.0",")",")",".","xyz",";","return","E","(","c","(","rI",",","rJ",",","rK",",","rL",",","rM",",","vec3","(","0.0",")",")",")",";","}"]}]},exports["include/scale_texcoord.glslv"] = {type:"group",parts:[{type:"textline",tokens:["vec2","rR","(","vec2","rP",",","vec3","rQ",")","{","return","(","rP","+","0.5",")","*","rQ",".","xy","-","0.5",";","}"]}]},exports["include/skin.glslv"] = {type:"group",parts:[{type:"define",name:"SKIN_SLERP",tokens:["0"]},{type:"condition",parts:[{type:"if",expression:["SKINNED"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["SKIN_SLERP"],group:{type:"group",parts:[{type:"textline",tokens:["vec4","rY","(","in","vec4","rS",",","in","vec4","rT",",","in","float","rU",")","{","float","rV",",","rW",",","rX",";","rV","=","rS","[","0","]","*","rT","[","0","]","+","rS","[","1","]","*","rT","[","1","]","+","rS","[","2","]","*","rT","[","2","]","+","rS","[","3","]","*","rT","[","3","]",";","if","(","rV","<","0.0",")","{","rT","*=","-","1.0",";","rV","=","-","rV",";","}","if","(","abs","(","rV",")",">=","1.0",")","return","rS",";","rW","=","acos","(","rV",")",";","rV","=","sqrt","(","1.0","-","rV","*","rV",")",";","if","(","abs","(","rV",")","<","0.001",")","return","vec4","(","rS","*","0.5","+","rT","*","0.5",")",";","rX","=","sin","(","(","1.0","-","rU",")","*","rW",")","/","rV",";","rV","=","sin","(","rU","*","rW",")","/","rV",";","return","rS","*","rX","+","rT","*","rV",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FRAMES_BLENDING"],group:{type:"group",parts:[{type:"textline",tokens:["vec3","sj","(","in","vec3","rZ",",","in","vec4","r_",",","in","vec4","sa",",","in","vec4","sb",",","in","vec4","sc",",","in","float","sd",")","{","vec4","se",",","sf",";","vec3","sg",",","sh",",","si",";","sg","=","p","(","u_arm_rel_trans",",","u_arm_rel_quat",",","vec4","(","rZ",",","1.0",")",")",";"]},{type:"condition",parts:[{type:"if",expression:["SKIN_SLERP"],group:{type:"group",parts:[{type:"textline",tokens:["se","=","rY","(","r_",",","sa",",","sd",")",";","sf","=","mix","(","sb",",","sc",",","sd",")",";","sh","=","i","(","se",",","sg",")",";","sh","=","sh","*","sf",".","w","+","sf",".","xyz",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["si","=","i","(","r_",",","sg",")",";","sg","=","i","(","sa",",","sg",")",";","si","=","si","*","sb",".","w","+","sb",".","xyz",";","sg","=","sg","*","sc",".","w","+","sc",".","xyz",";","sh","=","mix","(","si",",","sg",",","sd",")",";"]}]}}]},{type:"textline",tokens:["return","v","(","u_arm_rel_trans",",","u_arm_rel_quat",",","vec4","(","sh",",","1.0",")",")",";","}","vec3","ss","(","in","vec3","sk",",","in","vec4","sl",",","in","vec4","sm",",","in","float","sn",")","{","vec4","so",";","vec3","sp",",","sq",",","sr",";","sp","=","p","(","u_arm_rel_trans",",","u_arm_rel_quat",",","vec4","(","sk",",","0.0",")",")",";"]},{type:"condition",parts:[{type:"if",expression:["SKIN_SLERP"],group:{type:"group",parts:[{type:"textline",tokens:["so","=","rY","(","sl",",","sm",",","sn",")",";","sq","=","i","(","so",",","sp",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["sr","=","i","(","sl",",","sp",")",";","sp","=","i","(","sm",",","sp",")",";","sq","=","mix","(","sr",",","sp",",","sn",")",";"]}]}}]},{type:"textline",tokens:["return","v","(","u_arm_rel_trans",",","u_arm_rel_quat",",","vec4","(","sq",",","0.0",")",")",";","}"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vec3","sj","(","in","vec3","st",",","in","vec4","su",",","in","vec4","sv",")","{","vec3","sw",";","sw","=","p","(","u_arm_rel_trans",",","u_arm_rel_quat",",","vec4","(","st",",","1.0",")",")",";","sw","=","i","(","su",",","sw",")",";","sw","=","sw","*","sv",".","w","+","sv",".","xyz",";","return","v","(","u_arm_rel_trans",",","u_arm_rel_quat",",","vec4","(","sw",",","1.0",")",")",";","}","vec3","ss","(","in","vec3","sx",",","in","vec4","sy",")","{","vec3","sz",";","sz","=","p","(","u_arm_rel_trans",",","u_arm_rel_quat",",","vec4","(","sx",",","0.0",")",")",";","sz","=","i","(","sy",",","sz",")",";","return","v","(","u_arm_rel_trans",",","u_arm_rel_quat",",","vec4","(","sz",",","0.0",")",")",";","}"]}]}}]},{type:"textline",tokens:["void","sO","(","inout","vec3","sA",",","inout","vec3","sB",",","inout","vec3","sC",",","inout","vec3","sD",")","{","int","sE",",","sF",";","vec4","sG",";","vec3","sH",",","sI",",","sJ",",","sK",";","float","sL",",","sM",";"]},{type:"condition",parts:[{type:"if",expression:["FRAMES_BLENDING"],group:{type:"group",parts:[{type:"textline",tokens:["sL","=","u_frame_factor",";"]}]}}]},{type:"textline",tokens:["if","(","a_influence",".","y",">","0.0",")","{","sH","=","vec3","(","0.0",",","0.0",",","0.0",")",";","sI","=","vec3","(","0.0",",","0.0",",","0.0",")",";","sJ","=","vec3","(","0.0",",","0.0",",","0.0",")",";","sK","=","vec3","(","0.0",",","0.0",",","0.0",")",";","sG","=","a_influence",";","for","(","int","sN","=","0",";","sN","<","4",";","sN","++",")","{","sE","=","int","(","sG","[","sN","]",")",";","sM","=","fract","(","sG","[","sN","]",")",";"]},{type:"condition",parts:[{type:"if",expression:["FRAMES_BLENDING"],group:{type:"group",parts:[{type:"textline",tokens:["sH","+=","sM","*","sj","(","sA",",","u_quatsb","[","sE","]",",","u_quatsa","[","sE","]",",","u_transb","[","sE","]",",","u_transa","[","sE","]",",","sL",")",";","sI","+=","sM","*","ss","(","sB",",","u_quatsb","[","sE","]",",","u_quatsa","[","sE","]",",","sL",")",";","sJ","+=","sM","*","ss","(","sC",",","u_quatsb","[","sE","]",",","u_quatsa","[","sE","]",",","sL",")",";","sK","+=","sM","*","ss","(","sD",",","u_quatsb","[","sE","]",",","u_quatsa","[","sE","]",",","sL",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["sH","+=","sM","*","sj","(","sA",",","u_quatsb","[","sE","]",",","u_transb","[","sE","]",")",";","sK","+=","sM","*","ss","(","sD",",","u_quatsb","[","sE","]",")",";"]},{type:"condition",parts:[{type:"if",expression:["DISABLE_TANGENT_SKINNING",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["sI","+=","sM","*","ss","(","sB",",","u_quatsb","[","sE","]",")",";","sJ","+=","sM","*","ss","(","sC",",","u_quatsb","[","sE","]",")",";"]}]}}]}]}}]},{type:"textline",tokens:["}","sA","=","sH",";","sD","=","sK",";"]},{type:"condition",parts:[{type:"if",expression:["DISABLE_TANGENT_SKINNING",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["sB","=","sI",";","sC","=","sJ",";"]}]}}]},{type:"textline",tokens:["}","if","(","!","(","a_influence",".","y",">","0.0",")",")","{","sF","=","int","(","a_influence","[","0","]","-","1.0",")",";","if","(","sF",">","-","1",")","{"]},{type:"condition",parts:[{type:"if",expression:["FRAMES_BLENDING"],group:{type:"group",parts:[{type:"textline",tokens:["sA","=","sj","(","sA",",","u_quatsb","[","sF","]",",","u_quatsa","[","sF","]",",","u_transb","[","sF","]",",","u_transa","[","sF","]",",","sL",")",";","sB","=","ss","(","sB",",","u_quatsb","[","sF","]",",","u_quatsa","[","sF","]",",","sL",")",";","sC","=","ss","(","sC",",","u_quatsb","[","sF","]",",","u_quatsa","[","sF","]",",","sL",")",";","sD","=","ss","(","sD",",","u_quatsb","[","sF","]",",","u_quatsa","[","sF","]",",","sL",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["sA","=","sj","(","sA",",","u_quatsb","[","sF","]",",","u_transb","[","sF","]",")",";","sD","=","ss","(","sD",",","u_quatsb","[","sF","]",")",";"]},{type:"condition",parts:[{type:"if",expression:["DISABLE_TANGENT_SKINNING",{type:"logic_negative_expr",places:1}],group:{type:"group",parts:[{type:"textline",tokens:["sB","=","ss","(","sB",",","u_quatsb","[","sF","]",")",";","sC","=","ss","(","sC",",","u_quatsb","[","sF","]",")",";"]}]}}]}]}}]},{type:"textline",tokens:["}","}","}"]}]}}]}]},exports["include/wind_bending.glslv"] = {type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["WIND_BEND"],group:{type:"group",parts:[{type:"textline",tokens:["void","sZ","(","inout","vec3","sP",",","in","vec3","sQ",",","in","float","sR",",","in","float","sS",",","in","float","sT",",","in","vec3","sU",",","in","float","sV",")","{","vec3","sW",";","float","sX",",","sY",";","sX","=","length","(","sQ",")",";","sY","=","sS","*","(","1.0","+","0.1","*","fract","(","sX",")",")",";","sX","=","sR","*","sV","*","(","1.0","+","sin","(","2.0","*","3.14","*","sT","*","sY","+","sX",")",")",";","sY","=","(","sP",".","y","-","sQ",".","y",")","*","abs","(","sX",")",";","sY","+=","1.0",";","sY","*=","sY",";","sY","=","sY","*","sY","-","sY",";","sW","=","sP",";","sW",".","xz","+=","sU",".","xz","*","sY","*","sign","(","sX",")",";","sW","=","sW","-","sQ",";","if","(","all","(","equal","(","sW",",","vec3","(","0.0",")",")",")",")","sP","=","sQ",";","else","{","sX","=","length","(","sP","-","sQ",")",";","sP","=","sQ","+","normalize","(","sW",")","*","sX",";","}","}"]},{type:"condition",parts:[{type:"if",expression:["DETAIL_BEND"],group:{type:"group",parts:[{type:"textline",tokens:["vec4","ta","(","vec4","s_",")","{","return","s_","*","s_","*","(","3.0","-","2.0","*","s_",")",";","}","vec4","tc","(","vec4","tb",")","{","return","abs","(","fract","(","tb","+","0.5",")","*","2.0","-","1.0",")",";","}","vec4","te","(","vec4","td",")","{","return","ta","(","tc","(","td",")",")",";","}","void","tv","(","inout","vec3","tf",",","in","float","tg",",","in","vec3","th",",","in","vec3","ti",",","in","vec3","tj",",","in","float","tk",",","in","float","tl",",","in","float","tm",",","in","vec3","tn",")","{","vec3","to",";","vec4","tp",";","vec2","tq",",","tr",";","float","ts",",","tt",",","tu",";","ts","=","dot","(","tj",",","vec3","(","1.0",")",")",";","tt","=","ts","+","tn",".","g",";","tu","=","dot","(","tf",",","vec3","(","tn",".","g",")",")",";","tq","=","(","tg","+","vec2","(","tu",",","tt",")",")",";","tp","=","(","(","fract","(","(","tq",".","xxyy","*","vec4","(","1.975",",","0.793",",","0.375",",","0.193",")",")",")","*","2.0",")","-","1.0",")","*","length","(","ti",")","*","tk",";","tp","=","te","(","tp",")",";","tr","=","tp",".","xz","+","tp",".","yw",";","tr",".","y","=","0.5","-","tr",".","y",";","to","=","tr",".","xyx","*","tn",".","rbr","*","vec3","(","tl","*","th",".","x",",","tm",",","tl","*","th",".","z",")",";","tf","+=","to",";","}"]}]}}]},{type:"textline",tokens:["void","tC","(","inout","vec3","tw",",","inout","vec3","tx",",","in","vec3","ty",")","{","vec3","tz",",","tA",",","tB",";","tz","=","u_wind","*","1.0","+","0.7","*","sin","(","u_time",")",";"]},{type:"condition",parts:[{type:"if",expression:["BEND_CENTER_ONLY"],group:{type:"group",parts:[{type:"textline",tokens:["tA","=","tx",";","tB","=","a_emitter_center",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["tA","=","tw",";","tB","=","tx",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["MAIN_BEND_COL"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["DETAIL_BEND"],group:{type:"group",parts:[{type:"textline",tokens:["tv","(","tA",",","u_time",",","ty",",","tz",",","tB",",","au_detail_bending_freq",",","au_detail_bending_amp",",","au_branch_bending_amp",",","a_bending_col_detail",")",";"]}]}}]},{type:"textline",tokens:["sZ","(","tA",",","tB",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","tz",",","a_bending_col_main",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["sZ","(","tA",",","tB",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","tz",",","1.0",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["BEND_CENTER_ONLY"],group:{type:"group",parts:[{type:"textline",tokens:["tw","+=","tA","-","tx",";","tx","=","tA",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["tw","=","tA",";","tx","=","tB",";"]}]}}]},{type:"textline",tokens:["}"]}]}}]}]},exports["include/nodes.glslv"] = {type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{type:"logical_or_expr",places:2},"PARTICLE_BATCH",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["attribute","vec3","a_orco_tex_coord",";","varying","vec3","en",";"]}]}}]},{type:"node",name:"TEX_COORD_UV",declarations:[{type:"node_param",name:"node_TEX_COORD_UV_var_a_uv",qualifier:["attribute","vec2"],is_optional:false},{type:"node_param",name:"eN",qualifier:["varying","vec2"],is_optional:false}],statements:[{type:"textline",tokens:["eN","=","node_TEX_COORD_UV_var_a_uv",";"]}]},{type:"node",name:"UV_MERGED",declarations:[{type:"node_param",name:"node_UV_MERGED_var_a_uv",qualifier:["attribute","vec2"],is_optional:false},{type:"node_param",name:"eM",qualifier:["varying","vec2"],is_optional:false}],statements:[{type:"textline",tokens:["eM","=","node_UV_MERGED_var_a_uv",";"]}]},{type:"node",name:"UVMAP",declarations:[{type:"node_param",name:"node_UVMAP_var_a_uv",qualifier:["attribute","vec2"],is_optional:false},{type:"node_param",name:"eO",qualifier:["varying","vec2"],is_optional:false}],statements:[{type:"textline",tokens:["eO","=","node_UVMAP_var_a_uv",";"]}]},{type:"node",name:"GEOMETRY_UV",declarations:[{type:"node_param",name:"node_GEOMETRY_UV_var_a_uv",qualifier:["attribute","vec2"],is_optional:false},{type:"node_param",name:"eG",qualifier:["varying","vec2"],is_optional:false}],statements:[{type:"textline",tokens:["eG","=","node_GEOMETRY_UV_var_a_uv",";"]}]},{type:"node",name:"GEOMETRY_VC",declarations:[{type:"node_param",name:"node_GEOMETRY_VC_var_a_vertex_color",qualifier:["attribute","vec3"],is_optional:false},{type:"node_param",name:"tD",qualifier:["varying","vec3"],is_optional:false}],statements:[{type:"textline",tokens:["tD","=","node_GEOMETRY_VC_var_a_vertex_color",";"]}]},{type:"node",name:"GEOMETRY_VC1",declarations:[{type:"node_param",name:"node_GEOMETRY_VC1_var_a_vertex_color",qualifier:["attribute","float"],is_optional:false},{type:"node_param",name:"tE",qualifier:["varying","float"],is_optional:false}],statements:[{type:"textline",tokens:["tE","=","node_GEOMETRY_VC1_var_a_vertex_color",";"]}]},{type:"node",name:"GEOMETRY_VC2",declarations:[{type:"node_param",name:"node_GEOMETRY_VC2_var_a_vertex_color",qualifier:["attribute","vec2"],is_optional:false},{type:"node_param",name:"tF",qualifier:["varying","vec2"],is_optional:false}],statements:[{type:"textline",tokens:["tF","=","node_GEOMETRY_VC2_var_a_vertex_color",";"]}]},{type:"node",name:"GEOMETRY_VC3",declarations:[{type:"node_param",name:"node_GEOMETRY_VC3_var_a_vertex_color",qualifier:["attribute","vec3"],is_optional:false},{type:"node_param",name:"tG",qualifier:["varying","vec3"],is_optional:false}],statements:[{type:"textline",tokens:["tG","=","node_GEOMETRY_VC3_var_a_vertex_color",";"]}]},{type:"nodes_global"},{type:"textline",tokens:["void","tH","(",")","{"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["en","=","a_orco_tex_coord",";"]}]}}]},{type:"nodes_main"},{type:"textline",tokens:["}"]}]},exports["include/dynamic_grass.glslv"] = {type:"group",parts:[{type:"var",name:"PRECISION",tokens:["lowp"]},{type:"condition",parts:[{type:"if",expression:["DYNAMIC_GRASS"],group:{type:"group",parts:[{type:"textline",tokens:["vec2","tN","(","vec3","tJ",",","float","tK",",","vec2","tL",")","{","vec2","tM",";","tM","=","vec2","(","(","tJ",".","x","-","tL",".","x",")","/","tK",",","-","(","tJ",".","z","-","tL",".","y",")","/","tK",")",";","return","fract","(","tM",")",";","}","vec2","tR","(","vec2","tO",",","float","tP",",","vec2","tQ",")","{","return","vec2","(","tO",".","x","*","tP",",","-","tO",".","y","*","tP",")","+","tQ",";","}","c","tS","(",")","{","return","c","(","vec3","(","-","10000.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",")",";","}","c","un","(","vec3","tT",",","vec3","tU",",","vec3","tV",",","vec3","tW",",","vec3","tX",",","PRECISION","sampler2D","tY",",","sampler2D","tZ",",","vec3","t_",",","float","ua",",","vec3","ub",",","vec4","uc",",","mat4","ud",")","{","mat4","ue",";","vec4","uf",";","vec2","ug",",","uh",",","ui",";","float","uj",",","uk",";","vec3","ul",";","ul","=","i","(","uc",",","vec3","(","0.0",",","-","1.0",",","0.0",")",")",";","uj","=","-","ul",".","x",";","uk","=","-","ul",".","z",";","ug","=","vec2","(","ub",".","x","+","ua","*","(","-","1.0","-","uj",")","/","2.0",",","ub",".","z","+","ua","*","(","1.0","-","uk",")","/","2.0",")",";","uh","=","tN","(","tX",",","ua",",","ug",")",";","uk","=","ua","/","2.0",";","ui","=","abs","(","tR","(","uh","-","vec2","(","0.5",")",",","ua",",","vec2","(","0.0",")",")",")",";","uk","=","uk","*","(","1.0","+","sqrt","(","2.0",")",")","/","2.0",";","if","(","length","(","ui",")",">","uk",")","return","tS","(",")",";","uk","=","ua","/","t_",".","z",";","ui","=","(","uh","-","vec2","(","0.5",")",")","*","uk","+","vec2","(","0.5",")",";","ul","=","ul","*","(","ua","/","t_",".","z","-","1.0",")","/","2.0",";","ui",".","x","+=","ul",".","x",";","ui",".","y","-=","ul",".","z",";","uf","=","texture2D","(","tZ",",","ui",")",";","uk","=","uf",".","r",";","if","(","uk","<","u_scale_threshold",")","return","tS","(",")",";","uj","=","t_",".","y","-","t_",".","x",";","uj","=","t_",".","y","-","texture2D","(","tY",",","ui",")",".","r","*","uj",";","ui","=","tT",".","xz","-","tX",".","xz",";","tX",".","xz","=","tR","(","uh",",","ua",",","ug",")",";","tX",".","y","=","uj",";","tT",".","xz","=","tX",".","xz","+","ui",";","tT",".","y","*=","uk",";","tT",".","y","+=","uj",";","ul","=","uf",".","gba",";"]},{type:"condition",parts:[{type:"if",expression:["BILLBOARD"],group:{type:"group",parts:[{type:"textline",tokens:["tT","-=","tX",";","ue","=","rB","(","ub",",","tX",",","ud",")",";","c","um","=","rO","(","tT",",","tX",",","tU",",","tV",",","tW",",","ue",")",";","um",".","b","=","tX",";","um",".","f","=","ul",";","return","E","(","um",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["return","E","(","c","(","tT",",","tX",",","tU",",","tV",",","tW",",","ul",")",")",";"]}]}}]},{type:"textline",tokens:["}"]}]}}]}]},exports["include/halo_color.glslf"] = {type:"group",parts:[{type:"var",name:"NUM_LINES",tokens:["0"]},{type:"var",name:"NUM_RINGS",tokens:["0"]},{type:"var",name:"NUM_STARS",tokens:["0"]},{type:"var",name:"WAVES_HEIGHT",tokens:["0.0"]},{type:"condition",parts:[{type:"if",expression:["NUM_RINGS","NUM_LINES",{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["const","int","ur","=","NUM_RINGS",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["const","int","ur","=","NUM_LINES",";"]}]}}]},{type:"textline",tokens:["float","ut","(","float","us",")","{","return","us","-","floor","(","us","*","(","1.0","/","0.01",")",")","*","0.01",";","}"]},{type:"condition",parts:[{type:"if",expression:["NUM_RINGS"],group:{type:"group",parts:[{type:"textline",tokens:["void","uC","(","inout","float","uu",",","in","float","uv","[","ur","]",",","in","float","uw",")","{","float","ux",",","uy",",","uz",",","uA",";","for","(","int","uB","=","0",";","uB","<","NUM_RINGS",";","uB","++",")","{","ux","=","40.0","*","uv","[","uB","]",";","uy","=","300.0","*","(","ut","(","ux",")","-","0.005",")",";","uz","=","ux",";","uA","=","abs","(","uz","*","(","u_halo_size","*","uy","-","uw",")",")",";","uu","+=","1.0","-","min","(","uA",",","1.0",")",";","}","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_LINES"],group:{type:"group",parts:[{type:"textline",tokens:["void","uL","(","inout","float","uD",",","in","float","uE","[","ur","]",",","in","float","uF",")","{","float","uG",",","uH",",","uI",",","uJ",";","for","(","int","uK","=","0",";","uK","<","NUM_LINES",";","uK","++",")","{","uG","=","uE","[","uK","]",";","uH","=","uG",";","uI","=","1000.0","*","(","ut","(","uG",")","-","0.005",")",";","uJ","=","20.0","*","abs","(","uH","*","bT",".","x","+","uI","*","bT",".","y",")",";","uD","+=","1.0","-","min","(","uJ",",","1.0",")",";","}","uD","*=","uF",";","}"]}]}}]},{type:"textline",tokens:["void","uS","(","inout","float","uM",",","in","vec2","uN",")","{","float","uO",",","uP",",","uQ",",","uR",";","uP","=","atan","(","uN",".","y",",","uN",".","x",")",";","uP","*=","(","1.0","+","0.25","*","float","(","NUM_STARS",")",")",";","uQ","=","cos","(","uP",")",";","uR","=","sin","(","uP",")",";","uP","=","(","uQ","*","uN",".","x","+","uR","*","uN",".","y",")","*","(","uQ","*","uN",".","y","-","uR","*","uN",".","x",")",";","uO","=","abs","(","uP",")",";","if","(","uO","<","1.0",")","{","uO","=","(","0.01","*","u_halo_size",")","/","(","uO",")",";","uM","*=","sqrt","(","min","(","uO",",","1.0",")",")",";","}","}","vec4","va","(",")","{","vec4","uT",";","vec3","uU",";","float","uV",",","uW",",","uX",",","uY",";","uV","=","(","bT",".","x","*","bT",".","x","+","bT",".","y","*","bT",".","y",")",";","uW","=","sqrt","(","uV",")",";","uV","=","max","(","1.0","-","uV",",","0.0",")",";","uV","=","pow","(","uV",",","u_halo_hardness",")",";","uX","=","u_diffuse_color",".","a",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_RINGS","NUM_LINES",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["float","uZ","[","ur","]",";","for","(","int","u_","=","0",";","u_","<","ur",";","u_","++",")","{","uZ","[","u_","]","=","fract","(","uq","/","float","(","u_","+","1",")",")","-","1.0",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_RINGS"],group:{type:"group",parts:[{type:"textline",tokens:["uY","=","0.0",";","uC","(","uY",",","uZ",",","uW",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_LINES"],group:{type:"group",parts:[{type:"textline",tokens:["uW","=","0.0",";","uL","(","uW",",","uZ",",","uV",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_STARS"],group:{type:"group",parts:[{type:"textline",tokens:["uS","(","uV",",","bT",")",";"]}]}}]},{type:"textline",tokens:["uV","*=","uX",";","uU","=","u_diffuse_color",".","rgb",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_RINGS"],group:{type:"group",parts:[{type:"textline",tokens:["uY","*=","uV",";","uU","+=","u_halo_rings_color","*","uY",";","uV","+=","uY",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_LINES"],group:{type:"group",parts:[{type:"textline",tokens:["uW","*=","uX",";","uU","+=","u_halo_lines_color","*","uW",";","uV","+=","uW",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["SKY_STARS"],group:{type:"group",parts:[{type:"textline",tokens:["uV","*=","max","(","1.0","-","2.0","*","u_sun_intensity",".","x",",","0.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS","DISABLE_FOG",{type:"logic_negative_expr",places:1},{type:"logical_and_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["uW","=","u_halo_stars_blend","*","(","up",".","y","-","u_halo_stars_height",")",";","uV","*=","clamp","(","uW",",","0.0",",","1.0",")",";","uV","*=","min","(","u_cam_water_depth","+","2.0","*","WAVES_HEIGHT",",","1.0",")",";"]}]}}]}]}}]},{type:"textline",tokens:["uT","=","vec4","(","uU",",","uV",")",";","return","uT",";","}"]}]},exports["include/fog.glslf"] = {type:"group",parts:[{type:"var",name:"WAVES_HEIGHT",tokens:["0.0"]},{type:"condition",parts:[{type:"if",expression:["USE_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["void","vh","(","inout","vec3","vb",",","in","float","vc",",","in","float","vd",",","in","vec4","ve",")","{","float","vf",",","vg",";","vf","=","clamp","(","(","vc","-","u_fog_params",".","z",")","/","u_fog_params",".","y",",","0.0",",","1.0",")",";"]},{type:"condition",parts:[{type:"if",expression:["FOG_TYPE","QUADRATIC",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vf","*=","vf",";"]}]}},{type:"elif",expression:["FOG_TYPE","LINEAR",{type:"equal_expr",places:2}],group:{type:"group",parts:[]}},{type:"elif",expression:["FOG_TYPE","INVERSE_QUADRATIC",{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vf","=","sqrt","(","vf",")",";"]}]}}]},{type:"textline",tokens:["if","(","u_fog_params",".","w",">","0.0",")","{","if","(","vd",">","u_fog_params",".","w",")","vf","=","0.0",";","else","{","vg","=","(","u_fog_params",".","w","-","max","(","vd",",","0.0",")",")","/","u_fog_params",".","w",";","vf","*=","vg","*","vg",";","}","}","ve",".","a","=","1.0","-","(","1.0","-","vf",")","*","(","1.0","-","u_fog_params",".","x",")",";","vb","=","mix","(","vb",",","ve",".","rgb",",","ve",".","a",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["vec3","vn","(","in","mat4","vi",",","in","vec3","vj",")","{","vec3","vk",",","vl",",","vm",";","vk","=","mix","(","vi","[","0","]",".","rgb",",","vi","[","1","]",".","rgb",",","max","(","sign","(","vj",".","x",")",",","0.0",")",")",";","vl","=","mix","(","vi","[","2","]",".","rgb",",","vi","[","3","]",".","rgb",",","max","(","sign","(","vj",".","z",")",",","0.0",")",")",";","vm","=","vec3","(","vi","[","0","]",".","a",",","vi","[","1","]",".","a",",","vi","[","2","]",".","a",")",";","vl","=","mix","(","vk",",","vl",",","abs","(","vj",".","z",")",")",";","vl","=","mix","(","vl",",","vm",",","abs","(","vj",".","y",")",")",";","by","(","vl",")",";","return","vl",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["void","vp","(","inout","float","vo",")","{","vo","-=","0.5",";","vo","=","4.0","*","(","vo","*","vo","*","vo",")","+","0.5",";","}"]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["void","vA","(","inout","vec3","vq",",","in","float","vr",",","in","vec3","vs",",","in","float","vt",",","in","vec4","vu",",","in","float","vv",")","{","vec3","vw",",","vx",";","float","vy",",","vz",";","vy","=","max","(","vs",".","y",",","0.0",")",";","vz","=","max","(","vr","-","max","(","vt","/","vy",",","0.0",")",",","0.0",")",";","vz","=","vu",".","w","*","vz",";","vw","=","vec3","(","0.0",",","0.02",",","0.05",")",";","vx","=","vu",".","rgb",";","vz","=","min","(","vz",",","1.0",")",";","vp","(","vz",")",";","vz","*=","clamp","(","2.0","-","vv",",","0.0",",","1.0",")",";","vw","=","mix","(","vx",",","vw",",","min","(","vy",",","1.0",")",")",";","vt","=","clamp","(","-","vt","*","0.03",",","0.0",",","0.8",")",";","vw","*=","1.0","-","vt",";","vq","=","mix","(","vq",",","vw",",","vz",")",";","}"]}]}}]}]}}]},{type:"textline",tokens:["void","vH","(","inout","vec3","vB",",","float","vC",",","vec3","vD",",","float","vE",")","{","vec4","vF",";","vec3","vG",";"]},{type:"condition",parts:[{type:"if",expression:["USE_FOG"],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["PROCEDURAL_FOG"],group:{type:"group",parts:[{type:"textline",tokens:["vG","=","vn","(","u_cube_fog",",","vD",")",";","vF","=","vec4","(","vG",",","u_fog_color_density",".","a",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vF","=","u_fog_color_density",";"]}]}}]},{type:"textline",tokens:["vh","(","vB",",","vC",",","bJ",".","y",",","vF",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["WATER_EFFECTS"],group:{type:"group",parts:[{type:"textline",tokens:["vA","(","vB",",","vC",",","vD",",","u_cam_water_depth",",","u_underwater_fog_color_density",",","vE",")",";"]}]}},{type:"else",group:{type:"group",parts:[]}}]},{type:"textline",tokens:["}"]}]},exports["include/shadow.glslv"] = {type:"group",parts:[{type:"var",name:"SHADOW_TEX_RES",tokens:["0.0"]},{type:"condition",parts:[{type:"if",expression:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{type:"equal_expr",places:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vec4","vQ","(","mat4","vK",",","vec4","vL",",","mat4","vM",")","{","vec4","vN",";","float","vO",";","vec2","vP",";","vP","=","(","vK","*","vM","[","3","]",")",".","xy",";","vO","=","SHADOW_TEX_RES","/","2.0",";","vP","=","floor","(","vP","*","vO","+","0.5",")","/","vO","-","vP",";","vN","=","vK","*","vL",";","vN",".","xy","+=","vP",";","vN",".","xyz","=","0.5","*","(","vN",".","xyz","+","vN",".","w",")",";","return","vN",";","}","void","vV","(","vec3","vR",",","vec3","vS",")","{","vec4","vT",";","mat4","vU",";"]},{type:"condition",parts:[{type:"if",expression:["MAC_OS_SHADOW_HACK"],group:{type:"group",parts:[{type:"textline",tokens:["vU","=","O","(","u_v_light_tsr","[","0","]",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vU","=","O","(","mat3","(","u_v_light_ts","[","0","]",",","u_v_light_r","[","0","]",",","0.0",")",")",";"]}]}}]},{type:"textline",tokens:["vT","=","vU","*","vec4","(","vR","+","u_normal_offset","*","vS",",","1.0",")",";","bP","=","vQ","(","u_p_light_matrix0",",","vT",",","vU",")",";"]},{type:"condition",parts:[{type:"if",expression:["NUM_CAST_LAMPS",1,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MAC_OS_SHADOW_HACK"],group:{type:"group",parts:[{type:"textline",tokens:["vU","=","O","(","u_v_light_tsr","[","1","]",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vU","=","O","(","mat3","(","u_v_light_ts","[","1","]",",","u_v_light_r","[","1","]",",","0.0",")",")",";"]}]}}]},{type:"textline",tokens:["vT","=","vU","*","vec4","(","vR","+","u_normal_offset","*","vS",",","1.0",")",";","bQ","=","vQ","(","u_p_light_matrix1",",","vT",",","vU",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_CAST_LAMPS",2,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MAC_OS_SHADOW_HACK"],group:{type:"group",parts:[{type:"textline",tokens:["vU","=","O","(","u_v_light_tsr","[","2","]",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vU","=","O","(","mat3","(","u_v_light_ts","[","2","]",",","u_v_light_r","[","2","]",",","0.0",")",")",";"]}]}}]},{type:"textline",tokens:["vT","=","vU","*","vec4","(","vR","+","u_normal_offset","*","vS",",","1.0",")",";","bR","=","vQ","(","u_p_light_matrix2",",","vT",",","vU",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["NUM_CAST_LAMPS",3,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["MAC_OS_SHADOW_HACK"],group:{type:"group",parts:[{type:"textline",tokens:["vU","=","O","(","u_v_light_tsr","[","3","]",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["vU","=","O","(","mat3","(","u_v_light_ts","[","3","]",",","u_v_light_r","[","3","]",",","0.0",")",")",";"]}]}}]},{type:"textline",tokens:["vT","=","vU","*","vec4","(","vR","+","u_normal_offset","*","vS",",","1.0",")",";","bS","=","vQ","(","u_p_light_matrix3",",","vT",",","vU",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION1"],group:{type:"group",parts:[{type:"textline",tokens:["bQ","=","vQ","(","u_p_light_matrix1",",","vT",",","vU",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION2"],group:{type:"group",parts:[{type:"textline",tokens:["bR","=","vQ","(","u_p_light_matrix2",",","vT",",","vU",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["CSM_SECTION3"],group:{type:"group",parts:[{type:"textline",tokens:["bS","=","vQ","(","u_p_light_matrix3",",","vT",",","vU",")",";"]}]}}]},{type:"textline",tokens:["}"]}]}}]}]},exports["include/lighting_nodes.glslf"] = {type:"group",parts:[{type:"var",name:"LAMP_IND",tokens:["0"]},{type:"var",name:"LAMP_SPOT_SIZE",tokens:["0"]},{type:"var",name:"LAMP_SPOT_BLEND",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_DIST",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_FACT_IND",tokens:["0"]},{type:"var",name:"LAMP_FAC_CHANNELS",tokens:["rgb"]},{type:"var",name:"LAMP_SHADOW_MAP_IND",tokens:["0"]},{type:"define",name:"M_PI",tokens:["3.14159265359"]},{type:"textline",tokens:["float","ZERO_VALUE_NODES","=","0.0",";","float","UNITY_VALUE_NODES","=","1.0",";","float","vW","=","0.5",";"]},{type:"node",name:"LIGHTING_BEGIN",declarations:[{type:"node_out",name:"wt",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"wu",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"wv",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"ww",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"wx",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"wy",qualifier:["vec2"],is_optional:true},{type:"node_out",name:"wz",qualifier:["vec2"],is_optional:true},{type:"node_out",name:"wA",qualifier:["vec4"],is_optional:true},{type:"node_out",name:"wB",qualifier:["float"],is_optional:true},{type:"node_out",name:"wC",qualifier:["vec4"],is_optional:true}],statements:[{type:"textline",tokens:["wt","=","vX",";","wu","=","vY",";","wv","=","vZ",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_ww"],statements:[{type:"textline",tokens:["ww","=","v_",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_wx"],statements:[{type:"textline",tokens:["wx","=","wb",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_wz"],statements:[{type:"textline",tokens:["wz","=","wd",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_wy"],statements:[{type:"textline",tokens:["wy","=","we",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_wA"],statements:[{type:"textline",tokens:["wA","=","wf",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_wB"],statements:[{type:"textline",tokens:["wB","=","wg",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_wC"],statements:[{type:"textline",tokens:["wC","=","wh",";"]}]}]}]},{type:"node",name:"LIGHTING_AMBIENT",declarations:[{type:"node_in",name:"wD",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"wE",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"wF",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"wG",qualifier:["vec4"],is_optional:false},{type:"node_out",name:"wH",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["wG","=","vec4","(","wD","+","wF","*","wE",",","ZERO_VALUE_NODES",")",";","wH","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"LIGHTING_LAMP",declarations:[{type:"node_in",name:"wI",qualifier:["vec4"],is_optional:false},{type:"node_out",name:"wJ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"wK",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"wL",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"wM",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["wK","=","u_light_factors","[","LAMP_LIGHT_FACT_IND","]",".","LAMP_FAC_CHANNELS",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_TYPE","HEMI",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["wM","=","vW",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["wM","=","ZERO_VALUE_NODES",";"]}]}]},{type:"textline",tokens:["wL","=","u_light_color_intensities","[","LAMP_IND","]",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_SHADOW_MAP_IND",1,{type:"negative_expr",places:1},{type:"non_equal_expr",places:2}],statements:[{type:"textline",tokens:["wL","*=","wI","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_TYPE","SPOT",{type:"equal_expr",places:2},"LAMP_TYPE","POINT",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],statements:[{type:"textline",tokens:["wr","=","u_light_positions","[","LAMP_IND","]",";","wJ","=","wr","-","wa",";"]},{type:"textline",tokens:["wk","=","length","(","wJ",")",";","wL","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","wk","*","wk",")",";","wJ","=","normalize","(","wJ",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_TYPE","SPOT",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["wr","=","u_light_directions","[","LAMP_IND","]",";","wk","=","dot","(","wJ",",","wr",")",";","wk","*=","smoothstep","(","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",",","(","wk","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","wL","*=","wk",";"]}]}]}]},{type:"node_else",statements:[{type:"textline",tokens:["wJ","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{type:"node",name:"DIFFUSE_FRESNEL",declarations:[{type:"node_in",name:"wN",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"wO",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"wP",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"wQ",qualifier:["float"],is_optional:false},{type:"node_in",name:"wR",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"wS",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["wS","=","ZERO_VALUE_NODES",";","if","(","wO",".","r","!=","ZERO_VALUE_NODES",")","{","wk","=","(","UNITY_VALUE_NODES","-","wQ",")","*","dot","(","wP",",","wN",")","+","wQ",";","if","(","wR","[","0","]","==","ZERO_VALUE_NODES",")","{","wS","=","UNITY_VALUE_NODES",";","}","else","{","wk","=","UNITY_VALUE_NODES","+","abs","(","wk",")",";","wk","=","wR","[","1","]","+","(","UNITY_VALUE_NODES","-","wR","[","1","]",")","*","pow","(","wk",",","wR","[","0","]",")",";","wS","=","clamp","(","wk",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","}","wS","=","max","(","wS",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_LAMBERT",declarations:[{type:"node_in",name:"wT",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"wU",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"wV",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"wW",qualifier:["float"],is_optional:false},{type:"node_out",name:"wX",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["wX","=","ZERO_VALUE_NODES",";","if","(","wU",".","r","!=","ZERO_VALUE_NODES",")","{","wk","=","(","UNITY_VALUE_NODES","-","wW",")","*","dot","(","wV",",","wT",")","+","wW",";","wX","=","max","(","wk",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_OREN_NAYAR",declarations:[{type:"node_in",name:"wY",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"wZ",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"w_",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xa",qualifier:["float"],is_optional:false},{type:"node_in",name:"xb",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"xc",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["xc","=","ZERO_VALUE_NODES",";","if","(","wZ",".","r","!=","ZERO_VALUE_NODES",")","{","wk","=","(","UNITY_VALUE_NODES","-","xa",")","*","dot","(","w_",",","wY",")","+","xa",";","if","(","xb","[","0","]",">","ZERO_VALUE_NODES",")","{","wl","=","max","(","dot","(","w_",",","wc",")",",","ZERO_VALUE_NODES",")",";","wm","=","xb","[","0","]","*","xb","[","0","]",";","wn","=","UNITY_VALUE_NODES","-","vW","*","(","wm","/","(","wm","+","0.33",")",")",";","wr","=","wY","-","wk","*","w_",";","ws","=","wc","-","wl","*","w_",";"]},{type:"textline",tokens:["if","(","length","(","wr",")","==","ZERO_VALUE_NODES","||","length","(","ws",")","==","ZERO_VALUE_NODES","||","abs","(","wk",")",">","UNITY_VALUE_NODES","||","abs","(","wl",")",">","UNITY_VALUE_NODES",")"]},{type:"textline",tokens:["xc","=","wk","*","wn",";","else","{","wo","=","acos","(","wk",")",";","wl","=","acos","(","wl",")",";","wr","=","normalize","(","wr",")",";","ws","=","normalize","(","ws",")",";","wp","=","max","(","wo",",","wl",")",";","wq","=","min","(","wo",",","wl",")",";","wq","*=","0.95",";","wl","=","max","(","dot","(","wr",",","ws",")",",","ZERO_VALUE_NODES",")",";","wm","=","0.45","*","(","wm","/","(","wm","+","0.09",")",")",";","xc","=","wk","*","(","wn","+","(","wm","*","wl","*","sin","(","wp",")","*","tan","(","wq",")",")",")",";","}","}","else","xc","=","wk",";","xc","=","max","(","xc",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_MINNAERT",declarations:[{type:"node_in",name:"xd",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xe",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"xf",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xg",qualifier:["float"],is_optional:false},{type:"node_in",name:"xh",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"xi",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["xi","=","ZERO_VALUE_NODES",";","if","(","xe",".","r","!=","ZERO_VALUE_NODES",")","{","wk","=","(","UNITY_VALUE_NODES","-","xg",")","*","dot","(","xf",",","xd",")","+","xg",";","wq","=","max","(","dot","(","xf",",","wc",")",",","ZERO_VALUE_NODES",")",";","if","(","xh","[","0","]","<=","UNITY_VALUE_NODES",")","xi","=","wk","*","pow","(","max","(","wq","*","wk",",","0.1",")",",","xh","[","0","]","-","UNITY_VALUE_NODES",")",";","else","xi","=","wk","*","pow","(","1.0001","-","wq",",","xh","[","0","]","-","UNITY_VALUE_NODES",")",";","xi","=","max","(","xi",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_TOON",declarations:[{type:"node_in",name:"xj",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xk",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"xl",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xm",qualifier:["float"],is_optional:false},{type:"node_in",name:"xn",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"xo",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["xo","=","ZERO_VALUE_NODES",";","if","(","xk",".","r","!=","ZERO_VALUE_NODES",")","{","wq","=","(","UNITY_VALUE_NODES","-","xm",")","*","dot","(","xl",",","xj",")","+","xm",";","wq","=","acos","(","wq",")",";","if","(","wq","<","xn","[","0","]",")","xo","=","UNITY_VALUE_NODES",";","else","if","(","wq",">","(","xn","[","0","]","+","xn","[","1","]",")","||","xn","[","1","]","==","ZERO_VALUE_NODES",")","xo","=","ZERO_VALUE_NODES",";","else","xo","=","UNITY_VALUE_NODES","-","(","(","wq","-","xn","[","0","]",")","/","xn","[","1","]",")",";","xo","=","max","(","xo",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"SPECULAR_PHONG",declarations:[{type:"node_in",name:"xp",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xq",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"xr",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xs",qualifier:["float"],is_optional:false},{type:"node_in",name:"xt",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"xu",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["xu","=","ZERO_VALUE_NODES",";","if","(","xq",".","g","!=","ZERO_VALUE_NODES",")","{","ws","=","normalize","(","xp","+","wc",")",";","xu","=","(","UNITY_VALUE_NODES","-","xs",")","*","max","(","dot","(","xr",",","ws",")",",","ZERO_VALUE_NODES",")","+","xs",";","xu","=","pow","(","xu",",","xt","[","0","]",")",";","}"]}]},{type:"node",name:"SPECULAR_WARDISO",declarations:[{type:"node_in",name:"xv",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xw",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"xx",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xy",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"xz",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["xz","=","ZERO_VALUE_NODES",";","if","(","xw",".","g","!=","ZERO_VALUE_NODES",")","{","ws","=","normalize","(","xv","+","wc",")",";","wq","=","max","(","dot","(","xx",",","ws",")",",","0.001",")",";"]},{type:"textline",tokens:["wk","=","max","(","dot","(","xx",",","wc",")",",","0.01",")",";","wp","=","max","(","dot","(","xx",",","xv",")",",","0.01",")",";","wq","=","tan","(","acos","(","wq",")",")",";","wl","=","max","(","xy","[","0","]",",","0.001",")",";","xz","=","wp","*","(","UNITY_VALUE_NODES","/","(","4.0","*","M_PI","*","wl","*","wl",")",")","*","(","exp","(","-","(","wq","*","wq",")","/","(","wl","*","wl",")",")","/","(","sqrt","(","wk","*","wp",")",")",")",";","}"]}]},{type:"node",name:"SPECULAR_TOON",declarations:[{type:"node_in",name:"xA",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xB",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"xC",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xD",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"xE",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["xE","=","ZERO_VALUE_NODES",";","if","(","xB",".","g","!=","ZERO_VALUE_NODES",")","{","ws","=","normalize","(","xA","+","wc",")",";","wp","=","acos","(","dot","(","ws",",","xC",")",")",";","if","(","wp","<","xD","[","0","]",")","xE","=","UNITY_VALUE_NODES",";","else","if","(","wp",">=","xD","[","0","]","+","xD","[","1","]","||","xD","[","1","]","==","ZERO_VALUE_NODES",")","xE","=","ZERO_VALUE_NODES",";","else","xE","=","UNITY_VALUE_NODES","-","(","wp","-","xD","[","0","]",")","/","xD","[","1","]",";","}"]}]},{type:"node",name:"SPECULAR_BLINN",declarations:[{type:"node_in",name:"xF",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xG",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"xH",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xI",qualifier:["float"],is_optional:false},{type:"node_in",name:"xJ",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"xK",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["xK","=","ZERO_VALUE_NODES",";","if","(","xG",".","g","!=","ZERO_VALUE_NODES",")","{","if","(","xJ","[","0","]","<","1.0","||","xJ","[","1","]","==","ZERO_VALUE_NODES",")","xK","=","ZERO_VALUE_NODES",";","else","{","if","(","xJ","[","1","]","<","100.0",")","xJ","[","1","]","=","sqrt","(","1.0","/","xJ","[","1","]",")",";","else","xJ","[","1","]","=","10.0","/","xJ","[","1","]",";","ws","=","normalize","(","wc","+","xF",")",";","wp","=","(","UNITY_VALUE_NODES","-","xI",")","*","max","(","dot","(","xH",",","ws",")",",","ZERO_VALUE_NODES",")","+","xI",";","if","(","wp","<","ZERO_VALUE_NODES",")","xK","=","ZERO_VALUE_NODES",";","else","{","wk","=","max","(","dot","(","xH",",","wc",")",",","0.01",")",";","wl","=","dot","(","xH",",","xF",")",";","if","(","wl","<=","0.01",")","xK","=","ZERO_VALUE_NODES",";","else","{","wq","=","max","(","dot","(","wc",",","ws",")",",","0.01",")",";","wm","=","UNITY_VALUE_NODES",";","wk","=","(","2.0","*","wp","*","wk",")","/","wq",";","wl","=","(","2.0","*","wp","*","wl",")","/","wq",";","wl","=","min","(","min","(","wm",",","wk",")",",","wl",")",";","wk","=","sqrt","(","pow","(","xJ","[","0","]",",","2.0",")","+","pow","(","wq",",","2.0",")","-","UNITY_VALUE_NODES",")",";","wq","=","pow","(","wk","-","wq",",","2.0",")","/","pow","(","wk","+","wq",",","2.0",")","*","(","UNITY_VALUE_NODES","+","pow","(","wq","*","(","wk","+","wq",")","-","UNITY_VALUE_NODES",",","2.0",")","/","pow","(","wq","*","(","wk","-","wq",")","+","UNITY_VALUE_NODES",",","2.0",")",")",";","wp","=","acos","(","wp",")",";","xK","=","max","(","wq","*","wl","*","exp","(","-","pow","(","wp",",","2.0",")","/","(","2.0","*","pow","(","xJ","[","1","]",",","2.0",")",")",")",",","ZERO_VALUE_NODES",")",";","}","}","}","}"]}]},{type:"node",name:"LIGHTING_APPLY",declarations:[{type:"node_in",name:"xL",qualifier:["vec4"],is_optional:false},{type:"node_in",name:"xM",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xN",qualifier:["float"],is_optional:false},{type:"node_in",name:"xO",qualifier:["float"],is_optional:false},{type:"node_in",name:"xP",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xQ",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xR",qualifier:["vec4"],is_optional:false},{type:"node_in",name:"xS",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xT",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xU",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"xV",qualifier:["float"],is_optional:false},{type:"node_out",name:"xW",qualifier:["vec4"],is_optional:false},{type:"node_out",name:"xX",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["xX","=","xM","+","xU","*","xT","*","xO",";","xW","=","xL","+","vec4","(","xU","*","xS","*","xN",",","xO",")",";"]}]},{type:"node",name:"LIGHTING_END",declarations:[{type:"node_in",name:"xY",qualifier:["vec4"],is_optional:false},{type:"node_in",name:"xZ",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["wi","=","xY",".","rgb",";","wj","=","xZ",";"]}]},{type:"nodes_global"},{type:"textline",tokens:["void","x_","(","vec3","vX",",","vec3","vY",",","vec3","vZ",",","vec3","v_",",","vec3","wa",",","vec3","wb",",","vec3","wc",",","vec2","wd",",","vec2","we",",","vec4","wf",",","float","wg",",","vec4","wh",",","out","vec3","wi",",","out","vec3","wj",")","{","float","wk",",","wl",",","wm",",","wn",",","wo",",","wp",",","wq",";","vec3","wr",",","ws",";"]},{type:"nodes_main"},{type:"textline",tokens:["}"]}]},exports["include/particles_nodes.glslf"] = {type:"group",parts:[{type:"var",name:"MAPPING_TRS_MATRIX",tokens:["mat4","(","0.0",")"]},{type:"var",name:"MAPPING_SCALE",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_TRANSLATION",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_MIN_CLIP",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_MAX_CLIP",tokens:["vec3","(","0.0",")"]},{type:"var",name:"MAPPING_IS_NORMAL",tokens:["0.0"]},{type:"var",name:"RGB_IND",tokens:["0"]},{type:"var",name:"VALUE_IND",tokens:["0"]},{type:"var",name:"LAMP_INDEX",tokens:["0"]},{type:"var",name:"NUM_LIGHTS",tokens:["0"]},{type:"var",name:"LAMP_IND",tokens:["0"]},{type:"var",name:"LAMP_SPOT_SIZE",tokens:["0"]},{type:"var",name:"LAMP_SPOT_BLEND",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_DIST",tokens:["0"]},{type:"var",name:"LAMP_LIGHT_FACT_IND",tokens:["0"]},{type:"var",name:"LAMP_FAC_CHANNELS",tokens:["rgb"]},{type:"var",name:"LAMP_SHADOW_MAP_IND",tokens:["0"]},{type:"var",name:"NODE_TEX_ROW",tokens:["0.0"]},{type:"define",name:"M_PI",tokens:["3.14159265359"]},{type:"textline",tokens:["float","ZERO_VALUE_NODES","=","0.0",";","float","UNITY_VALUE_NODES","=","1.0",";","float","ya","=","0.5",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["vec3","yf","(","vec3","yb",")","{","float","yc",",","yd",";","vec4","ye",";","ye","=","vec4","(","ZERO_VALUE_NODES",",","-","UNITY_VALUE_NODES","/","3.0",",","2.0","/","3.0",",","-","UNITY_VALUE_NODES",")",";","ye","=","mix","(","vec4","(","yb",".","bg",",","ye",".","wz",")",",","vec4","(","yb",".","gb",",","ye",".","xy",")",",","step","(","yb",".","b",",","yb",".","g",")",")",";","ye","=","mix","(","vec4","(","ye",".","xyw",",","yb",".","r",")",",","vec4","(","yb",".","r",",","ye",".","yzx",")",",","step","(","ye",".","x",",","yb",".","r",")",")",";","yc","=","ye",".","x","-","min","(","ye",".","w",",","ye",".","y",")",";","yd","=","1.0e-10",";","return","vec3","(","abs","(","ye",".","z","+","(","ye",".","w","-","ye",".","y",")","/","(","6.0","*","yc","+","yd",")",")",",","yc","/","(","ye",".","x","+","yd",")",",","ye",".","x",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{type:"logical_or_expr",places:6}],group:{type:"group",parts:[{type:"textline",tokens:["vec3","yj","(","vec3","yg",")","{","vec3","yh",";","vec4","yi",";","yi","=","vec4","(","UNITY_VALUE_NODES",",","2.0","/","3.0",",","UNITY_VALUE_NODES","/","3.0",",","3.0",")",";","yh","=","abs","(","fract","(","vec3","(","yg",".","r",",","yg",".","r",",","yg",".","r",")","+","yi",".","xyz",")","*","6.0","-","yi",".","www",")",";","return","yg",".","b","*","mix","(","yi",".","xxx",",","clamp","(","yh","-","yi",".","xxx",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",",","yg",".","g",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["vec3","yl","(","vec2","yk",")","{","return","vec3","(","yk","*","2.0","-","vec2","(","UNITY_VALUE_NODES",",","UNITY_VALUE_NODES",")",",","ZERO_VALUE_NODES",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{type:"logical_or_expr",places:3}],group:{type:"group",parts:[{type:"textline",tokens:["vec2","yn","(","vec3","ym",")","{","return","vec2","(","ym",".","xy","*","ya","+","vec2","(","ya",",","ya",")",")",";","}"]}]}}]},{type:"node",name:"CAMERA",declarations:[{type:"node_out",name:"zb",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"zc",qualifier:["float"],is_optional:true},{type:"node_out",name:"zd",qualifier:["float"],is_optional:true}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zb"],statements:[{type:"textline",tokens:["zb","=","normalize","(","yT",".","xyz",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zc"],statements:[{type:"textline",tokens:["zc","=","abs","(","yT",".","z",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zd"],statements:[{type:"textline",tokens:["zd","=","length","(","yT",".","xyz",")",";"]}]}]}]},{type:"node",name:"COMBRGB",declarations:[{type:"node_in",name:"ze",qualifier:["float"],is_optional:false},{type:"node_in",name:"zf",qualifier:["float"],is_optional:false},{type:"node_in",name:"zg",qualifier:["float"],is_optional:false},{type:"node_out",name:"zh",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zh","=","vec3","(","ze",",","zf",",","zg",")",";"]}]},{type:"node",name:"COMBHSV",declarations:[{type:"node_in",name:"zi",qualifier:["float"],is_optional:false},{type:"node_in",name:"zj",qualifier:["float"],is_optional:false},{type:"node_in",name:"zk",qualifier:["float"],is_optional:false},{type:"node_out",name:"zl",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zl","=","yj","(","vec3","(","zi",",","zj",",","zk",")",")",";"]}]},{type:"node",name:"EMPTY_UV",declarations:[{type:"node_out",name:"zm",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zm","=","vec3","(","-","UNITY_VALUE_NODES",",","-","UNITY_VALUE_NODES",",","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"EMPTY_VC",declarations:[{type:"node_out",name:"zn",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zn","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"GEOMETRY_UV",declarations:[{type:"node_out",name:"zo",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zo","=","yl","(","bT",")",";"]}]},{type:"node",name:"GEOMETRY_OR",declarations:[{type:"node_out",name:"zp",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zp","=","2.0","*","vec3","(","bT",",","ZERO_VALUE_NODES",")","-","vec3","(","UNITY_VALUE_NODES",")",";"]}]},{type:"node",name:"GEOMETRY_VC",declarations:[{type:"node_out",name:"zq",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zq","=","vec3","(","UNITY_VALUE_NODES",")",";"]}]},{type:"node",name:"GEOMETRY_VC1",declarations:[{type:"node_out",name:"zr",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["zr","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"GEOMETRY_VC2",declarations:[{type:"node_out",name:"zs",qualifier:["float"],is_optional:false},{type:"node_out",name:"zt",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["zs","=","UNITY_VALUE_NODES",";","zt","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"GEOMETRY_VC3",declarations:[{type:"node_out",name:"zu",qualifier:["float"],is_optional:false},{type:"node_out",name:"zv",qualifier:["float"],is_optional:false},{type:"node_out",name:"zw",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["zu","=","UNITY_VALUE_NODES",";","zv","=","UNITY_VALUE_NODES",";","zw","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"GEOMETRY_NO",declarations:[{type:"node_out",name:"zx",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zx","=","yW",".","xzy",";","zx",".","y","*=","-","1.0",";"]}]},{type:"node",name:"GEOMETRY_FB",declarations:[{type:"node_out",name:"zy",qualifier:["float"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["INVERT_FRONTFACING"],statements:[{type:"textline",tokens:["zy","=","(","gl_FrontFacing",")","?","ZERO_VALUE_NODES",":","UNITY_VALUE_NODES",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["zy","=","(","gl_FrontFacing",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]}]}]}]},{type:"node",name:"GEOMETRY_VW",declarations:[{type:"node_out",name:"zz",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zz","=","-","(","yy","*","vec4","(","yx",",","0.0",")",")",".","xyz",";"]}]},{type:"node",name:"GEOMETRY_LO",declarations:[{type:"node_out",name:"zA",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zA","[","0","]","=","yT","[","0","]",";","zA","[","1","]","=","yT","[","1","]",";","zA","[","2","]","=","yT","[","2","]",";"]}]},{type:"node",name:"GEOMETRY_GL",declarations:[{type:"node_out",name:"zB",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zB","=","vec3","(","yX",".","r",",","-","yX",".","b",",","yX",".","g",")",";"]}]},{type:"node",name:"NEW_GEOMETRY",declarations:[{type:"node_out",name:"zC",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"zD",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"zE",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"zF",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"zG",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"zH",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"zI",qualifier:["float"],is_optional:false},{type:"node_out",name:"zJ",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["zC","=","vec3","(","ZERO_VALUE_NODES",")",";","zD","=","vec3","(","ZERO_VALUE_NODES",")",";","zE","=","vec3","(","ZERO_VALUE_NODES",")",";","zF","=","vec3","(","ZERO_VALUE_NODES",")",";","zG","=","vec3","(","ZERO_VALUE_NODES",")",";","zH","=","vec3","(","ZERO_VALUE_NODES",")",";","zI","=","ZERO_VALUE_NODES",";","zJ","=","ZERO_VALUE_NODES",";"]}]},{type:"node",name:"HUE_SAT",declarations:[{type:"node_in",name:"zK",qualifier:["float"],is_optional:false},{type:"node_in",name:"zL",qualifier:["float"],is_optional:false},{type:"node_in",name:"zM",qualifier:["float"],is_optional:false},{type:"node_in",name:"zN",qualifier:["float"],is_optional:false},{type:"node_in",name:"zO",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"zP",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yZ","=","yf","(","zO",")",";","yZ","[","0","]","+=","(","zK","-","ya",")",";","if","(","yZ","[","0","]",">","UNITY_VALUE_NODES",")","yZ","[","0","]","-=","UNITY_VALUE_NODES",";","else","if","(","yZ","[","0","]","<","ZERO_VALUE_NODES",")","yZ","[","0","]","+=","UNITY_VALUE_NODES",";","yZ","*=","vec3","(","UNITY_VALUE_NODES",",","zL",",","zM",")",";","yZ","=","mix","(","vec3","(","UNITY_VALUE_NODES",")",",","mix","(","vec3","(","ZERO_VALUE_NODES",")",",","yZ",",","step","(","vec3","(","ZERO_VALUE_NODES",")",",","yZ",")",")",",","step","(","yZ",",","vec3","(","UNITY_VALUE_NODES",")",")",")",";","zP","=","mix","(","zO",",","yj","(","yZ",")",",","zN",")",";"]}]},{type:"node",name:"INVERT",declarations:[{type:"node_in",name:"zQ",qualifier:["float"],is_optional:false},{type:"node_in",name:"zR",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"zS",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["zS","=","mix","(","zR",",","vec3","(","UNITY_VALUE_NODES",")","-","zR",",","zQ",")",";"]}]},{type:"node",name:"LAMP",declarations:[{type:"node_out",name:"zT",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"zU",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"zV",qualifier:["float"],is_optional:false},{type:"node_out",name:"zW",qualifier:["float"],is_optional:true}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zT"],statements:[{type:"textline",tokens:["zT","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{type:"textline",tokens:["yU","=","u_lamp_light_factors","[","LAMP_INDEX","]",";","yZ","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","y_","=","u_lamp_light_positions","[","LAMP_INDEX","]",";","yM","=","yU",".","z",";","if","(","yM","!=","-","UNITY_VALUE_NODES",")","{"]},{type:"textline",tokens:["zU","=","bJ","-","y_",";","zV","=","length","(","zU",")",";","zU","=","normalize","(","zU",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zW"],statements:[{type:"textline",tokens:["zW","=","yM","/","(","yM","+","zV","*","zV",")",";","yM","=","yU",".","x",";","yN","=","yU",".","y",";","if","(","yM",">","-","UNITY_VALUE_NODES",")","{","yO","=","dot","(","-","zU",",","yZ",")",";","yO","*=","smoothstep","(","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",",","(","yO","-","yM",")","/","yN",")",";","zW","*=","yO",";","}"]}]}]},{type:"textline",tokens:["}","else","{"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zU"],statements:[{type:"textline",tokens:["zU","=","yZ",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zV"],statements:[{type:"textline",tokens:["zV","=","length","(","y_","-","bJ",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zW"],statements:[{type:"textline",tokens:["zW","=","UNITY_VALUE_NODES",";"]}]}]},{type:"textline",tokens:["}"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zU"],statements:[{type:"textline",tokens:["zU",".","yz","=","vec2","(","-","zU",".","z",",","zU",".","y",")",";"]}]}]}]},{type:"node",name:"NORMAL",declarations:[{type:"node_in",name:"zX",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"zY",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"zZ",qualifier:["float"],is_optional:true},{type:"node_param",name:"yo",qualifier:["vec3"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zY"],statements:[{type:"textline",tokens:["zY","=","yo",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_zZ"],statements:[{type:"textline",tokens:["zZ","=","-","dot","(","zX",",","yo",")",";"]}]}]}]},{type:"node",name:"B4W_VECTOR_VIEW",declarations:[{type:"node_in",name:"z_",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Aa",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Aa","=","-","(","yz","*","vec4","(","z_",",","ZERO_VALUE_NODES",")",")",".","xyz",";"]}]},{type:"node",name:"BSDF_ANISOTROPIC",declarations:[{type:"node_in",name:"Ab",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ac",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ad",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ae",qualifier:["float"],is_optional:false},{type:"node_in",name:"Af",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ag",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Ah",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Ah","=","Ab",";"]},{type:"textline",tokens:["Ac",";","Ad",";","Ae",";","Af",";","Ag",";"]}]},{type:"node",name:"BSDF_DIFFUSE",declarations:[{type:"node_in",name:"Ai",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Aj",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ak",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Al",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Al","=","Ai",";"]},{type:"textline",tokens:["Aj",";","Ak",";"]}]},{type:"node",name:"BSDF_GLASS",declarations:[{type:"node_in",name:"Am",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"An",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ao",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ap",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Aq",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Aq","=","Am",";"]},{type:"textline",tokens:["An",";","Ao",";","Ap",";"]}]},{type:"node",name:"BSDF_GLOSSY",declarations:[{type:"node_in",name:"Ar",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"As",qualifier:["float"],is_optional:false},{type:"node_in",name:"At",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Au",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Au","=","Ar",";"]},{type:"textline",tokens:["As",";","At",";"]}]},{type:"node",name:"BSDF_HAIR",declarations:[{type:"node_in",name:"Av",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Aw",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ax",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ay",qualifier:["float"],is_optional:false},{type:"node_out",name:"Az",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Az","=","Av",";"]},{type:"textline",tokens:["Aw",";","Ax",";","Ay",";"]}]},{type:"node",name:"BSDF_TRANSPARENT",declarations:[{type:"node_in",name:"AA",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"AB",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["AB","=","AA",";"]}]},{type:"node",name:"BSDF_TRANSLUCENT",declarations:[{type:"node_in",name:"AC",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"AD",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"AE",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["AE","=","AC",";"]},{type:"textline",tokens:["AD",";"]}]},{type:"node",name:"BSDF_REFRACTION",declarations:[{type:"node_in",name:"AF",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"AG",qualifier:["float"],is_optional:false},{type:"node_in",name:"AH",qualifier:["float"],is_optional:false},{type:"node_in",name:"AI",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"AJ",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["AJ","[","0","]","=","AJ","[","1","]","=","AJ","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["AF",";","AG",";","AH",";","AI",";"]}]},{type:"node",name:"BSDF_TOON",declarations:[{type:"node_in",name:"AK",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"AL",qualifier:["float"],is_optional:false},{type:"node_in",name:"AM",qualifier:["float"],is_optional:false},{type:"node_in",name:"AN",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"AO",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["AO","=","AK",";"]},{type:"textline",tokens:["AL",";","AM",";","AN",";"]}]},{type:"node",name:"BSDF_VELVET",declarations:[{type:"node_in",name:"AP",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"AQ",qualifier:["float"],is_optional:false},{type:"node_in",name:"AR",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"AS",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["AS","=","AP",";"]},{type:"textline",tokens:["AQ",";","AR",";"]}]},{type:"node",name:"SUBSURFACE_SCATTERING",declarations:[{type:"node_in",name:"AT",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"AU",qualifier:["float"],is_optional:false},{type:"node_in",name:"AV",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"AW",qualifier:["float"],is_optional:false},{type:"node_in",name:"AX",qualifier:["float"],is_optional:false},{type:"node_in",name:"AY",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"AZ",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["AZ","[","0","]","=","AZ","[","1","]","=","AZ","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["AT",";","AV",";","AW",";","AX",";","AY",";","AU",";"]}]},{type:"node",name:"EMISSION",declarations:[{type:"node_in",name:"A_",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ba",qualifier:["float"],is_optional:false},{type:"node_out",name:"Bb",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Bb","=","A_",";"]},{type:"textline",tokens:["Ba",";"]}]},{type:"node",name:"AMBIENT_OCCLUSION",declarations:[{type:"node_in",name:"Bc",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Bd",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Bd","[","0","]","=","Bd","[","1","]","=","Bd","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["Bc",";"]}]},{type:"node",name:"HOLDOUT",declarations:[{type:"node_out",name:"Be",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Be","[","0","]","=","Be","[","1","]","=","Be","[","2","]","=","ZERO_VALUE_NODES",";"]}]},{type:"node",name:"VOLUME_ABSORPTION",declarations:[{type:"node_in",name:"Bf",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Bg",qualifier:["float"],is_optional:false},{type:"node_out",name:"Bh",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Bh","[","0","]","=","Bh","[","1","]","=","Bh","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["Bf",";","Bg",";"]}]},{type:"node",name:"VOLUME_SCATTER",declarations:[{type:"node_in",name:"Bi",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Bj",qualifier:["float"],is_optional:false},{type:"node_in",name:"Bk",qualifier:["float"],is_optional:false},{type:"node_out",name:"Bl",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Bl","[","0","]","=","Bl","[","1","]","=","Bl","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["Bi",";","Bj",";","Bk",";"]}]},{type:"node",name:"BUMP",declarations:[{type:"node_in",name:"Bm",qualifier:["float"],is_optional:false},{type:"node_in",name:"Bn",qualifier:["float"],is_optional:false},{type:"node_in",name:"Bo",qualifier:["float"],is_optional:false},{type:"node_in",name:"Bp",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Bq",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Bq","=","Bp",";"]},{type:"textline",tokens:["Bm",";","Bn",";","Bo",";"]}]},{type:"node",name:"NORMAL_MAP",declarations:[{type:"node_in",name:"Br",qualifier:["float"],is_optional:false},{type:"node_in",name:"Bs",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Bt",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Bt","=","Bs",";"]},{type:"textline",tokens:["Br",";"]}]},{type:"node",name:"VECT_TRANSFORM",declarations:[{type:"node_in",name:"Bu",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Bv",qualifier:["vec3"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{type:"equal_expr",places:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{type:"equal_expr",places:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{type:"equal_expr",places:2},{type:"logical_or_expr",places:3}],statements:[{type:"textline",tokens:["Bv","=","Bu",";"]}]},{type:"node_else",statements:[{type:"node_condition",parts:[{type:"node_if",expression:["VECTOR_TYPE","VT_POINT",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["yU","=","vec4","(","Bu",",","UNITY_VALUE_NODES",")",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["yU","=","vec4","(","Bu",",","ZERO_VALUE_NODES",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["Bv","=","(","yz","*","yU",")",".","xyz",";"]}]},{type:"node_elif",expression:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["Bv","=","(","yC","*","yU",")",".","xyz",";"]}]},{type:"node_elif",expression:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["Bv","=","(","yB","*","yU",")",".","xyz",";"]}]},{type:"node_elif",expression:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["Bv","=","(","yz","*","yB","*","yU",")",".","xyz",";"]}]},{type:"node_elif",expression:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["Bv","=","(","yA","*","yU",")",".","xyz",";"]}]},{type:"node_elif",expression:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["Bv","=","(","yC","*","yA","*","yU",")",".","xyz",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["VECTOR_TYPE","VT_NORMAL",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["Bv","=","normalize","(","Bv",")",";"]}]}]}]}]}]},{type:"node",name:"BLACKBODY",declarations:[{type:"node_in",name:"Bw",qualifier:["float"],is_optional:false},{type:"node_out",name:"Bx",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Bx","[","0","]","=","Bx","[","1","]","=","Bx","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["Bw",";"]}]},{type:"node",name:"WAVELENGTH",declarations:[{type:"node_in",name:"By",qualifier:["float"],is_optional:false},{type:"node_out",name:"Bz",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Bz","[","0","]","=","Bz","[","1","]","=","Bz","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["By",";"]}]},{type:"node",name:"SEPXYZ",declarations:[{type:"node_in",name:"BA",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"BB",qualifier:["float"],is_optional:false},{type:"node_out",name:"BC",qualifier:["float"],is_optional:false},{type:"node_out",name:"BD",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["BB","=","BA","[","0","]",";","BC","=","BA","[","1","]",";","BD","=","BA","[","2","]",";"]}]},{type:"node",name:"COMBXYZ",declarations:[{type:"node_in",name:"BE",qualifier:["float"],is_optional:false},{type:"node_in",name:"BF",qualifier:["float"],is_optional:false},{type:"node_in",name:"BG",qualifier:["float"],is_optional:false},{type:"node_out",name:"BH",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["BH","[","0","]","=","BE",";","BH","[","1","]","=","BF",";","BH","[","2","]","=","BG",";"]}]},{type:"node",name:"BRIGHTCONTRAST",declarations:[{type:"node_in",name:"BI",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"BJ",qualifier:["float"],is_optional:false},{type:"node_in",name:"BK",qualifier:["float"],is_optional:false},{type:"node_out",name:"BL",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yO","=","BJ","-","BK","*","ya",";","BL","=","max","(","(","UNITY_VALUE_NODES","+","BK",")","*","BI","+","yO",",","vec3","(","ZERO_VALUE_NODES",")",")",";"]}]},{type:"node",name:"LIGHT_FALLOFF",declarations:[{type:"node_in",name:"BM",qualifier:["float"],is_optional:false},{type:"node_in",name:"BN",qualifier:["float"],is_optional:false},{type:"node_out",name:"BO",qualifier:["float"],is_optional:false},{type:"node_out",name:"BP",qualifier:["float"],is_optional:false},{type:"node_out",name:"BQ",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["BO","=","BP","=","BQ","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["BM",";","BN",";"]}]},{type:"node",name:"TEX_IMAGE",declarations:[{type:"node_in",name:"BR",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"BS",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"BT",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["BS","[","0","]","=","BS","[","1","]","=","BS","[","2","]","=","ZERO_VALUE_NODES",";","BT","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["BR",";"]}]},{type:"node",name:"TEX_ENVIRONMENT",declarations:[{type:"node_in",name:"BU",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"BV",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["BV","[","0","]","=","BV","[","1","]","=","BV","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["BU",";"]}]},{type:"node",name:"TEX_SKY",declarations:[{type:"node_in",name:"BW",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"BX",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["BX","[","0","]","=","BX","[","1","]","=","BX","[","2","]","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["BW",";"]}]},{type:"node",name:"TEX_NOISE",declarations:[{type:"node_in",name:"BY",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"BZ",qualifier:["float"],is_optional:false},{type:"node_in",name:"B_",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ca",qualifier:["float"],is_optional:false},{type:"node_out",name:"Cb",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Cc",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Cb","[","0","]","=","Cb","[","1","]","=","Cb","[","2","]","=","ZERO_VALUE_NODES",";","Cc","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["BY",";","BZ",";","B_",";","Ca",";"]}]},{type:"node",name:"TEX_WAVE",declarations:[{type:"node_in",name:"Cd",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ce",qualifier:["float"],is_optional:false},{type:"node_in",name:"Cf",qualifier:["float"],is_optional:false},{type:"node_in",name:"Cg",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ch",qualifier:["float"],is_optional:false},{type:"node_out",name:"Ci",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Cj",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Ci","[","0","]","=","Ci","[","1","]","=","Ci","[","2","]","=","ZERO_VALUE_NODES",";","Cj","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["Cd",";","Ce",";","Cf",";","Cg",";","Ch",";"]}]},{type:"node",name:"TEX_VORONOI",declarations:[{type:"node_in",name:"Ck",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Cl",qualifier:["float"],is_optional:false},{type:"node_out",name:"Cm",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Cn",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Cm","[","0","]","=","Cm","[","1","]","=","Cm","[","2","]","=","ZERO_VALUE_NODES",";","Cn","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["Ck",";","Cl",";"]}]},{type:"node",name:"TEX_MUSGRAVE",declarations:[{type:"node_in",name:"Co",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Cp",qualifier:["float"],is_optional:false},{type:"node_in",name:"Cq",qualifier:["float"],is_optional:false},{type:"node_in",name:"Cr",qualifier:["float"],is_optional:false},{type:"node_in",name:"Cs",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ct",qualifier:["float"],is_optional:false},{type:"node_in",name:"Cu",qualifier:["float"],is_optional:false},{type:"node_out",name:"Cv",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Cw",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Cv","[","0","]","=","Cv","[","1","]","=","Cv","[","2","]","=","ZERO_VALUE_NODES",";","Cw","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["Co",";","Cp",";","Cq",";","Cr",";","Cs",";","Ct",";","Cu",";"]}]},{type:"node",name:"TEX_GRADIENT",declarations:[{type:"node_in",name:"Cx",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Cy",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Cz",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Cy","[","0","]","=","Cy","[","1","]","=","Cy","[","2","]","=","ZERO_VALUE_NODES",";","Cz","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["Cx",";"]}]},{type:"node",name:"TEX_MAGIC",declarations:[{type:"node_in",name:"CA",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"CB",qualifier:["float"],is_optional:false},{type:"node_in",name:"CC",qualifier:["float"],is_optional:false},{type:"node_out",name:"CD",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"CE",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["CD","[","0","]","=","CD","[","1","]","=","CD","[","2","]","=","ZERO_VALUE_NODES",";","CE","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["CA",";","CB",";","CC",";"]}]},{type:"node",name:"TEX_CHECKER",declarations:[{type:"node_in",name:"CF",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"CG",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"CH",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"CI",qualifier:["float"],is_optional:false},{type:"node_out",name:"CJ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"CK",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["CJ","[","0","]","=","CJ","[","1","]","=","CJ","[","2","]","=","ZERO_VALUE_NODES",";","CK","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["CF",";","CG",";","CH",";","CI",";"]}]},{type:"node",name:"TEX_BRICK",declarations:[{type:"node_in",name:"CL",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"CM",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"CN",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"CO",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"CP",qualifier:["float"],is_optional:false},{type:"node_in",name:"CQ",qualifier:["float"],is_optional:false},{type:"node_in",name:"CR",qualifier:["float"],is_optional:false},{type:"node_in",name:"CS",qualifier:["float"],is_optional:false},{type:"node_in",name:"CT",qualifier:["float"],is_optional:false},{type:"node_out",name:"CU",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"CV",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["CU","[","0","]","=","CU","[","1","]","=","CU","[","2","]","=","ZERO_VALUE_NODES",";","CV","=","UNITY_VALUE_NODES",";"]},{type:"textline",tokens:["CL",";","CM",";","CN",";","CO",";","CP",";","CQ",";","CR",";","CS",";","CT",";"]}]},{type:"node",name:"ADD_SHADER",declarations:[{type:"node_in",name:"CW",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"CX",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"CY",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["CY","=","clamp","(","CW","+","CX",",","vec3","(","ZERO_VALUE_NODES",")",",","vec3","(","UNITY_VALUE_NODES",")",")",";"]}]},{type:"node",name:"MIX_SHADER",declarations:[{type:"node_in",name:"CZ",qualifier:["float"],is_optional:false},{type:"node_in",name:"C_",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Da",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Db",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yO","=","clamp","(","CZ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","Db","=","yO","*","C_","+","(","UNITY_VALUE_NODES","-","yO",")","*","Da",";"]}]},{type:"node",name:"UV_MERGED",declarations:[{type:"node_out",name:"Dc",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Dd",qualifier:["vec3"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Dc"],statements:[{type:"textline",tokens:["Dc","=","yl","(","bT",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Dd"],statements:[{type:"textline",tokens:["Dd","=","vec3","(","bT",",","ZERO_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"TEX_COORD_UV",declarations:[{type:"node_out",name:"De",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["De","=","vec3","(","bT",",","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"TEX_COORD_NO",declarations:[{type:"node_out",name:"Df",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Df","=","yY",";"]}]},{type:"node",name:"TEX_COORD_GE",declarations:[{type:"node_out",name:"Dg",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Dg","=","vec3","(","bT",",","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"TEX_COORD_OB",declarations:[{type:"node_out",name:"Dh",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Dh","[","0","]","=","Dh","[","1","]","=","Dh","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"TEX_COORD_CA",declarations:[{type:"node_out",name:"Di",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Di","[","0","]","=","yT","[","0","]",";","Di","[","1","]","=","yT","[","1","]",";","Di","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"TEX_COORD_WI",declarations:[{type:"node_out",name:"Dj",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Dj","[","0","]","=","Dj","[","1","]","=","Dj","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"TEX_COORD_RE",declarations:[{type:"node_out",name:"Dk",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Dk","[","0","]","=","Dk","[","1","]","=","Dk","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{type:"node",name:"UVMAP",declarations:[{type:"node_out",name:"Dl",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Dl","=","vec3","(","bT",",","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"PARTICLE_INFO",declarations:[{type:"node_out",name:"Dm",qualifier:["float"],is_optional:false},{type:"node_out",name:"Dn",qualifier:["float"],is_optional:false},{type:"node_out",name:"Do",qualifier:["float"],is_optional:false},{type:"node_out",name:"Dp",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Dq",qualifier:["float"],is_optional:false},{type:"node_out",name:"Dr",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Ds",qualifier:["vec3"],is_optional:false},{type:"node_param",name:"yp",qualifier:["varying","vec4"],is_optional:true},{type:"node_param",name:"yq",qualifier:["varying","vec3"],is_optional:true},{type:"node_param",name:"yr",qualifier:["varying","vec3"],is_optional:true},{type:"node_param",name:"ys",qualifier:["varying","vec3"],is_optional:true}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["PARTICLE_BATCH"],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Dm"],statements:[{type:"textline",tokens:["Dm","=","yp","[","0","]",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Dn"],statements:[{type:"textline",tokens:["Dn","=","yp","[","1","]",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Do"],statements:[{type:"textline",tokens:["Do","=","yp","[","2","]",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Dp"],statements:[{type:"textline",tokens:["Dp","=","vec3","(","yq",".","r",",","-","yq",".","b",",","yq",".","g",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Dq"],statements:[{type:"textline",tokens:["Dq","=","yp","[","3","]",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Dr"],statements:[{type:"textline",tokens:["Dr","=","vec3","(","yr",".","r",",","-","yr",".","b",",","yr",".","g",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Ds"],statements:[{type:"textline",tokens:["Ds","=","vec3","(","ys",".","r",",","-","ys",".","b",",","ys",".","g",")",";"]}]}]}]},{type:"node_else",statements:[{type:"textline",tokens:["Dm","=","ZERO_VALUE_NODES",";","Dn","=","ZERO_VALUE_NODES",";","Do","=","ZERO_VALUE_NODES",";","Dp","=","vec3","(","ZERO_VALUE_NODES",")",";","Dq","=","ZERO_VALUE_NODES",";","Dr","=","Dp",";","Ds","=","Dp",";"]}]}]}]},{type:"node",name:"HAIR_INFO",declarations:[{type:"node_out",name:"Dt",qualifier:["float"],is_optional:false},{type:"node_out",name:"Du",qualifier:["float"],is_optional:false},{type:"node_out",name:"Dv",qualifier:["float"],is_optional:false},{type:"node_out",name:"Dw",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Dt","=","ZERO_VALUE_NODES",";","Du","=","ZERO_VALUE_NODES",";","Dv","=","ZERO_VALUE_NODES",";","Dw","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"OBJECT_INFO",declarations:[{type:"node_out",name:"Dx",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Dy",qualifier:["float"],is_optional:false},{type:"node_out",name:"Dz",qualifier:["float"],is_optional:false},{type:"node_out",name:"DA",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Dy","=","ZERO_VALUE_NODES",";","Dz","=","ZERO_VALUE_NODES",";","DA","=","ZERO_VALUE_NODES",";","Dx","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"WIREFRAME",declarations:[{type:"node_in",name:"DB",qualifier:["float"],is_optional:false},{type:"node_out",name:"DC",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["DC","=","DB",";"]}]},{type:"node",name:"TANGENT",declarations:[{type:"node_out",name:"DD",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["DD","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"LAYER_WEIGHT",declarations:[{type:"node_in",name:"DE",qualifier:["float"],is_optional:false},{type:"node_in",name:"DF",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"DG",qualifier:["float"],is_optional:false},{type:"node_out",name:"DH",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["DG","=","DH","=","ZERO_VALUE_NODES",";"]},{type:"textline",tokens:["DF",";","DE",";"]}]},{type:"node",name:"LIGHT_PATH",declarations:[{type:"node_out",name:"DI",qualifier:["float"],is_optional:false},{type:"node_out",name:"DJ",qualifier:["float"],is_optional:false},{type:"node_out",name:"DK",qualifier:["float"],is_optional:false},{type:"node_out",name:"DL",qualifier:["float"],is_optional:false},{type:"node_out",name:"DM",qualifier:["float"],is_optional:false},{type:"node_out",name:"DN",qualifier:["float"],is_optional:false},{type:"node_out",name:"DO",qualifier:["float"],is_optional:false},{type:"node_out",name:"DP",qualifier:["float"],is_optional:false},{type:"node_out",name:"DQ",qualifier:["float"],is_optional:false},{type:"node_out",name:"DR",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["DI","=","DJ","=","DK","=","ZERO_VALUE_NODES",";","DL","=","DM","=","DN","=","ZERO_VALUE_NODES",";","DO","=","DO","=","DQ","=","DR","=","ZERO_VALUE_NODES",";","DP","=","ZERO_VALUE_NODES",";"]}]},{type:"node",name:"ATTRIBUTE",declarations:[{type:"node_out",name:"DS",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"DT",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"DU",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["DS","=","DT","=","vec3","(","ZERO_VALUE_NODES",")",";","DU","=","ZERO_VALUE_NODES",";"]}]},{type:"node",name:"SCRIPT",declarations:[],statements:[]},{type:"node",name:"CURVE_VEC",declarations:[{type:"node_in",name:"DV",qualifier:["float"],is_optional:false},{type:"node_in",name:"DW",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"DX",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["DX","=","DW",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_R"],statements:[{type:"textline",tokens:["DX",".","r","=","(","texture2D","(","u_nodes_texture",",","vec2","(","0.5","*","DW",".","r","+","0.5",",","NODE_TEX_ROW",")",")",".","r","-","0.5",")","*","2.0",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_G"],statements:[{type:"textline",tokens:["DX",".","g","=","(","texture2D","(","u_nodes_texture",",","vec2","(","0.5","*","DW",".","g","+","0.5",",","NODE_TEX_ROW",")",")",".","g","-","0.5",")","*","2.0",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_B"],statements:[{type:"textline",tokens:["DX",".","b","=","(","texture2D","(","u_nodes_texture",",","vec2","(","0.5","*","DW",".","b","+","0.5",",","NODE_TEX_ROW",")",")",".","b","-","0.5",")","*","2.0",";"]}]}]},{type:"textline",tokens:["DX","=","mix","(","DW",",","DX",",","DV",")",";"]}]},{type:"node",name:"CURVE_RGB",declarations:[{type:"node_in",name:"DY",qualifier:["float"],is_optional:false},{type:"node_in",name:"DZ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"D_",qualifier:["vec3"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["READ_A"],statements:[{type:"textline",tokens:["yO","=","texture2D","(","u_nodes_texture",",","vec2","(","DZ",".","r",",","NODE_TEX_ROW",")",")",".","a",";","yN","=","texture2D","(","u_nodes_texture",",","vec2","(","DZ",".","g",",","NODE_TEX_ROW",")",")",".","a",";","yM","=","texture2D","(","u_nodes_texture",",","vec2","(","DZ",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["yO","=","DZ",".","r",";","yN","=","DZ",".","g",";","yM","=","DZ",".","b",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_R"],statements:[{type:"textline",tokens:["D_",".","r","=","texture2D","(","u_nodes_texture",",","vec2","(","yO",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["D_",".","r","=","yO",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_G"],statements:[{type:"textline",tokens:["D_",".","g","=","texture2D","(","u_nodes_texture",",","vec2","(","yN",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["D_",".","g","=","yN",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["READ_B"],statements:[{type:"textline",tokens:["D_",".","b","=","texture2D","(","u_nodes_texture",",","vec2","(","yM",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["D_",".","b","=","yM",";"]}]}]},{type:"textline",tokens:["D_","=","mix","(","DZ",",","D_",",","DY",")",";"]}]},{type:"node",name:"VALTORGB",declarations:[{type:"node_in",name:"Ea",qualifier:["float"],is_optional:false},{type:"node_out",name:"Eb",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Ec",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["yU","=","texture2D","(","u_nodes_texture",",","vec2","(","Ea",",","NODE_TEX_ROW",")",")",";","Eb","=","yU",".","rgb",";","Ec","=","yU",".","a",";"]}]},{type:"node",name:"MAPPING",declarations:[{type:"node_in",name:"Ed",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Ee",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Ee","=","Ed",";"]},{type:"node_condition",parts:[{type:"node_ifdef",name:"MAPPING_TRS_MATRIX",statements:[{type:"textline",tokens:["Ee","=","(","MAPPING_TRS_MATRIX","*","vec4","(","Ee",",","UNITY_VALUE_NODES",")",")",".","xyz",";"]}]}]},{type:"node_condition",parts:[{type:"node_ifdef",name:"MAPPING_SCALE",statements:[{type:"textline",tokens:["Ee","=","Ee","*","MAPPING_SCALE",";"]}]}]},{type:"node_condition",parts:[{type:"node_ifdef",name:"MAPPING_TRANSLATION",statements:[{type:"textline",tokens:["Ee","=","Ee","+","MAPPING_TRANSLATION",";"]}]}]},{type:"node_condition",parts:[{type:"node_ifdef",name:"MAPPING_MIN_CLIP",statements:[{type:"textline",tokens:["Ee","=","max","(","Ee",",","MAPPING_MIN_CLIP",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_ifdef",name:"MAPPING_MAX_CLIP",statements:[{type:"textline",tokens:["Ee","=","min","(","Ee",",","MAPPING_MAX_CLIP",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["MAPPING_IS_NORMAL"],statements:[{type:"textline",tokens:["Ee","=","normalize","(","Ee",")",";"]}]}]}]},{type:"node",name:"MATH_ADD",declarations:[{type:"node_in",name:"Ef",qualifier:["float"],is_optional:false},{type:"node_in",name:"Eg",qualifier:["float"],is_optional:false},{type:"node_out",name:"Eh",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Eh","=","Ef","+","Eg",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["Eh","=","clamp","(","Eh",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_SUBTRACT",declarations:[{type:"node_in",name:"Ei",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ej",qualifier:["float"],is_optional:false},{type:"node_out",name:"Ek",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Ek","=","Ei","-","Ej",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["Ek","=","clamp","(","Ek",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_MULTIPLY",declarations:[{type:"node_in",name:"El",qualifier:["float"],is_optional:false},{type:"node_in",name:"Em",qualifier:["float"],is_optional:false},{type:"node_out",name:"En",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["En","=","El","*","Em",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["En","=","clamp","(","En",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_DIVIDE",declarations:[{type:"node_in",name:"Eo",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ep",qualifier:["float"],is_optional:false},{type:"node_out",name:"Eq",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Eq","=","(","Ep","!=","ZERO_VALUE_NODES",")","?","Eo","/","Ep",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["Eq","=","clamp","(","Eq",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_SINE",declarations:[{type:"node_in",name:"Er",qualifier:["float"],is_optional:false},{type:"node_in",name:"Es",qualifier:["float"],is_optional:false},{type:"node_out",name:"Et",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Et","=","sin","(","Er",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["Et","=","clamp","(","Et",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["Es",";"]}]},{type:"node",name:"MATH_COSINE",declarations:[{type:"node_in",name:"Eu",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ev",qualifier:["float"],is_optional:false},{type:"node_out",name:"Ew",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Ew","=","cos","(","Eu",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["Ew","=","clamp","(","Ew",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["Ev",";"]}]},{type:"node",name:"MATH_TANGENT",declarations:[{type:"node_in",name:"Ex",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ey",qualifier:["float"],is_optional:false},{type:"node_out",name:"Ez",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Ez","=","tan","(","Ex",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["Ez","=","clamp","(","Ez",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["Ey",";"]}]},{type:"node",name:"MATH_ARCSINE",declarations:[{type:"node_in",name:"EA",qualifier:["float"],is_optional:false},{type:"node_in",name:"EB",qualifier:["float"],is_optional:false},{type:"node_out",name:"EC",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["EC","=","(","EA","<=","UNITY_VALUE_NODES","&&","EA",">=","-","UNITY_VALUE_NODES",")","?","asin","(","EA",")",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["EC","=","clamp","(","EC",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["EB",";"]}]},{type:"node",name:"MATH_ARCCOSINE",declarations:[{type:"node_in",name:"ED",qualifier:["float"],is_optional:false},{type:"node_in",name:"EE",qualifier:["float"],is_optional:false},{type:"node_out",name:"EF",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["EF","=","(","ED","<=","UNITY_VALUE_NODES","&&","ED",">=","-","UNITY_VALUE_NODES",")","?","acos","(","ED",")",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["EF","=","clamp","(","EF",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["EE",";"]}]},{type:"node",name:"MATH_ARCTANGENT",declarations:[{type:"node_in",name:"EG",qualifier:["float"],is_optional:false},{type:"node_in",name:"EH",qualifier:["float"],is_optional:false},{type:"node_out",name:"EI",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["EI","=","atan","(","EG",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["EI","=","clamp","(","EI",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["EH",";"]}]},{type:"node",name:"MATH_POWER",declarations:[{type:"node_in",name:"EJ",qualifier:["float"],is_optional:false},{type:"node_in",name:"EK",qualifier:["float"],is_optional:false},{type:"node_out",name:"EL",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["if","(","EJ","<","ZERO_VALUE_NODES","&&","EK","!=","floor","(","EK",")",")","EL","=","ZERO_VALUE_NODES",";","else","if","(","EK","==","ZERO_VALUE_NODES",")"]},{type:"textline",tokens:["EL","=","UNITY_VALUE_NODES",";","else","if","(","EJ","<","ZERO_VALUE_NODES",")","EL","=","mix","(","UNITY_VALUE_NODES",",","-","UNITY_VALUE_NODES",",","sign","(","mod","(","-","EK",",","2.0",")",")",")","*","pow","(","-","EJ",",","EK",")",";","else","if","(","EJ","==","ZERO_VALUE_NODES",")","EL","=","ZERO_VALUE_NODES",";","else","EL","=","pow","(","EJ",",","EK",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["EL","=","clamp","(","EL",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_LOGARITHM",declarations:[{type:"node_in",name:"EM",qualifier:["float"],is_optional:false},{type:"node_in",name:"EN",qualifier:["float"],is_optional:false},{type:"node_out",name:"EO",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["EO","=","(","EM",">","ZERO_VALUE_NODES","&&","EN",">","ZERO_VALUE_NODES",")","?","log2","(","EM",")","/","log2","(","EN",")",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["EO","=","clamp","(","EO",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_MINIMUM",declarations:[{type:"node_in",name:"EP",qualifier:["float"],is_optional:false},{type:"node_in",name:"EQ",qualifier:["float"],is_optional:false},{type:"node_out",name:"ER",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["ER","=","min","(","EP",",","EQ",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["ER","=","clamp","(","ER",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_MAXIMUM",declarations:[{type:"node_in",name:"ES",qualifier:["float"],is_optional:false},{type:"node_in",name:"ET",qualifier:["float"],is_optional:false},{type:"node_out",name:"EU",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["EU","=","max","(","ES",",","ET",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["EU","=","clamp","(","EU",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_ROUND",declarations:[{type:"node_in",name:"EV",qualifier:["float"],is_optional:false},{type:"node_in",name:"EW",qualifier:["float"],is_optional:false},{type:"node_out",name:"EX",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["EX","=","floor","(","EV","+","ya",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["EX","=","clamp","(","EX",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["EW",";"]}]},{type:"node",name:"MATH_LESS_THAN",declarations:[{type:"node_in",name:"EY",qualifier:["float"],is_optional:false},{type:"node_in",name:"EZ",qualifier:["float"],is_optional:false},{type:"node_out",name:"E_",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["E_","=","(","EY","<","EZ",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["E_","=","clamp","(","E_",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_GREATER_THAN",declarations:[{type:"node_in",name:"Fa",qualifier:["float"],is_optional:false},{type:"node_in",name:"Fb",qualifier:["float"],is_optional:false},{type:"node_out",name:"Fc",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Fc","=","(","Fa",">","Fb",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["Fc","=","clamp","(","Fc",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_MODULO",declarations:[{type:"node_in",name:"Fd",qualifier:["float"],is_optional:false},{type:"node_in",name:"Fe",qualifier:["float"],is_optional:false},{type:"node_out",name:"Ff",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Ff","=","abs","(","Fe",")",">","0.000001","?","mod","(","Fd",",","Fe",")",":","ZERO_VALUE_NODES",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["Ff","=","clamp","(","Ff",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATH_ABSOLUTE",declarations:[{type:"node_in",name:"Fg",qualifier:["float"],is_optional:false},{type:"node_in",name:"Fh",qualifier:["float"],is_optional:false},{type:"node_out",name:"Fi",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Fi","=","abs","(","Fg",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MATH_USE_CLAMP"],statements:[{type:"textline",tokens:["Fi","=","clamp","(","Fi",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["Fh",";"]}]},{type:"node",name:"MIX_RGB_MIX",declarations:[{type:"node_in",name:"Fj",qualifier:["float"],is_optional:false},{type:"node_in",name:"Fk",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Fl",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Fm",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Fj",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","Fm","=","mix","(","Fk",",","Fl",",","yM",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["Fm","=","clamp","(","Fm",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_ADD",declarations:[{type:"node_in",name:"Fn",qualifier:["float"],is_optional:false},{type:"node_in",name:"Fo",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Fp",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Fq",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Fn",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","Fq","=","mix","(","Fo",",","Fo","+","Fp",",","yM",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["Fq","=","clamp","(","Fq",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_MULTIPLY",declarations:[{type:"node_in",name:"Fr",qualifier:["float"],is_optional:false},{type:"node_in",name:"Fs",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ft",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Fu",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Fr",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","Fu","=","mix","(","Fs",",","Fs","*","Ft",",","yM",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["Fu","=","clamp","(","Fu",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_SUBTRACT",declarations:[{type:"node_in",name:"Fv",qualifier:["float"],is_optional:false},{type:"node_in",name:"Fw",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Fx",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Fy",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Fv",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","Fy","=","mix","(","Fw",",","Fw","-","Fx",",","yM",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["Fy","=","clamp","(","Fy",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_SCREEN",declarations:[{type:"node_in",name:"Fz",qualifier:["float"],is_optional:false},{type:"node_in",name:"FA",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"FB",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"FC",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Fz",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","yN","=","UNITY_VALUE_NODES","-","yM",";","FC","=","vec3","(","UNITY_VALUE_NODES",")","-","(","vec3","(","yN",")","+","yM","*","(","vec3","(","UNITY_VALUE_NODES",")","-","FB",")",")","*","(","vec3","(","UNITY_VALUE_NODES",")","-","FA",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["FC","=","clamp","(","FC",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_DIVIDE",declarations:[{type:"node_in",name:"FD",qualifier:["float"],is_optional:false},{type:"node_in",name:"FE",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"FF",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"FG",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","FD",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","yN","=","UNITY_VALUE_NODES","-","yM",";","FF","+=","step","(","FF",",","vec3","(","ZERO_VALUE_NODES",")",")",";","FG","=","yN","*","FE","+","yM","*","FE","/","FF",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["FG","=","clamp","(","FG",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_DIFFERENCE",declarations:[{type:"node_in",name:"FH",qualifier:["float"],is_optional:false},{type:"node_in",name:"FI",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"FJ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"FK",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","FH",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","FK","=","mix","(","FI",",","abs","(","FI","-","FJ",")",",","yM",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["FK","=","clamp","(","FK",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_DARKEN",declarations:[{type:"node_in",name:"FL",qualifier:["float"],is_optional:false},{type:"node_in",name:"FM",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"FN",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"FO",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","FL",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","FO","=","min","(","FM",".","rgb",",","FN",".","rgb","*","yM",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["FO","=","clamp","(","FO",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_LIGHTEN",declarations:[{type:"node_in",name:"FP",qualifier:["float"],is_optional:false},{type:"node_in",name:"FQ",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"FR",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"FS",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","FP",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","FS","=","max","(","FQ",".","rgb",",","FR",".","rgb","*","yM",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["FS","=","clamp","(","FS",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_OVERLAY",declarations:[{type:"node_in",name:"FT",qualifier:["float"],is_optional:false},{type:"node_in",name:"FU",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"FV",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"FW",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","FT",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","y_","=","vec3","(","UNITY_VALUE_NODES","-","yM",")",";","FW","=","mix","(","FU","*","(","y_","+","2.0","*","yM","*","FV",")",",","vec3","(","UNITY_VALUE_NODES",")","-","(","y_","+","2.0","*","yM","*","(","vec3","(","UNITY_VALUE_NODES",")","-","FV",")",")","*","(","vec3","(","UNITY_VALUE_NODES",")","-","FU",")",",","step","(","ya",",","FU",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["FW","=","clamp","(","FW",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_DODGE",declarations:[{type:"node_in",name:"FX",qualifier:["float"],is_optional:false},{type:"node_in",name:"FY",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"FZ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"F_",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","FX",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","y_","=","vec3","(","UNITY_VALUE_NODES",")","-","yM","*","FZ",";","yZ","=","clamp","(","FY","/","y_",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","F_","=","mix","(","mix","(","yZ",",","vec3","(","UNITY_VALUE_NODES",")",",","step","(","y_",",","vec3","(","ZERO_VALUE_NODES",")",")",")",",","FY",",","step","(","FY",",","vec3","(","ZERO_VALUE_NODES",")",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["F_","=","clamp","(","F_",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_BURN",declarations:[{type:"node_in",name:"Ga",qualifier:["float"],is_optional:false},{type:"node_in",name:"Gb",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Gc",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Gd",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Ga",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","y_","=","vec3","(","UNITY_VALUE_NODES","-","yM",")",";","y_","=","y_","+","yM","*","Gc",";","yZ","=","clamp","(","vec3","(","UNITY_VALUE_NODES",")","-","(","vec3","(","UNITY_VALUE_NODES",")","-","Gb",")","/","y_",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","Gd","=","mix","(","yZ",",","vec3","(","ZERO_VALUE_NODES",")",",","step","(","y_",",","vec3","(","ZERO_VALUE_NODES",")",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["Gd","=","clamp","(","Gd",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_HUE",declarations:[{type:"node_in",name:"Ge",qualifier:["float"],is_optional:false},{type:"node_in",name:"Gf",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Gg",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Gh",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Ge",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","Gh","=","Gf",";","yZ","=","yf","(","Gg",")",";","if","(","yZ",".","y","!=","ZERO_VALUE_NODES",")","{","y_","=","yf","(","Gh",")",";","y_",".","x","=","yZ",".","x",";","za","=","yj","(","y_",")",";","Gh","=","mix","(","Gh",",","za",",","yM",")",";","}"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["Gh","=","clamp","(","Gh",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_SATURATION",declarations:[{type:"node_in",name:"Gi",qualifier:["float"],is_optional:false},{type:"node_in",name:"Gj",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Gk",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Gl",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Gi",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","yN","=","UNITY_VALUE_NODES","-","yM",";","Gl","=","Gj",";","za","=","yf","(","Gl",")",";","if","(","za",".","y","!=","ZERO_VALUE_NODES",")","{","y_","=","yf","(","Gk",")",";","za",".","y","=","yN","*","za",".","y","+","yM","*","y_",".","y",";","Gl","=","yj","(","za",")",";","}"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["Gl","=","clamp","(","Gl",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_VALUE",declarations:[{type:"node_in",name:"Gm",qualifier:["float"],is_optional:false},{type:"node_in",name:"Gn",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Go",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Gp",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Gm",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","yN","=","UNITY_VALUE_NODES","-","yM",";","za","=","yf","(","Gn",")",";","y_","=","yf","(","Go",")",";","za",".","z","=","yN","*","za",".","z","+","yM","*","y_",".","z",";","Gp","=","yj","(","za",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["Gp","=","clamp","(","Gp",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_COLOR",declarations:[{type:"node_in",name:"Gq",qualifier:["float"],is_optional:false},{type:"node_in",name:"Gr",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Gs",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Gt",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Gq",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","Gt","=","Gr",";","y_","=","yf","(","Gs",")",";","if","(","y_",".","y","!=","ZERO_VALUE_NODES",")","{","za","=","yf","(","Gt",")",";","za",".","x","=","y_",".","x",";","za",".","y","=","y_",".","y",";","yZ","=","yj","(","za",")",";","Gt","=","mix","(","Gt",",","yZ",",","yM",")",";","}"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["Gt","=","clamp","(","Gt",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_SOFT_LIGHT",declarations:[{type:"node_in",name:"Gu",qualifier:["float"],is_optional:false},{type:"node_in",name:"Gv",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Gw",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Gx",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Gu",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","yN","=","UNITY_VALUE_NODES","-","yM",";","yZ","=","Gw","+","Gv","-","Gw","*","Gv",";","Gx","=","Gv","*","(","vec3","(","yN",")","+","vec3","(","yM",")","*","(","(","vec3","(","UNITY_VALUE_NODES",")","-","Gv",")","*","Gw","+","yZ",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["Gx","=","clamp","(","Gx",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MIX_RGB_LINEAR_LIGHT",declarations:[{type:"node_in",name:"Gy",qualifier:["float"],is_optional:false},{type:"node_in",name:"Gz",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"GA",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"GB",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["yM","=","clamp","(","Gy",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","GB","=","Gz","+","yM","*","(","2.0","*","GA","-","vec3","(","UNITY_VALUE_NODES",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["MIX_RGB_USE_CLAMP"],statements:[{type:"textline",tokens:["GB","=","clamp","(","GB",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"OUTPUT",declarations:[{type:"node_in",name:"GC",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"GD",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["yD","=","GC",";","yH","=","GD",";"]}]},{type:"node",name:"MATERIAL_BEGIN",declarations:[{type:"node_in",name:"GE",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"GF",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"GG",qualifier:["float"],is_optional:false},{type:"node_in",name:"GH",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"GI",qualifier:["float"],is_optional:true},{type:"node_out",name:"GJ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"GK",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"GL",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"GM",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"GN",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"GO",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"GP",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"GQ",qualifier:["vec4"],is_optional:false},{type:"node_param",name:"yt",qualifier:["const","vec2"],is_optional:true},{type:"node_param",name:"yu",qualifier:["const","vec3"],is_optional:false}],statements:[{type:"textline",tokens:["GL","=","clamp","(","GE",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{type:"textline",tokens:["GM","=","yu","[","0","]","*","clamp","(","GF",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_NORMAL"],statements:[{type:"textline",tokens:["GN","=","normalize","(","GH",")",";"]},{type:"textline",tokens:["GN",".","yz","=","vec2","(","GN",".","z",",","-","GN",".","y",")",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["GN","=","yY",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["SHADELESS_MAT",{type:"logic_negative_expr",places:1}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["MATERIAL_EXT"],statements:[{type:"textline",tokens:["GJ","=","GI","*","GL",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["GJ","=","yK","*","GL",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_DIFFUSE"],statements:[{type:"textline",tokens:["GL","*=","GG",";"]}]}]},{type:"textline",tokens:["GK","=","yL","*","u_environment_energy","*","dZ","(","GN",")",";","GQ","=","vec4","(","1.0",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["NUM_LIGHTS",0,{type:"g_expr",places:2}],statements:[{type:"textline",tokens:["GO","=","vec2","(","yt","[","0","]",",","yt","[","1","]",")",";"]},{type:"textline",tokens:["GP","=","vec2","(","yu","[","1","]",",","yu","[","2","]",")",";"]}]}]},{type:"textline",tokens:["yG","=","GQ",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["GJ","=","vec3","(","ZERO_VALUE_NODES",")",";","GK","=","vec3","(","UNITY_VALUE_NODES",")",";"]}]}]}]},{type:"node",name:"MATERIAL_END",declarations:[{type:"node_in",name:"GR",qualifier:["vec4"],is_optional:false},{type:"node_in",name:"GS",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"GT",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"GU",qualifier:["float"],is_optional:true},{type:"node_in",name:"GV",qualifier:["float"],is_optional:true},{type:"node_in",name:"GW",qualifier:["float"],is_optional:true},{type:"node_out",name:"GX",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"GY",qualifier:["float"],is_optional:true},{type:"node_out",name:"GZ",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"G_",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Ha",qualifier:["vec3"],is_optional:true},{type:"node_param",name:"yv",qualifier:["float"],is_optional:false},{type:"node_param",name:"yw",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["GU",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_GX"],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_DIFFUSE"],statements:[{type:"textline",tokens:["GX","=","GR",".","rgb",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["GX","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_SPECULAR"],statements:[{type:"textline",tokens:["GX","+=","GS",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_GZ"],statements:[{type:"textline",tokens:["GZ","=","GT",";"]},{type:"textline",tokens:["GZ",".","yz","=","vec2","(","-","GZ",".","z",",","GZ",".","y",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["MATERIAL_EXT"],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_G_"],statements:[{type:"textline",tokens:["G_","=","GR",".","rgb",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Ha"],statements:[{type:"textline",tokens:["Ha","=","GS",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_GY"],statements:[{type:"textline",tokens:["GY","=","clamp","(","GW",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_SPECULAR"],statements:[{type:"textline",tokens:["yM","=","max","(","max","(","GS",".","r",",","GS",".","g",")",",","GS",".","b",")","*","GV",";","GY","=","clamp","(","GW","*","(","UNITY_VALUE_NODES","-","yM",")","+","yM",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]}]}]},{type:"node_else",statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_GY"],statements:[{type:"textline",tokens:["GY","=","clamp","(","yv",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_SPECULAR"],statements:[{type:"textline",tokens:["yM","=","max","(","max","(","GS",".","r",",","GS",".","g",")",",","GS",".","b",")","*","yw",";","GY","=","yv","*","(","UNITY_VALUE_NODES","-","yM",")","+","yM",";"]}]}]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_MATERIAL_SPECULAR"],statements:[{type:"textline",tokens:["yE","=","GS",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["yE","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]}]},{type:"textline",tokens:["yF","=","GT",";"]}]},{type:"node",name:"LIGHTING_AMBIENT",declarations:[{type:"node_in",name:"Hb",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Hc",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Hd",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"He",qualifier:["vec4"],is_optional:false},{type:"node_out",name:"Hf",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["He","=","vec4","(","Hb","+","Hd","*","Hc",",","ZERO_VALUE_NODES",")",";","Hf","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{type:"node",name:"LIGHTING_LAMP",declarations:[{type:"node_in",name:"Hg",qualifier:["vec4"],is_optional:false},{type:"node_out",name:"Hh",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Hi",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"Hj",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Hk",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Hi","=","u_light_factors","[","LAMP_LIGHT_FACT_IND","]",".","LAMP_FAC_CHANNELS",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_TYPE","HEMI",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["Hk","=","ya",";"]}]},{type:"node_else",statements:[{type:"textline",tokens:["Hk","=","ZERO_VALUE_NODES",";"]}]}]},{type:"textline",tokens:["Hj","=","u_light_color_intensities","[","LAMP_IND","]",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_SHADOW_MAP_IND",1,{type:"negative_expr",places:1},{type:"non_equal_expr",places:2}],statements:[{type:"textline",tokens:["Hj","*=","Hg","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_TYPE","SPOT",{type:"equal_expr",places:2},"LAMP_TYPE","POINT",{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],statements:[{type:"textline",tokens:["yZ","=","u_light_positions","[","LAMP_IND","]",";","Hh","=","yZ","-","yX",";"]},{type:"textline",tokens:["yM","=","length","(","Hh",")",";","Hj","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","yM","*","yM",")",";","Hh","=","normalize","(","Hh",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["LAMP_TYPE","SPOT",{type:"equal_expr",places:2}],statements:[{type:"textline",tokens:["yZ","=","u_light_directions","[","LAMP_IND","]",";","yM","=","dot","(","Hh",",","yZ",")",";","yM","*=","smoothstep","(","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",",","(","yM","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","Hj","*=","yM",";"]}]}]}]},{type:"node_else",statements:[{type:"textline",tokens:["Hh","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{type:"node",name:"DIFFUSE_FRESNEL",declarations:[{type:"node_in",name:"Hl",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Hm",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"Hn",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ho",qualifier:["float"],is_optional:false},{type:"node_in",name:"Hp",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"Hq",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Hq","=","ZERO_VALUE_NODES",";","if","(","Hm",".","r","!=","ZERO_VALUE_NODES",")","{","yM","=","(","UNITY_VALUE_NODES","-","Ho",")","*","dot","(","Hn",",","Hl",")","+","Ho",";","if","(","Hp","[","0","]","==","ZERO_VALUE_NODES",")","{","Hq","=","UNITY_VALUE_NODES",";","}","else","{","yM","=","UNITY_VALUE_NODES","+","abs","(","yM",")",";","yM","=","Hp","[","1","]","+","(","UNITY_VALUE_NODES","-","Hp","[","1","]",")","*","pow","(","yM",",","Hp","[","0","]",")",";","Hq","=","clamp","(","yM",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","}","Hq","=","max","(","Hq",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_LAMBERT",declarations:[{type:"node_in",name:"Hr",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Hs",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"Ht",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Hu",qualifier:["float"],is_optional:false},{type:"node_out",name:"Hv",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Hv","=","ZERO_VALUE_NODES",";","if","(","Hs",".","r","!=","ZERO_VALUE_NODES",")","{","yM","=","(","UNITY_VALUE_NODES","-","Hu",")","*","dot","(","Ht",",","Hr",")","+","Hu",";","Hv","=","max","(","yM",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_OREN_NAYAR",declarations:[{type:"node_in",name:"Hw",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Hx",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"Hy",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Hz",qualifier:["float"],is_optional:false},{type:"node_in",name:"HA",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"HB",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["HB","=","ZERO_VALUE_NODES",";","if","(","Hx",".","r","!=","ZERO_VALUE_NODES",")","{","yM","=","(","UNITY_VALUE_NODES","-","Hz",")","*","dot","(","Hy",",","Hw",")","+","Hz",";","if","(","HA","[","0","]",">","ZERO_VALUE_NODES",")","{","yN","=","max","(","dot","(","Hy",",","yx",")",",","ZERO_VALUE_NODES",")",";","yO","=","HA","[","0","]","*","HA","[","0","]",";","yP","=","UNITY_VALUE_NODES","-","ya","*","(","yO","/","(","yO","+","0.33",")",")",";","yZ","=","Hw","-","yM","*","Hy",";","za","=","yx","-","yN","*","Hy",";"]},{type:"textline",tokens:["if","(","length","(","yZ",")","==","ZERO_VALUE_NODES","||","length","(","za",")","==","ZERO_VALUE_NODES","||","abs","(","yM",")",">","UNITY_VALUE_NODES","||","abs","(","yN",")",">","UNITY_VALUE_NODES",")"]},{type:"textline",tokens:["HB","=","yM","*","yP",";","else","{","yQ","=","acos","(","yM",")",";","yN","=","acos","(","yN",")",";","yZ","=","normalize","(","yZ",")",";","za","=","normalize","(","za",")",";","yR","=","max","(","yQ",",","yN",")",";","yS","=","min","(","yQ",",","yN",")",";","yS","*=","0.95",";","yN","=","max","(","dot","(","yZ",",","za",")",",","ZERO_VALUE_NODES",")",";","yO","=","0.45","*","(","yO","/","(","yO","+","0.09",")",")",";","HB","=","yM","*","(","yP","+","(","yO","*","yN","*","sin","(","yR",")","*","tan","(","yS",")",")",")",";","}","}","else","HB","=","yM",";","HB","=","max","(","HB",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_MINNAERT",declarations:[{type:"node_in",name:"HC",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"HD",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"HE",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"HF",qualifier:["float"],is_optional:false},{type:"node_in",name:"HG",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"HH",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["HH","=","ZERO_VALUE_NODES",";","if","(","HD",".","r","!=","ZERO_VALUE_NODES",")","{","yM","=","(","UNITY_VALUE_NODES","-","HF",")","*","dot","(","HE",",","HC",")","+","HF",";","yS","=","max","(","dot","(","HE",",","yx",")",",","ZERO_VALUE_NODES",")",";","if","(","HG","[","0","]","<=","UNITY_VALUE_NODES",")","HH","=","yM","*","pow","(","max","(","yS","*","yM",",","0.1",")",",","HG","[","0","]","-","UNITY_VALUE_NODES",")",";","else","HH","=","yM","*","pow","(","1.0001","-","yS",",","HG","[","0","]","-","UNITY_VALUE_NODES",")",";","HH","=","max","(","HH",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"DIFFUSE_TOON",declarations:[{type:"node_in",name:"HI",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"HJ",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"HK",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"HL",qualifier:["float"],is_optional:false},{type:"node_in",name:"HM",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"HN",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["HN","=","ZERO_VALUE_NODES",";","if","(","HJ",".","r","!=","ZERO_VALUE_NODES",")","{","yS","=","(","UNITY_VALUE_NODES","-","HL",")","*","dot","(","HK",",","HI",")","+","HL",";","yS","=","acos","(","yS",")",";","if","(","yS","<","HM","[","0","]",")","HN","=","UNITY_VALUE_NODES",";","else","if","(","yS",">","(","HM","[","0","]","+","HM","[","1","]",")","||","HM","[","1","]","==","ZERO_VALUE_NODES",")","HN","=","ZERO_VALUE_NODES",";","else","HN","=","UNITY_VALUE_NODES","-","(","(","yS","-","HM","[","0","]",")","/","HM","[","1","]",")",";","HN","=","max","(","HN",",","ZERO_VALUE_NODES",")",";","}"]}]},{type:"node",name:"SPECULAR_PHONG",declarations:[{type:"node_in",name:"HO",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"HP",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"HQ",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"HR",qualifier:["float"],is_optional:false},{type:"node_in",name:"HS",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"HT",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["HT","=","ZERO_VALUE_NODES",";","if","(","HP",".","g","==","UNITY_VALUE_NODES",")","{","za","=","normalize","(","HO","+","yx",")",";","HT","=","(","UNITY_VALUE_NODES","-","HR",")","*","max","(","dot","(","HQ",",","za",")",",","ZERO_VALUE_NODES",")","+","HR",";","HT","=","pow","(","HT",",","HS","[","0","]",")",";","}"]}]},{type:"node",name:"SPECULAR_WARDISO",declarations:[{type:"node_in",name:"HU",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"HV",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"HW",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"HX",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"HY",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["HY","=","ZERO_VALUE_NODES",";","if","(","HV",".","g","==","UNITY_VALUE_NODES",")","{","za","=","normalize","(","HU","+","yx",")",";","yS","=","max","(","dot","(","HW",",","za",")",",","0.001",")",";"]},{type:"textline",tokens:["yM","=","max","(","dot","(","HW",",","yx",")",",","0.01",")",";","yR","=","max","(","dot","(","HW",",","HU",")",",","0.01",")",";","yS","=","tan","(","acos","(","yS",")",")",";","yN","=","max","(","HX","[","0","]",",","0.001",")",";","HY","=","yR","*","(","UNITY_VALUE_NODES","/","(","4.0","*","M_PI","*","yN","*","yN",")",")","*","(","exp","(","-","(","yS","*","yS",")","/","(","yN","*","yN",")",")","/","(","sqrt","(","yM","*","yR",")",")",")",";","}"]}]},{type:"node",name:"SPECULAR_TOON",declarations:[{type:"node_in",name:"HZ",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"H_",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"Ia",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ib",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"Ic",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Ic","=","ZERO_VALUE_NODES",";","if","(","H_",".","g","==","UNITY_VALUE_NODES",")","{","za","=","normalize","(","HZ","+","yx",")",";","yR","=","acos","(","dot","(","za",",","Ia",")",")",";","if","(","yR","<","Ib","[","0","]",")","Ic","=","UNITY_VALUE_NODES",";","else","if","(","yR",">=","Ib","[","0","]","+","Ib","[","1","]","||","Ib","[","1","]","==","ZERO_VALUE_NODES",")","Ic","=","ZERO_VALUE_NODES",";","else","Ic","=","UNITY_VALUE_NODES","-","(","yR","-","Ib","[","0","]",")","/","Ib","[","1","]",";","}"]}]},{type:"node",name:"SPECULAR_BLINN",declarations:[{type:"node_in",name:"Id",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ie",qualifier:["vec2"],is_optional:false},{type:"node_in",name:"If",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ig",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ih",qualifier:["vec2"],is_optional:false},{type:"node_out",name:"Ii",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Ii","=","ZERO_VALUE_NODES",";","if","(","Ie",".","g","==","UNITY_VALUE_NODES",")","{","if","(","Ih","[","0","]","<","UNITY_VALUE_NODES","||","Ih","[","1","]","==","ZERO_VALUE_NODES",")","Ii","=","ZERO_VALUE_NODES",";","else","{","if","(","Ih","[","1","]","<","100.0",")","Ih","[","1","]","=","sqrt","(","UNITY_VALUE_NODES","/","Ih","[","1","]",")",";","else","Ih","[","1","]","=","10.0","/","Ih","[","1","]",";","za","=","normalize","(","yx","+","Id",")",";","yR","=","(","UNITY_VALUE_NODES","-","Ig",")","*","max","(","dot","(","If",",","za",")",",","ZERO_VALUE_NODES",")","+","Ig",";","if","(","yR","<","ZERO_VALUE_NODES",")","Ii","=","ZERO_VALUE_NODES",";","else","{","yM","=","max","(","dot","(","If",",","yx",")",",","0.01",")",";","yN","=","dot","(","If",",","Id",")",";","if","(","yN","<=","0.01",")","Ii","=","ZERO_VALUE_NODES",";","else","{","yS","=","max","(","dot","(","yx",",","za",")",",","0.01",")",";","yO","=","UNITY_VALUE_NODES",";","yM","=","(","2.0","*","yR","*","yM",")","/","yS",";","yN","=","(","2.0","*","yR","*","yN",")","/","yS",";","yN","=","min","(","min","(","yO",",","yM",")",",","yN",")",";","yM","=","sqrt","(","pow","(","Ih","[","0","]",",","2.0",")","+","pow","(","yS",",","2.0",")","-","UNITY_VALUE_NODES",")",";","yS","=","pow","(","yM","-","yS",",","2.0",")","/","pow","(","yM","+","yS",",","2.0",")","*","(","UNITY_VALUE_NODES","+","pow","(","yS","*","(","yM","+","yS",")","-","UNITY_VALUE_NODES",",","2.0",")","/","pow","(","yS","*","(","yM","-","yS",")","+","UNITY_VALUE_NODES",",","2.0",")",")",";","yR","=","acos","(","yR",")",";","Ii","=","max","(","yS","*","yN","*","exp","(","-","pow","(","yR",",","2.0",")","/","(","2.0","*","pow","(","Ih","[","1","]",",","2.0",")",")",")",",","ZERO_VALUE_NODES",")",";","}","}","}","}"]}]},{type:"node",name:"LIGHTING_APPLY",declarations:[{type:"node_in",name:"Ij",qualifier:["vec4"],is_optional:false},{type:"node_in",name:"Ik",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Il",qualifier:["float"],is_optional:false},{type:"node_in",name:"Im",qualifier:["float"],is_optional:false},{type:"node_in",name:"In",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Io",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ip",qualifier:["vec4"],is_optional:false},{type:"node_in",name:"Iq",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Ir",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Is",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"It",qualifier:["float"],is_optional:false},{type:"node_out",name:"Iu",qualifier:["vec4"],is_optional:false},{type:"node_out",name:"Iv",qualifier:["vec3"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_NODE_B4W_TRANSLUCENCY"],statements:[{type:"textline",tokens:["if","(","dot","(","In",",","Io",")","*","dot","(","yx",",","Io",")","<","ZERO_VALUE_NODES",")","{","yR","=","Ip",".","x",";","yN","=","Ip",".","y",";","yS","=","Ip",".","z",";","yM","=","Ip",".","w",";"]},{type:"textline",tokens:["yO","=","clamp","(","abs","(","dot","(","In",",","Io",")",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","yP","=","clamp","(","dot","(","yx",",","-","In",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","yN","=","pow","(","yP",",","yN",")",";"]},{type:"textline",tokens:["Iu","=","Ij","+","It","*","vec4","(","Is","*","yO","*","pow","(","Iq",",","vec3","(","yR",")",")",",","UNITY_VALUE_NODES",")",";"]},{type:"textline",tokens:["Iu","+=","yS","*","mix","(","vec4","(","Iq",",","UNITY_VALUE_NODES",")",",","vec4","(","UNITY_VALUE_NODES",")",",","yM",")","*","It","*","vec4","(","Is","*","yO","*","vec3","(","yN",")",",","UNITY_VALUE_NODES",")",";","Iv","=","Ik",";","}","else","{"]},{type:"textline",tokens:["Iv","=","Ik","+","Is","*","Ir","*","Im",";","Iu","=","Ij","+","vec4","(","Is","*","Iq","*","Il",",","Im",")",";","}"]}]},{type:"node_else",statements:[{type:"textline",tokens:["Iv","=","Ik","+","Is","*","Ir","*","Im",";","Iu","=","Ij","+","vec4","(","Is","*","Iq","*","Il",",","Im",")",";"]}]}]}]},{type:"node",name:"RGB",declarations:[{type:"node_out",name:"Iw",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Iw","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{type:"node",name:"RGBTOBW",declarations:[{type:"node_in",name:"Ix",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Iy",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Iy","=","dot","(","Ix",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{type:"node",name:"SEPRGB",declarations:[{type:"node_in",name:"Iz",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"IA",qualifier:["float"],is_optional:true},{type:"node_out",name:"IB",qualifier:["float"],is_optional:true},{type:"node_out",name:"IC",qualifier:["float"],is_optional:true}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IA"],statements:[{type:"textline",tokens:["IA","=","Iz",".","r",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IB"],statements:[{type:"textline",tokens:["IB","=","Iz",".","g",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IC"],statements:[{type:"textline",tokens:["IC","=","Iz",".","b",";"]}]}]}]},{type:"node",name:"SEPHSV",declarations:[{type:"node_in",name:"ID",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"IE",qualifier:["float"],is_optional:true},{type:"node_out",name:"IF",qualifier:["float"],is_optional:true},{type:"node_out",name:"IG",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["za","=","yf","(","ID",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IE"],statements:[{type:"textline",tokens:["IE","=","za",".","r",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IF"],statements:[{type:"textline",tokens:["IF","=","za",".","g",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IG"],statements:[{type:"textline",tokens:["IG","=","za",".","b",";"]}]}]}]},{type:"node",name:"SQUEEZE",declarations:[{type:"node_in",name:"IH",qualifier:["float"],is_optional:false},{type:"node_in",name:"II",qualifier:["float"],is_optional:false},{type:"node_in",name:"IJ",qualifier:["float"],is_optional:false},{type:"node_out",name:"IK",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["IK","=","UNITY_VALUE_NODES","/","(","UNITY_VALUE_NODES","+","pow","(","2.71828183",",","-","(","IH","-","IJ",")","*","II",")",")",";"]}]},{type:"node",name:"GAMMA",declarations:[{type:"node_in",name:"IL",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"IM",qualifier:["float"],is_optional:false},{type:"node_out",name:"IN",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["IN","=","IL",";","if","(","IN",".","x",">","ZERO_VALUE_NODES",")","IN",".","x","=","pow","(","IL",".","x",",","IM",")",";","if","(","IN",".","y",">","ZERO_VALUE_NODES",")","IN",".","y","=","pow","(","IL",".","y",",","IM",")",";","if","(","IN",".","z",">","ZERO_VALUE_NODES",")","IN",".","z","=","pow","(","IL",".","z",",","IM",")",";"]}]},{type:"node",name:"B4W_SRGB_TO_LINEAR",declarations:[{type:"node_in",name:"IO",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"IP",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["IP","=","max","(","vec3","(","ZERO_VALUE_NODES",")",",","IO",")",";","IP","=","pow","(","IP",",","vec3","(","2.2",")",")",";"]}]},{type:"node",name:"B4W_LINEAR_TO_SRGB",declarations:[{type:"node_in",name:"IQ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"IR",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["IR","=","max","(","vec3","(","ZERO_VALUE_NODES",")",",","IQ",")",";","IR","=","pow","(","IR",",","vec3","(","UNITY_VALUE_NODES","/","2.2",")",")",";"]}]},{type:"node",name:"TEXTURE_EMPTY",declarations:[{type:"node_out",name:"IS",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"IT",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"IU",qualifier:["float"],is_optional:false}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IS"],statements:[{type:"textline",tokens:["IS","[","2","]","=","IS","[","1","]","=","IS","[","0","]","=","ZERO_VALUE_NODES",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IT"],statements:[{type:"textline",tokens:["IT","[","2","]","=","IT","[","1","]","=","IT","[","0","]","=","ZERO_VALUE_NODES",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IU"],statements:[{type:"textline",tokens:["IU","=","ZERO_VALUE_NODES",";"]}]}]}]},{type:"node",name:"TEXTURE_ENVIRONMENT",declarations:[{type:"node_in",name:"IV",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"IW",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"IX",qualifier:["float"],is_optional:true},{type:"node_param",name:"node_TEXTURE_ENVIRONMENT_var_texture",qualifier:["uniform","samplerCube"],is_optional:false}],statements:[{type:"textline",tokens:["za","=","vec3","(","IV",".","x",",","IV",".","z",",","-","IV",".","y",")",";","yU","=","textureCube","(","node_TEXTURE_ENVIRONMENT_var_texture",",","za",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IW"],statements:[{type:"textline",tokens:["IW","=","yU",".","xyz",";","by","(","IW",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_IX"],statements:[{type:"textline",tokens:["IX","=","yU",".","w",";"]}]}]}]},{type:"node",name:"TEXTURE_COLOR",declarations:[{type:"node_in",name:"IY",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"IZ",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"I_",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"Ja",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Jb",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Jc",qualifier:["float"],is_optional:true},{type:"node_out",name:"Jd",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Je",qualifier:["float"],is_optional:true},{type:"node_out",name:"Jf",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Jg",qualifier:["float"],is_optional:true},{type:"node_out",name:"Jh",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Ji",qualifier:["float"],is_optional:true},{type:"node_param",name:"node_TEXTURE_COLOR_var_texture",qualifier:["uniform","sampler2D"],is_optional:false}],statements:[{type:"textline",tokens:["yU","=","texture2D","(","node_TEXTURE_COLOR_var_texture",",","yn","(","IY",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jb"],statements:[{type:"textline",tokens:["Jb","=","yU",".","xyz",";","by","(","Jb",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jc"],statements:[{type:"textline",tokens:["Jc","=","yU",".","w",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv2"],statements:[{type:"textline",tokens:["yU","=","texture2D","(","node_TEXTURE_COLOR_var_texture",",","yn","(","IZ",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jd"],statements:[{type:"textline",tokens:["Jd","=","yU",".","xyz",";","by","(","Jd",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Je"],statements:[{type:"textline",tokens:["Je","=","yU",".","w",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv3"],statements:[{type:"textline",tokens:["yU","=","texture2D","(","node_TEXTURE_COLOR_var_texture",",","yn","(","I_",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jf"],statements:[{type:"textline",tokens:["Jf","=","yU",".","xyz",";","by","(","Jf",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jg"],statements:[{type:"textline",tokens:["Jg","=","yU",".","w",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv4"],statements:[{type:"textline",tokens:["yU","=","texture2D","(","node_TEXTURE_COLOR_var_texture",",","yn","(","Ja",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jh"],statements:[{type:"textline",tokens:["Jh","=","yU",".","xyz",";","by","(","Jh",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Ji"],statements:[{type:"textline",tokens:["Ji","=","yU",".","w",";"]}]}]}]}]}]},{type:"node",name:"TEXTURE_NORMAL",declarations:[{type:"node_in",name:"Jj",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"Jk",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"Jl",qualifier:["vec3"],is_optional:true},{type:"node_in",name:"Jm",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Jn",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Jo",qualifier:["float"],is_optional:true},{type:"node_out",name:"Jp",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Jq",qualifier:["float"],is_optional:true},{type:"node_out",name:"Jr",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Js",qualifier:["float"],is_optional:true},{type:"node_out",name:"Jt",qualifier:["vec3"],is_optional:true},{type:"node_out",name:"Ju",qualifier:["float"],is_optional:true},{type:"node_param",name:"node_TEXTURE_NORMAL_var_texture",qualifier:["uniform","sampler2D"],is_optional:false}],statements:[{type:"textline",tokens:["yU","=","texture2D","(","node_TEXTURE_NORMAL_var_texture",",","yn","(","Jj",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jn"],statements:[{type:"textline",tokens:["Jn","=","normalize","(","yV","*","(","yU",".","xyz","-","ya",")",")",";"]},{type:"textline",tokens:["Jn",".","yz","=","vec2","(","-","Jn",".","z",",","Jn",".","y",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jo"],statements:[{type:"textline",tokens:["Jo","=","yU",".","w",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv2"],statements:[{type:"textline",tokens:["yU","=","texture2D","(","node_TEXTURE_NORMAL_var_texture",",","yn","(","Jk",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jp"],statements:[{type:"textline",tokens:["Jp","=","normalize","(","yV","*","(","yU",".","xyz","-","ya",")",")",";"]},{type:"textline",tokens:["Jp",".","yz","=","vec2","(","-","Jp",".","z",",","Jp",".","y",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jq"],statements:[{type:"textline",tokens:["Jq","=","yU",".","w",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv3"],statements:[{type:"textline",tokens:["yU","=","texture2D","(","node_TEXTURE_NORMAL_var_texture",",","yn","(","Jl",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jr"],statements:[{type:"textline",tokens:["Jr","=","normalize","(","yV","*","(","yU",".","xyz","-","ya",")",")",";"]},{type:"textline",tokens:["Jr",".","yz","=","vec2","(","-","Jr",".","z",",","Jr",".","y",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Js"],statements:[{type:"textline",tokens:["Js","=","yU",".","w",";"]}]}]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_uv4"],statements:[{type:"textline",tokens:["yU","=","texture2D","(","node_TEXTURE_NORMAL_var_texture",",","yn","(","Jm",")",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jt"],statements:[{type:"textline",tokens:["Jt","=","normalize","(","yV","*","(","yU",".","xyz","-","ya",")",")",";"]},{type:"textline",tokens:["Jt",".","yz","=","vec2","(","-","Jt",".","z",",","Jt",".","y",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Ju"],statements:[{type:"textline",tokens:["Ju","=","yU",".","w",";"]}]}]}]}]}]},{type:"node",name:"VALUE",declarations:[{type:"node_out",name:"Jv",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Jv","=","u_node_values","[","VALUE_IND","]",";"]}]},{type:"node",name:"VECT_MATH_ADD",declarations:[{type:"node_in",name:"Jw",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Jx",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Jy",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Jz",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["Jy","=","Jw","+","Jx",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Jz"],statements:[{type:"textline",tokens:["Jz","=","(","abs","(","Jy","[","0","]",")","+","abs","(","Jy","[","1","]",")","+","abs","(","Jy","[","2","]",")",")","/","3.0",";"]}]}]}]},{type:"node",name:"VECT_MATH_SUBTRACT",declarations:[{type:"node_in",name:"JA",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"JB",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JC",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JD",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["JC","=","JA","-","JB",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_JD"],statements:[{type:"textline",tokens:["JD","=","(","abs","(","JC","[","0","]",")","+","abs","(","JC","[","1","]",")","+","abs","(","JC","[","2","]",")",")","/","3.0",";"]}]}]}]},{type:"node",name:"VECT_MATH_AVERAGE",declarations:[{type:"node_in",name:"JE",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"JF",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JG",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JH",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["JG","=","JE","+","JF",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_JH"],statements:[{type:"textline",tokens:["JH","=","length","(","JG",")",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_JG"],statements:[{type:"textline",tokens:["JG","=","normalize","(","JG",")",";"]}]}]}]},{type:"node",name:"VECT_MATH_DOT_PRODUCT",declarations:[{type:"node_in",name:"JI",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"JJ",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JK",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JL",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["JK","=","vec3","(","ZERO_VALUE_NODES",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_JL"],statements:[{type:"textline",tokens:["JL","=","dot","(","JI",",","JJ",")",";"]}]}]}]},{type:"node",name:"VECT_MATH_CROSS_PRODUCT",declarations:[{type:"node_in",name:"JM",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"JN",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JO",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JP",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["JO","=","cross","(","JM",",","JN",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_JP"],statements:[{type:"textline",tokens:["JP","=","length","(","JO",")",";"]}]}]}]},{type:"node",name:"VECT_MATH_NORMALIZE",declarations:[{type:"node_in",name:"JQ",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"JR",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JS",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JT",qualifier:["float"],is_optional:true}],statements:[{type:"textline",tokens:["JS","=","normalize","(","JQ",")",";"]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_JT"],statements:[{type:"textline",tokens:["JT","=","length","(","JQ",")",";"]}]}]},{type:"textline",tokens:["JR",";"]}]},{type:"node",name:"B4W_REFLECT",declarations:[{type:"node_in",name:"JU",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"JV",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JW",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["JW","=","reflect","(","(","yA","*","vec4","(","JU",",","0.0",")",")",".","xyz",",","JV",")",";"]}]},{type:"node",name:"B4W_REFLECT_WORLD",declarations:[{type:"node_in",name:"JX",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"JY",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["za","=","vec3","(","-","yx",".","x",",","yx",".","z",",","-","yx",".","y",")",";","JY","=","reflect","(","za",",","JX",")",";"]}]},{type:"node",name:"B4W_PARALLAX",declarations:[{type:"node_in",name:"JZ",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"J_",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ka",qualifier:["const","float"],is_optional:false},{type:"node_in",name:"Kb",qualifier:["const","float"],is_optional:false},{type:"node_out",name:"Kc",qualifier:["vec3"],is_optional:false},{type:"node_param",name:"node_B4W_PARALLAX_var_texture",qualifier:["uniform","sampler2D"],is_optional:false}],statements:[{type:"textline",tokens:["yN","=","length","(","yT",")",";","if","(","yN","<","Kb",")","{","yI","=","yn","(","JZ",")",";","yN","=","clamp","(","ya","*","(","Kb","-","yN",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","yN","=","J_","*","yN",";"]},{type:"textline",tokens:["za","=","normalize","(","yx","*","yV",")",";"]},{type:"textline",tokens:["yO","=","UNITY_VALUE_NODES","/","Ka",";"]},{type:"textline",tokens:["yJ","=","za",".","xy","*","yN","/","(","Ka","*","za",".","z",")",";","yN","=","UNITY_VALUE_NODES",";","yM","=","texture2D","(","node_B4W_PARALLAX_var_texture",",","yI",")",".","a",";"]},{type:"textline",tokens:["for","(","float","Kd","=","1.0",";","Kd","<=","Ka",";","Kd","++",")","{","if","(","yM","<","yN",")","{","yN","-=","yO",";","yI","-=","yJ",";","yM","=","texture2D","(","node_B4W_PARALLAX_var_texture",",","yI",")",".","a",";","}","}"]},{type:"textline",tokens:["yJ","=","yI","+","yJ",";","yO","=","texture2D","(","node_B4W_PARALLAX_var_texture",",","yJ",")",".","a","-","(","yN","+","yO",")",";","yN","=","yM","-","yN",";","yO","=","yN","/","(","yN","-","yO",")",";"]},{type:"textline",tokens:["yI","=","yO","*","yJ","+","(","UNITY_VALUE_NODES","-","yO",")","*","yI",";","Kc","=","yl","(","yI",")",";","}","else","Kc","=","JZ",";"]}]},{type:"node",name:"B4W_CLAMP",declarations:[{type:"node_in",name:"Ke",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Kf",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Kf","=","clamp","(","Ke",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]},{type:"node",name:"B4W_REFRACTION",declarations:[{type:"node_in",name:"Kg",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Kh",qualifier:["float"],is_optional:false},{type:"node_out",name:"Ki",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["Ki","=","Kg",";"]}]},{type:"node",name:"B4W_TRANSLUCENCY",declarations:[{type:"node_in",name:"Kj",qualifier:["float"],is_optional:false},{type:"node_in",name:"Kk",qualifier:["float"],is_optional:false},{type:"node_in",name:"Kl",qualifier:["float"],is_optional:false},{type:"node_in",name:"Km",qualifier:["float"],is_optional:false},{type:"node_in",name:"Kn",qualifier:["float"],is_optional:false},{type:"node_out",name:"Ko",qualifier:["float"],is_optional:true},{type:"node_out",name:"Kp",qualifier:["vec4"],is_optional:true}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Ko"],statements:[{type:"textline",tokens:["Ko","=","Kj",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["USE_OUT_Kp"],statements:[{type:"textline",tokens:["Kp","=","vec4","(","Kk",",","Kl",",","Km",",","Kn",")",";"]}]}]}]},{type:"node",name:"B4W_TIME",declarations:[{type:"node_out",name:"Kq",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Kq","=","u_time",";"]}]},{type:"node",name:"B4W_SMOOTHSTEP",declarations:[{type:"node_in",name:"Kr",qualifier:["float"],is_optional:false},{type:"node_in",name:"Ks",qualifier:["float"],is_optional:false},{type:"node_in",name:"Kt",qualifier:["float"],is_optional:false},{type:"node_out",name:"Ku",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Ku","=","smoothstep","(","Ks",",","Kt",",","Kr",")",";"]}]},{type:"node",name:"B4W_GLOW_OUTPUT",declarations:[{type:"node_in",name:"Kv",qualifier:["vec3"],is_optional:false},{type:"node_in",name:"Kw",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["yD","=","Kv",";","yH","=","Kw",";"]}]},{type:"node",name:"B4W_VECTOSCAL",declarations:[{type:"node_in",name:"Kx",qualifier:["vec3"],is_optional:false},{type:"node_out",name:"Ky",qualifier:["float"],is_optional:false}],statements:[{type:"textline",tokens:["Ky","=","(","Kx",".","r","+","Kx",".","g","+","Kx",".","b",")","/","3.0",";"]}]},{type:"node",name:"B4W_SCALTOVEC",declarations:[{type:"node_in",name:"Kz",qualifier:["float"],is_optional:false},{type:"node_out",name:"KA",qualifier:["vec3"],is_optional:false}],statements:[{type:"textline",tokens:["KA","[","0","]","=","Kz",";","KA","[","1","]","=","Kz",";","KA","[","2","]","=","Kz",";"]}]},{type:"nodes_global"},{type:"textline",tokens:["void","KB","(","in","vec3","yx",",","in","mat4","yy",",","in","mat4","yz",",","in","mat4","yA",",","in","mat4","yB",",","in","mat4","yC",",","out","vec3","yD",",","out","vec3","yE",",","out","vec3","yF",",","out","vec4","yG",",","out","float","yH",")","{","vec2","yI",",","yJ",";","float","yK",",","yL",",","yM",",","yN",",","yO",",","yP",",","yQ",",","yR",",","yS",";","vec4","yT",",","yU",";","mat3","yV",";","vec3","yW",",","yX",",","yY",",","yZ",",","y_",",","za",";","yD","=","vec3","(","ZERO_VALUE_NODES",")",";","yE","=","vec3","(","ZERO_VALUE_NODES",")",";","yF","=","vec3","(","ZERO_VALUE_NODES",")",";","yG","=","vec4","(","ZERO_VALUE_NODES",")",";","yH","=","ZERO_VALUE_NODES",";"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO",{type:"logical_or_expr",places:5}],group:{type:"group",parts:[{type:"textline",tokens:["yW","=","normalize","(","bL",")",";","yX","=","yW",";"]},{type:"condition",parts:[{type:"if",expression:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["INVERT_FRONTFACING"],group:{type:"group",parts:[{type:"textline",tokens:["if","(","!","gl_FrontFacing",")"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["if","(","gl_FrontFacing",")"]}]}}]},{type:"textline",tokens:["yX","=","yX",";","else","yX","=","-","yX",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["DOUBLE_SIDED_LIGHTING"],group:{type:"group",parts:[{type:"textline",tokens:["yY","=","yX",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["yY","=","yW",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_GEOMETRY_NO"],group:{type:"group",parts:[{type:"textline",tokens:["yW","=","yX",";"]}]}}]}]}}]},{type:"condition",parts:[{type:"if",expression:["CALC_TBN_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["yZ","=","cross","(","yX",",","bM",".","xyz",")","*","bM",".","w",";","yV","=","mat3","(","bM",".","xyz",",","yZ",",","yX",")",";","yV","=","yV",";"]}]}}]},{type:"textline",tokens:["yX","=","bJ",";","yT","=","bK",";","yK","=","u_emit",";","yL","=","u_ambient",";"]},{type:"nodes_main"},{type:"textline",tokens:["}"]}]},exports["include/particles.glslv"] = {type:"group",parts:[{type:"var",name:"EPSILON",tokens:["0.0001"]},{type:"textline",tokens:["struct","KD","{","float","a",";","vec3","b",";","float","c",";","vec3","d",";","float","e",";","vec3","f",";","vec3","g",";","float","h",";","}",";"]},{type:"condition",parts:[{type:"if",expression:["COLOR_RAMP_LENGTH",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["void","KJ","(","inout","vec3","KE",",","float","KF",",","vec4","KG",",","vec4","KH",")","{","float","KI",";","KI","=","KH",".","x","-","KG",".","x",";","KI","=","(","KF","-","KG",".","x",")","/","KI",";","KE","=","mix","(","KE",",","KH",".","yzw",",","clamp","(","KI",",","0.0",",","1.0",")",")",";","}"]}]}}]},{type:"condition",parts:[{type:"if",expression:["COLOR_RAMP_LENGTH",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vec3","KP","(","float","KK",",","float","KL",",","vec4","KM","[","COLOR_RAMP_LENGTH","]",")","{","vec3","KN",";","float","KO",";","KO","=","KK","/","KL",";","KN","=","KM","[","0","]",".","yzw",";"]},{type:"condition",parts:[{type:"if",expression:["COLOR_RAMP_LENGTH",1,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["KJ","(","KN",",","KO",",","KM","[","0","]",",","KM","[","1","]",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["COLOR_RAMP_LENGTH",2,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["KJ","(","KN",",","KO",",","KM","[","1","]",",","KM","[","2","]",")",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["COLOR_RAMP_LENGTH",3,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["KJ","(","KN",",","KO",",","KM","[","2","]",",","KM","[","3","]",")",";"]}]}}]},{type:"textline",tokens:["return","KN",";","}"]}]}}]},{type:"textline",tokens:["float","KX","(","float","KQ",",","float","KR",",","float","KS",",","float","KT",")","{","float","KU",",","KV",",","KW",";","KU","=","max","(","0.01",",","min","(","KR",",","KS",")",")",";","KV","=","max","(","0.01",",","min","(","KR",",","KT",")",")",";","KW","=","KR","-","KV",";","KV","=","clamp","(","KQ","/","KU",",","0.0",",","1.0",")","-","step","(","KW",",","KQ",")","*","(","KQ","-","KW",")","/","KV",";","return","KV",";","}","KD","Le","(",")","{","mat4","KY",";","vec3","KZ",",","K_",";","float","La",",","Lb",",","Lc",";","KD","Ld",";","Lb","=","a_p_data","[","0","]",";","Lc","=","a_p_data","[","1","]",";","if","(","u_p_cyclic","==","1",")","{","La","=","mod","(","u_p_time",",","u_p_length",")","-","Lc",";","if","(","La","<","0.0",")","La","+=","u_p_length",";","}","if","(","u_p_cyclic","!=","1",")","{","La","=","u_p_time","-","Lc",";","}","if","(","La","<","0.0","||","La",">=","Lb",")","{","Ld",".","a","=","0.0001",";","Ld",".","b","=","vec3","(","99999.0",",","0.0",",","0.0",")",";","}","if","(","!","(","La","<","0.0","||","La",">=","Lb",")",")","{"]},{type:"condition",parts:[{type:"if",expression:["WORLD_SPACE"],group:{type:"group",parts:[{type:"textline",tokens:["KZ","=","a_position",";","K_","=","a_normal",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["KY","=","O","(","u_model_tsr",")",";","KZ","=","(","KY","*","vec4","(","a_position",",","1.0",")",")",".","xyz",";","K_","=","(","KY","*","vec4","(","a_normal",",","0.0",")",")",".","xyz",";"]}]}}]},{type:"textline",tokens:["K_","=","u_p_nfactor","*","K_",";","K_","+=","a_p_vels",".","xyz",";","K_",".","y","-=","u_p_gravity","*","La","/","2.0",";","Lb","=","max","(","u_p_mass",",","EPSILON",")",";","K_","+=","(","u_p_wind_fac","*","u_wind","/","Lb",")","*","La","/","2.0",";","Ld",".","h","=","La",";","Ld",".","f","=","K_",";","Ld",".","g","=","a_normal","*","a_p_vels",".","w",";","Ld",".","b","=","KZ","+","K_","*","La",";","Ld",".","e","=","a_p_vels",".","w","*","La",";"]},{type:"condition",parts:[{type:"if",expression:["USE_COLOR_RAMP"],group:{type:"group",parts:[{type:"textline",tokens:["Ld",".","a","=","texture2D","(","u_color_ramp_tex",",","vec2","(","La","/","u_p_max_lifetime",",","0.5",")",")",".","g",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Ld",".","a","=","1.0",";"]}]}}]},{type:"condition",parts:[{type:"if",expression:["COLOR_RAMP_LENGTH",0,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Ld",".","d","=","KP","(","La",",","u_p_max_lifetime",",","u_p_color_ramp",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Ld",".","d","=","vec3","(","1.0",")",";"]}]}}]},{type:"textline",tokens:["Ld",".","c","=","KX","(","La",",","a_p_data","[","0","]",",","u_p_fade_in",",","u_p_fade_out",")",";","}","return","Ld",";","}"]}]},exports["include/particles_nodes.glslv"] = {type:"group",parts:[{type:"node",name:"TEX_COORD_UV",declarations:[],statements:[{type:"textline",tokens:["bT","=","Lk","+","0.5",";"]}]},{type:"node",name:"UV_MERGED",declarations:[],statements:[{type:"textline",tokens:["bT","=","Lk","+","0.5",";"]}]},{type:"node",name:"UVMAP",declarations:[],statements:[{type:"textline",tokens:["bT","=","Lk","+","0.5",";"]}]},{type:"node",name:"GEOMETRY_UV",declarations:[],statements:[{type:"textline",tokens:["bT","=","Lk","+","0.5",";"]}]},{type:"node",name:"PARTICLE_INFO",declarations:[{type:"node_param",name:"yp",qualifier:["varying","vec4"],is_optional:true},{type:"node_param",name:"yq",qualifier:["varying","vec3"],is_optional:true},{type:"node_param",name:"yr",qualifier:["varying","vec3"],is_optional:true},{type:"node_param",name:"ys",qualifier:["varying","vec3"],is_optional:true},{type:"node_param",name:"node_PARTICLE_INFO_var_a_p_indices",qualifier:["attribute","float"],is_optional:true}],statements:[{type:"node_condition",parts:[{type:"node_if",expression:["PART_INFO_SIZE"],statements:[{type:"textline",tokens:["yp","[","3","]","=","Lj",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["PART_INFO_AGE"],statements:[{type:"textline",tokens:["yp","[","1","]","=","Li",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["PART_INFO_LT"],statements:[{type:"textline",tokens:["yp","[","2","]","=","Ll",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["PART_INFO_LOC"],statements:[{type:"textline",tokens:["yq","=","Lf",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["PART_INFO_IND"],statements:[{type:"textline",tokens:["yp","[","0","]","=","node_PARTICLE_INFO_var_a_p_indices",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["PART_INFO_VEL"],statements:[{type:"textline",tokens:["yr","=","Lg",";"]}]}]},{type:"node_condition",parts:[{type:"node_if",expression:["PART_INFO_A_VEL"],statements:[{type:"textline",tokens:["ys","=","Lh",";"]}]}]}]},{type:"nodes_global"},{type:"textline",tokens:["void","Lm","(","in","vec3","Lf",",","in","vec3","Lg",",","in","vec3","Lh",",","in","float","Li",",","in","float","Lj",",","in","vec2","Lk",",","in","float","Ll",")","{"]},{type:"condition",parts:[{type:"if",expression:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["bT","=","Lk","+","0.5",";"]}]}}]},{type:"nodes_main"},{type:"textline",tokens:["}"]}]},exports["include/blending.glslf"] = {type:"group",parts:[{type:"textline",tokens:["float","Lo","=","0.0",";","float","Lp","=","1.0",";","vec3","Lu","(","vec3","Lq",")","{","float","Lr",",","Ls",";","vec4","Lt",";","Lt","=","vec4","(","Lo",",","-","Lp","/","3.0",",","2.0","/","3.0",",","-","Lp",")",";","Lt","=","mix","(","vec4","(","Lq",".","bg",",","Lt",".","wz",")",",","vec4","(","Lq",".","gb",",","Lt",".","xy",")",",","step","(","Lq",".","b",",","Lq",".","g",")",")",";","Lt","=","mix","(","vec4","(","Lt",".","xyw",",","Lq",".","r",")",",","vec4","(","Lq",".","r",",","Lt",".","yzx",")",",","step","(","Lt",".","x",",","Lq",".","r",")",")",";","Lr","=","Lt",".","x","-","min","(","Lt",".","w",",","Lt",".","y",")",";","Ls","=","1.0e-10",";","return","vec3","(","abs","(","Lt",".","z","+","(","Lt",".","w","-","Lt",".","y",")","/","(","6.0","*","Lr","+","Ls",")",")",",","Lr","/","(","Lt",".","x","+","Ls",")",",","Lt",".","x",")",";","}","vec3","Ly","(","vec3","Lv",")","{","vec3","Lw",";","vec4","Lx",";","Lx","=","vec4","(","Lp",",","2.0","/","3.0",",","Lp","/","3.0",",","3.0",")",";","Lw","=","abs","(","fract","(","vec3","(","Lv",".","r",",","Lv",".","r",",","Lv",".","r",")","+","Lx",".","xyz",")","*","6.0","-","Lx",".","www",")",";","return","Lv",".","b","*","mix","(","Lx",".","xxx",",","clamp","(","Lw","-","Lx",".","xxx",",","Lo",",","Lp",")",",","Lv",".","g",")",";","}","vec3","LC","(","vec3","Lz",",","vec3","LA",",","float","LB",")","{","return","mix","(","Lz",",","LA",",","LB",")",";","}","vec3","LG","(","vec3","LD",",","vec3","LE",",","float","LF",")","{","return","LF","*","LD","+","LE",";","}","vec3","LK","(","vec3","LH",",","vec3","LI",",","float","LJ",")","{","return","LI","-","LJ","*","LH",";","}","vec3","LP","(","vec3","LL",",","vec3","LM",",","float","LN",")","{","float","LO",";","LO","=","Lp","-","LN",";","return","(","vec3","(","LO",")","+","LN","*","LL",")","*","LM",";","}","vec3","LU","(","vec3","LQ",",","vec3","LR",",","float","LS",")","{","vec3","LT",";","LT","=","vec3","(","Lp","-","LS",")",";","return","vec3","(","Lp",")","-","(","LT","+","LS","*","(","vec3","(","Lp",")","-","LQ",")",")","*","(","vec3","(","Lp",")","-","LR",")",";","}","vec3","LZ","(","vec3","LV",",","vec3","LW",",","float","LX",")","{","vec3","LY",";","LY","=","vec3","(","Lp","-","LX",")",";","return","mix","(","LW","*","(","LY","+","2.0","*","LX","*","LV",")",",","vec3","(","Lp",")","-","(","LY","+","2.0","*","LX","*","(","vec3","(","Lp",")","-","LV",")",")","*","(","vec3","(","Lp",")","-","LW",")",",","step","(","0.5",",","LW",")",")",";","}","vec3","Mc","(","vec3","L_",",","vec3","Ma",",","float","Mb",")","{","return","mix","(","Ma",",","abs","(","L_","-","Ma",")",",","Mb",")",";","}","vec3","Mg","(","vec3","Md",",","vec3","Me",",","float","Mf",")","{","return","mix","(","Me",",","Me","/","(","Md","+","step","(","Md",",","vec3","(","Lo",")",")",")",",","Mf",")",";","}","vec3","Mk","(","vec3","Mh",",","vec3","Mi",",","float","Mj",")","{","return","mix","(","Mi",",","min","(","Mh",",","Mi",")",",","Mj",")",";","}","vec3","Mo","(","vec3","Ml",",","vec3","Mm",",","float","Mn",")","{","return","max","(","Mn","*","Ml",",","Mm",")",";","}","vec3","Mu","(","vec3","Mp",",","vec3","Mq",",","float","Mr",")","{","vec3","Ms",",","Mt",";","Ms","=","Lu","(","Mq",")",";","if","(","Ms",".","y","!=","Lo",")","{","Mt","=","Lu","(","Mp",")",";","Mt","=","Ly","(","vec3","(","Ms",".","x",",","Mt",".","yz",")",")",";","return","mix","(","Mp",",","Mt",",","Mr",")",";","}","return","Mp",";","}","vec3","MA","(","vec3","Mv",",","vec3","Mw",",","float","Mx",")","{","vec3","My",",","Mz",";","My","=","Lu","(","Mv",")",";","if","(","My",".","y","!=","Lo",")","{","Mz","=","Lu","(","Mw",")",";","return","Ly","(","vec3","(","My",".","x",",","mix","(","My",".","y",",","Mz",".","y",",","Mx",")",",","My",".","z",")",")",";","}","return","Mv",";","}","vec3","MG","(","vec3","MB",",","vec3","MC",",","float","MD",")","{","vec3","ME",",","MF",";","ME","=","Lu","(","MB",")",";","MF","=","Lu","(","MC",")",";","return","Ly","(","vec3","(","ME",".","xy",",","mix","(","ME",".","z",",","MF",".","z",",","MD",")",")",")",";","}","vec3","MM","(","vec3","MH",",","vec3","MI",",","float","MJ",")","{","vec3","MK",",","ML",";","MK","=","Lu","(","MI",")",";","if","(","MK",".","y","!=","Lo",")","{","ML","=","Lu","(","MH",")",";","ML","=","Ly","(","vec3","(","MK",".","xy",",","ML",".","z",")",")",";","return","mix","(","MH",",","ML",",","MJ",")",";","}","return","MH",";","}","vec3","MR","(","vec3","MN",",","vec3","MO",",","float","MP",")","{","vec3","MQ",";","MQ","=","vec3","(","Lp",")","-","(","vec3","(","Lp",")","-","MO",")","*","(","vec3","(","Lp",")","-","MN",")",";","return","mix","(","MN",",","(","(","vec3","(","Lp",")","-","MN",")","*","MO","*","MN",")","+","MN","*","MQ",",","MP",")",";","}","vec3","MV","(","vec3","MS",",","vec3","MT",",","float","MU",")","{","return","MS","+","MU","*","(","2.0","*","MT","-","Lp",")",";","}","float","Na","(","float","MW",",","float","MX",",","float","MY",",","float","MZ",")","{","float","M_",";","M_","=","Lp","-","MZ",";","return","(","M_","+","MY","*","MW",")","*","MX",";","}","float","Ng","(","float","Nb",",","float","Nc",",","float","Nd",",","float","Ne",")","{","float","Nf",";","Nf","=","Lp","-","Ne",";","return","Lp","-","(","Nf","+","Nd","*","(","Lp","-","Nb",")",")","*","(","Lp","-","Nc",")",";","}","float","Nm","(","float","Nh",",","float","Ni",",","float","Nj",",","float","Nk",")","{","float","Nl",";","Nl","=","Lp","-","Nk",";","return","mix","(","Ni","*","(","Nl","+","2.0","*","Nj","*","Nh",")",",","Lp","-","(","Nl","+","2.0","*","Nj","*","(","Lp","-","Nh",")",")","*","(","Lp","-","Ni",")",",","step","(","0.5",",","Ni",")",")",";","}"]}]},exports["include/fxaa.glslf"] = {type:"group",parts:[{type:"condition",parts:[{type:"ifndef",name:"FXAA_PS3",group:{type:"group",parts:[{type:"define",name:"FXAA_PS3",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_360",group:{type:"group",parts:[{type:"define",name:"FXAA_360",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_360_OPT",group:{type:"group",parts:[{type:"define",name:"FXAA_360_OPT",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_PC",group:{type:"group",parts:[{type:"define",name:"FXAA_PC",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_PC_CONSOLE",group:{type:"group",parts:[{type:"define",name:"FXAA_PC_CONSOLE",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_GLSL_120",group:{type:"group",parts:[{type:"define",name:"FXAA_GLSL_120",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_GLSL_130",group:{type:"group",parts:[{type:"define",name:"FXAA_GLSL_130",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_HLSL_3",group:{type:"group",parts:[{type:"define",name:"FXAA_HLSL_3",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_HLSL_4",group:{type:"group",parts:[{type:"define",name:"FXAA_HLSL_4",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_HLSL_5",group:{type:"group",parts:[{type:"define",name:"FXAA_HLSL_5",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_GREEN_AS_LUMA",group:{type:"group",parts:[{type:"define",name:"FXAA_GREEN_AS_LUMA",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_EARLY_EXIT",group:{type:"group",parts:[{type:"define",name:"FXAA_EARLY_EXIT",tokens:["1"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_DISCARD",group:{type:"group",parts:[{type:"define",name:"FXAA_DISCARD",tokens:["0"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_FAST_PIXEL_OFFSET",group:{type:"group",parts:[{type:"condition",parts:[{type:"ifdef",name:"GL_EXT_gpu_shader4",group:{type:"group",parts:[{type:"define",name:"FXAA_FAST_PIXEL_OFFSET",tokens:["1"]}]}}]},{type:"condition",parts:[{type:"ifdef",name:"GL_NV_gpu_shader5",group:{type:"group",parts:[{type:"define",name:"FXAA_FAST_PIXEL_OFFSET",tokens:["1"]}]}}]},{type:"condition",parts:[{type:"ifdef",name:"GL_ARB_gpu_shader5",group:{type:"group",parts:[{type:"define",name:"FXAA_FAST_PIXEL_OFFSET",tokens:["1"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_FAST_PIXEL_OFFSET",group:{type:"group",parts:[{type:"define",name:"FXAA_FAST_PIXEL_OFFSET",tokens:["0"]}]}}]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_GATHER4_ALPHA",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:["FXAA_HLSL_5",1,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_GATHER4_ALPHA",tokens:["1"]}]}}]},{type:"condition",parts:[{type:"ifdef",name:"GL_ARB_gpu_shader5",group:{type:"group",parts:[{type:"define",name:"FXAA_GATHER4_ALPHA",tokens:["1"]}]}}]},{type:"condition",parts:[{type:"ifdef",name:"GL_NV_gpu_shader5",group:{type:"group",parts:[{type:"define",name:"FXAA_GATHER4_ALPHA",tokens:["1"]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_GATHER4_ALPHA",group:{type:"group",parts:[{type:"define",name:"FXAA_GATHER4_ALPHA",tokens:["0"]}]}}]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:[1],group:{type:"group",parts:[{type:"define",name:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:[0],group:{type:"group",parts:[{type:"define",name:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",tokens:["4.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:[0],group:{type:"group",parts:[{type:"define",name:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",tokens:["2.0"]}]}}]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",group:{type:"group",parts:[{type:"condition",parts:[{type:"if",expression:[1],group:{type:"group",parts:[{type:"define",name:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",tokens:["0.125"]}]}},{type:"else",group:{type:"group",parts:[{type:"define",name:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",tokens:["0.25"]}]}}]}]}}]},{type:"condition",parts:[{type:"ifndef",name:"FXAA_QUALITY_PRESET",group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PRESET",tokens:["12"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",10,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["3"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["3.0"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["12.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",11,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["4"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["3.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["12.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",12,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["5"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["4.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["12.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",13,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["6"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["4.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["12.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",14,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["7"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["4.0"]},{type:"define",name:"FXAA_QUALITY_P6",tokens:["12.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",15,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["8"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P6",tokens:["4.0"]},{type:"define",name:"FXAA_QUALITY_P7",tokens:["12.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",20,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["3"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",21,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["4"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",22,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["5"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",23,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["6"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",24,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["7"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["3.0"]},{type:"define",name:"FXAA_QUALITY_P6",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",25,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["8"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P6",tokens:["4.0"]},{type:"define",name:"FXAA_QUALITY_P7",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",26,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["9"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P6",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P7",tokens:["4.0"]},{type:"define",name:"FXAA_QUALITY_P8",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",27,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["10"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P6",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P7",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P8",tokens:["4.0"]},{type:"define",name:"FXAA_QUALITY_P9",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",28,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["11"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P6",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P7",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P8",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P9",tokens:["4.0"]},{type:"define",name:"FXAA_QUALITY_P10",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",29,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["12"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P6",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P7",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P8",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P9",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P10",tokens:["4.0"]},{type:"define",name:"FXAA_QUALITY_P11",tokens:["8.0"]}]}}]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PRESET",39,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"define",name:"FXAA_QUALITY_PS",tokens:["12"]},{type:"define",name:"FXAA_QUALITY_P0",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P1",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P2",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P3",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P4",tokens:["1.0"]},{type:"define",name:"FXAA_QUALITY_P5",tokens:["1.5"]},{type:"define",name:"FXAA_QUALITY_P6",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P7",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P8",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P9",tokens:["2.0"]},{type:"define",name:"FXAA_QUALITY_P10",tokens:["4.0"]},{type:"define",name:"FXAA_QUALITY_P11",tokens:["8.0"]}]}}]},{type:"var",name:"FXAA_QUALITY_P12",tokens:["0.0"]},{type:"textline",tokens:["float","NI","(","float","NH",")","{","return","clamp","(","NH",",","0.0",",","1.0",")",";","}"]},{type:"condition",parts:[{type:"if",expression:["FXAA_BLEND4WEB",1,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["vec4","NL","(","sampler2D","NJ",",","vec2","NK",")","{","return","texture2D","(","NJ",",","NK",")",";","}","vec4","NQ","(","sampler2D","NM",",","vec2","NN",",","vec2","NO",",","vec2","NP",")","{","return","texture2D","(","NM",",","NN","+","(","NO","*","NP",")",")",";","}"]}]}}]},{type:"textline",tokens:["vec4","Ow","(","vec2","NR",",","sampler2D","NS",",","vec2","NT",",","float","NU",",","float","NV",",","float","NW",")","{","bool","NX",",","NY",",","NZ",",","N_",",","Oa",";","float","Ob",",","Oc",",","Od",",","Oe",",","Of",",","Og",",","Oh",",","Oi",",","Oj",",","Ok",",","Ol",",","Om",",","On",",","Oo",",","Op",";","vec4","Oq",";","vec2","Or",",","Os",",","Ot",",","Ou",",","Ov",";","Or",".","x","=","NR",".","x",";","Or",".","y","=","NR",".","y",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_GATHER4_ALPHA",1,{type:"equal_expr",places:2}],group:{type:"group",parts:[]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["Oq","=","NL","(","NS",",","Or",")",";","Ob","=","bI","(","Oq",")",";","Oc","=","bI","(","NQ","(","NS",",","Or",",","vec2","(","0",",","1",")",",","NT",".","xy",")",")",";","Od","=","bI","(","NQ","(","NS",",","Or",",","vec2","(","1",",","0",")",",","NT",".","xy",")",")",";","Oe","=","bI","(","NQ","(","NS",",","Or",",","vec2","(","0",",","-","1",")",",","NT",".","xy",")",")",";","Of","=","bI","(","NQ","(","NS",",","Or",",","vec2","(","-","1",",","0",")",",","NT",".","xy",")",")",";"]}]}}]},{type:"textline",tokens:["Og","=","max","(","Oc",",","Ob",")",";","Oh","=","min","(","Oc",",","Ob",")",";","Og","=","max","(","Od",",","Og",")",";","Oh","=","min","(","Od",",","Oh",")",";","Oi","=","max","(","Oe",",","Of",")",";","Oj","=","min","(","Oe",",","Of",")",";","Og","=","max","(","Oi",",","Og",")",";","Oh","=","min","(","Oj",",","Oh",")",";","Oj","=","Og","*","NV",";","Oh","=","Og","-","Oh",";","Oj","=","max","(","NW",",","Oj",")",";","NX","=","Oh","<","Oj",";","if","(","NX",")","return","Oq",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_GATHER4_ALPHA",0,{type:"equal_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["Oj","=","bI","(","NQ","(","NS",",","Or",",","vec2","(","-","1",",","-","1",")",",","NT",".","xy",")",")",";","Og","=","bI","(","NQ","(","NS",",","Or",",","vec2","(","1",",","1",")",",","NT",".","xy",")",")",";","Oi","=","bI","(","NQ","(","NS",",","Or",",","vec2","(","1",",","-","1",")",",","NT",".","xy",")",")",";","Ok","=","bI","(","NQ","(","NS",",","Or",",","vec2","(","-","1",",","1",")",",","NT",".","xy",")",")",";"]}]}},{type:"else",group:{type:"group",parts:[]}}]},{type:"textline",tokens:["Ol","=","Oe","+","Oc",";","Om","=","Of","+","Od",";","Oh","=","1.0","/","Oh",";","On","=","Ol","+","Om",";","Ol","=","(","-","2.0","*","Ob",")","+","Ol",";","Om","=","(","-","2.0","*","Ob",")","+","Om",";","Oo","=","Oi","+","Og",";","Oi","=","Oj","+","Oi",";","Op","=","(","-","2.0","*","Od",")","+","Oo",";","Oi","=","(","-","2.0","*","Oe",")","+","Oi",";","Oj","=","Oj","+","Ok",";","Og","=","Ok","+","Og",";","Op","=","(","abs","(","Ol",")","*","2.0",")","+","abs","(","Op",")",";","Oi","=","(","abs","(","Om",")","*","2.0",")","+","abs","(","Oi",")",";","Om","=","(","-","2.0","*","Of",")","+","Oj",";","Og","=","(","-","2.0","*","Oc",")","+","Og",";","Op","=","abs","(","Om",")","+","Op",";","Oi","=","abs","(","Og",")","+","Oi",";","Oo","=","Oj","+","Oo",";","Oj","=","NT",".","x",";","NX","=","Op",">=","Oi",";","Oo","=","On","*","2.0","+","Oo",";","if","(","!","NX",")","Oe","=","Of",";","if","(","!","NX",")","Oc","=","Od",";","if","(","NX",")","Oj","=","NT",".","y",";","Oo","=","(","Oo","*","(","1.0","/","12.0",")",")","-","Ob",";","Od","=","Oe","-","Ob",";","Of","=","Oc","-","Ob",";","Oe","=","Oe","+","Ob",";","Oc","=","Oc","+","Ob",";","NY","=","abs","(","Od",")",">=","abs","(","Of",")",";","Of","=","max","(","abs","(","Od",")",",","abs","(","Of",")",")",";","if","(","NY",")","Oj","=","-","Oj",";","Oh","=","NI","(","abs","(","Oo",")","*","Oh",")",";","Os",".","x","=","Or",".","x",";","Os",".","y","=","Or",".","y",";","Ot",".","x","=","(","!","NX",")","?","0.0",":","NT",".","x",";","Ot",".","y","=","(","NX",")","?","0.0",":","NT",".","y",";","if","(","!","NX",")","Os",".","x","+=","Oj","*","0.5",";","if","(","NX",")","Os",".","y","+=","Oj","*","0.5",";","Ou",".","x","=","Os",".","x","-","Ot",".","x","*","FXAA_QUALITY_P0",";","Ou",".","y","=","Os",".","y","-","Ot",".","y","*","FXAA_QUALITY_P0",";","Ov",".","x","=","Os",".","x","+","Ot",".","x","*","FXAA_QUALITY_P0",";","Ov",".","y","=","Os",".","y","+","Ot",".","y","*","FXAA_QUALITY_P0",";","Oo","=","(","(","-","2.0",")","*","Oh",")","+","3.0",";","Od","=","bI","(","NL","(","NS",",","Ou",")",")",";","Oh","=","Oh","*","Oh",";","On","=","bI","(","NL","(","NS",",","Ov",")",")",";","if","(","!","NY",")","Oe","=","Oc",";","Of","=","Of","*","1.0","/","4.0",";","Oc","=","Ob","-","Oe","*","0.5",";","Oh","=","Oo","*","Oh",";","NY","=","Oc","<","0.0",";","Od","-=","Oe","*","0.5",";","On","-=","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P1",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P1",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P1",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P1",";","if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P2",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P2",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P2",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P2",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PS",3,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P3",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P3",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P3",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P3",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PS",4,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P4",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P4",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P4",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P4",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PS",5,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P5",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P5",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P5",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P5",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PS",6,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P6",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P6",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P6",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P6",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PS",7,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P7",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P7",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P7",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P7",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PS",8,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P8",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P8",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P8",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P8",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PS",9,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P9",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P9",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P9",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P9",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PS",10,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P10",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P10",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P10",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P10",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PS",11,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P11",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P11",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P11",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P11",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_QUALITY_PS",12,{type:"g_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["if","(","Oa",")","{","if","(","!","NZ",")","Od","=","bI","(","NL","(","NS",",","Ou",".","xy",")",")",";","if","(","!","N_",")","On","=","bI","(","NL","(","NS",",","Ov",".","xy",")",")",";","if","(","!","NZ",")","Od","=","Od","-","Oe","*","0.5",";","if","(","!","N_",")","On","=","On","-","Oe","*","0.5",";","NZ","=","abs","(","Od",")",">=","Of",";","N_","=","abs","(","On",")",">=","Of",";","if","(","!","NZ",")","Ou",".","x","-=","Ot",".","x","*","FXAA_QUALITY_P12",";","if","(","!","NZ",")","Ou",".","y","-=","Ot",".","y","*","FXAA_QUALITY_P12",";","Oa","=","(","!","NZ",")","||","(","!","N_",")",";","if","(","!","N_",")","Ov",".","x","+=","Ot",".","x","*","FXAA_QUALITY_P12",";","if","(","!","N_",")","Ov",".","y","+=","Ot",".","y","*","FXAA_QUALITY_P12",";","}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["}"]}]}}]},{type:"textline",tokens:["}","Of","=","Or",".","x","-","Ou",".","x",";","Oe","=","Ov",".","x","-","Or",".","x",";","if","(","!","NX",")","Of","=","Or",".","y","-","Ou",".","y",";","if","(","!","NX",")","Oe","=","Ov",".","y","-","Or",".","y",";","N_","=","(","Od","<","0.0",")","!=","NY",";","Od","=","(","Oe","+","Of",")",";","NY","=","(","On","<","0.0",")","!=","NY",";","Od","=","1.0","/","Od",";","NZ","=","Of","<","Oe",";","Oe","=","min","(","Of",",","Oe",")",";","NY","=","NZ","?","N_",":","NY",";","Oh","=","Oh","*","Oh",";","Od","=","(","Oe","*","(","-","Od",")",")","+","0.5",";","Oh","=","Oh","*","NU",";","Od","=","NY","?","Od",":","0.0",";","Oh","=","max","(","Od",",","Oh",")",";","if","(","!","NX",")","Or",".","x","+=","Oh","*","Oj",";","if","(","NX",")","Or",".","y","+=","Oh","*","Oj",";"]},{type:"condition",parts:[{type:"if",expression:["FXAA_DISCARD",1,{type:"equal_expr",places:2},"FXAA_BLEND4WEB",1,{type:"equal_expr",places:2},{type:"logical_or_expr",places:2}],group:{type:"group",parts:[{type:"textline",tokens:["return","NL","(","NS",",","Or",")",";"]}]}},{type:"else",group:{type:"group",parts:[{type:"textline",tokens:["return","vec4","(","NL","(","NS",",","Or",")",".","xyz",",","Ob",")",";"]}]}}]},{type:"textline",tokens:["}"]}]},exports["include/depth_fetch.glslf"] = {type:"group",parts:[{type:"textline",tokens:["float","OD","(","in","sampler2D","Ox",",","in","vec2","Oy",",","in","vec2","Oz",")","{","float","OA",",","OB",",","OC",";","OA","=","texture2D","(","Ox",",","Oy",")",".","r",";","OB","=","Oz",".","x",";","OC","=","Oz",".","y",";","OB","=","2.0","*","OB","/","(","OB","+","OC","-","(","2.0","*","OA","-","1.0",")","*","(","OC","-","OB",")",")",";","return","OB",";","}"]}]}}